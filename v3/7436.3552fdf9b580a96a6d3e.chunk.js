!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="cab256da-3a62-4246-9e9f-5fa79c4afb0a",e._sentryDebugIdIdentifier="sentry-dbid-cab256da-3a62-4246-9e9f-5fa79c4afb0a")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"c87aa722cb3cb6eb3ac10b8f2032443089be80ba"},(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[7436],{99904:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(96540),r=n(3914),l=n(25624);var i=n(87659);const o=e=>{const t=new Date(e||void 0).toDateString();return"Invalid Date"!==t?t:null},s=()=>{const e=(0,r.ap)(),t=(0,a.useMemo)((()=>`dismissedBumpedWarningKey_${e?.id}`),[e?.id]),[n,,,s]=(0,i.A)(!localStorage.getItem(t)),{trialEndsAtRaw:d}=(0,l.A)(),u=d&&"EarlybirdAndCommunitySunset"==e?.metadata?.joinTrialCode,c=n&&d&&u,m=u?"EARLYB25":null,g=(0,a.useCallback)((()=>{localStorage.setItem(t,!0),s()}),[s,t]);return{isModalVisible:c,isEarlybirdAndCommunitySunset:u,coupon:m,trialEndsAt:o(d),onClose:g}}},57436:(e,t,n)=>{n.r(t),n.d(t,{OptOut:()=>h.A,OptOutModal:()=>x.A,TrialMessage:()=>w.A,TrialWarning:()=>A,default:()=>S,useBusinessPlan:()=>C.A,useTrial:()=>s.A});var a=n(96540),r=n(22292),l=n(39225),i=n(47767),o=n(5668),s=n(25624),d=n(99904),u=n(68164),c=n(47731);const m=(0,l.A)((()=>n.e(6566).then(n.bind(n,16566))),"PostSignup"),g=(0,l.A)((()=>n.e(6147).then(n.bind(n,46147))),"TrialWelcome"),p=(0,l.A)((()=>n.e(1839).then(n.bind(n,41839))),"BumpedWarning"),b=(0,l.A)((()=>Promise.all([n.e(8938),n.e(6661)]).then(n.bind(n,46661))),"NewUserForm"),f=()=>{const{search:e}=(0,i.zy)(),{isEarlybirdAndCommunitySunset:t}=(0,d.A)(),{trialWelcomeVisible:n,paymentProvider:l}=(0,s.A)(),{email:f,isAnonymous:y}=(0,r.uW)(),[E]=(0,o.tF)("signupSurveySubmitted"),A=(0,u.I)(),h=(0,c.J)();if(!t&&!A&&"AWS"!==l&&!y&&!E)return a.createElement(a.Suspense,{fallback:""},a.createElement(b,{email:f}));if(h&&"true"==new URLSearchParams(e).get("post_survey_submit"))return a.createElement(a.Suspense,{fallback:""},a.createElement(m,null));const x=t?p:n?g:null;return x?a.createElement(a.Suspense,{fallback:""},a.createElement(x,null)):null};var y=n(93155);const E=(0,l.A)((()=>Promise.all([n.e(6384),n.e(86)]).then(n.bind(n,60086))),"Warnings"),A=e=>{const t=(0,r.uW)("isAnonymous");return y.bO&&!t?a.createElement(a.Suspense,{fallback:""},a.createElement(E,e)):null};var h=n(66732),x=n(34641),w=n(93476),C=n(28061);const S=()=>{const e=(0,r.uW)("isAnonymous");return window.envSettings.onprem||e?null:a.createElement(f,null)}},34641:(e,t,n)=>{n.d(t,{A:()=>b});var a=n(96540),r=n(63950),l=n.n(r),i=n(65336),o=n(19673),s=n(71835),d=n(92155),u=n(50876),c=n(63314),m=n(87659),g=n(97118);const p=(0,d.A)(i.Button),b=e=>{let{onConfirm:t,onDecline:n=l(),onCancellingEnd:r=l()}=e;const d=(0,o.M4)(),[b,f]=(0,s.A)(),{id:y}=(0,g.A)(),{sendLog:E,isReady:A}=(0,u.A)(),[h,,x,w]=(0,m.A)(),C=(0,a.useCallback)((()=>{x(),d({productId:y}).then((()=>{b({header:"Successfully canceled subscription",text:"You are now on Community plan"}),E({feature:"TrialOptOut",isSuccess:!0})})).catch((()=>{f({header:"Failed to cancel the subscription",text:"Remained on Business plan"}),E({feature:"TrialOptOut",isFailure:!0,error:"Failed to cancel the subscription"})})).finally((()=>{r(),w()}))}),[y,A]),S=(0,a.useCallback)((()=>{t?t():C()}),[t,C]);return a.createElement(i.Modal,{backdropProps:{backdropBlur:!0}},a.createElement(c.Ay,{feature:"TrialOptOut"},a.createElement(i.ModalContent,{width:{base:140}},a.createElement(i.ModalHeader,null,a.createElement(i.Flex,{gap:2,alignItems:"center"},a.createElement(i.H4,null,"Opt out of Free Trial"))),a.createElement(i.ModalBody,null,h?a.createElement(i.Flex,{height:"100px"},a.createElement(i.TextBig,null,"Changing billing plan...")):a.createElement(i.Flex,{gap:2,column:!0},a.createElement(i.H3,null,"Are You Sure?"),a.createElement(i.TextBig,null,"It looks like you have chosen to opt-out of your free 30-day business trial. Are you sure you do not want to experience all the features Netdata has to offer?"),a.createElement(i.TextBig,null,"By opting out, you will be downgraded to the community plan immediately."))),a.createElement(i.ModalFooter,null,a.createElement(i.Flex,{justifyContent:"end",gap:4,padding:[1,2]},a.createElement(p,{feature:"TrialOptOut",label:"Yes, I am sure!",flavour:"hollow",small:!0,onClick:S,disabled:!y||h,textTransform:""}),a.createElement(p,{feature:"TrialOptOut",label:"No, I want the trial!",small:!0,onClick:n,disabled:h,textTransform:""}))))))}},35454:(e,t,n)=>{n.d(t,{$B:()=>i,TB:()=>o,W1:()=>r,ml:()=>l,ue:()=>a});const a={default:"successSemi",warning:"warningSemi",critical:"errorSemi"},r={default:{background:"successSemi",border:"success"},warning:{background:"warningSemi",border:"warning"},critical:{background:"errorSemi",border:"error"}},l=[30,15,3,2,1],i="dismissedTrialWelcome",o="dismissedTrialWarningDate"},93476:(e,t,n)=>{n.d(t,{A:()=>g});var a=n(58168),r=n(96540),l=n(65336),i=n(63950),o=n.n(i),s=n(25624),d=n(99904),u=n(24864);const c={banner:{color:"main"},sidebar:{lineHeight:"1.6",color:"main"},freePlanUpgrade:{lineHeight:"1.6",color:"main"},billing:{color:"textLite"}},m=e=>{let{canUpgrade:t,onUpdateClick:n=o(),children:i,...s}=e;return t?r.createElement(l.Box,(0,a.A)({"data-testid":"upgrade-to-business-banner",onClick:n,as:l.Text,cursor:"pointer",textDecoration:"underline",color:"main"},s),i):null},g=e=>{let{flavour:t,couponRemainingDays:n,onUpdateClick:i=o()}=e;const{daysRemaining:g,canUpgrade:p,trialEndsAt:b}=(0,s.A)(),{isEarlybirdAndCommunitySunset:f}=(0,d.A)(),y=(0,r.useMemo)((()=>({isCoupon:n>0,isEarlybirdAndCommunitySunset:f,isBanner:"banner"==t,isSidebar:"sidebar"==t,isBilling:"billing"==t,isFreePlanUpgrade:"freePlanUpgrade"==t})),[t,n]);return r.createElement(l.Flex,{justifyContent:y.isBilling?"start":"center",alignItems:"center",width:"100%",gap:2},y.isCoupon?r.createElement(l.Flex,{column:!0},r.createElement(l.Text,(0,a.A)({},c[t],{fontSize:"10px",strong:!0}),"BLACK FRIDAY OFFER"),r.createElement(u.Te,(0,a.A)({},c[t],{fontSize:"38px",lineHeight:.8,strong:!0}),"20% off")):y.isEarlybirdAndCommunitySunset?r.createElement(l.Flex,{column:!0,gap:1,alignItems:"center"},r.createElement(l.Text,(0,a.A)({},c[t],{textAlign:"center",strong:!0},y.isBanner?{}:{fontSize:"10px"}),"Thank you for your support!"," ",y.isBanner?r.createElement(m,{canUpgrade:p,onUpdateClick:i},"Upgrade"):null),r.createElement(l.Text,(0,a.A)({},c[t],{color:"primary",fontSize:"22px",lineHeight:.8,strong:!0}),"25% Lifetime off")):y.isFreePlanUpgrade?r.createElement(l.Text,c[t],"Upgrade your plan for unlimited access and Business features."):r.createElement(l.Text,c[t],"You have ",r.createElement(l.Text,(0,a.A)({strong:!0},c[t]),`${g} days`)," ","left to explore all the features of Netdata Business."," ",y.isBilling&&r.createElement(r.Fragment,null,"Trial ends at"," ",r.createElement(l.Text,(0,a.A)({strong:!0},c[t]),b),"."," "),y.isBanner?r.createElement(m,{canUpgrade:p,onUpdateClick:i},"Consider upgrading for unlimited access."):r.createElement(r.Fragment,null,"Consider upgrading for unlimited access.")))}},24864:(e,t,n)=>{n.d(t,{PL:()=>o,Te:()=>s,bg:()=>i});var a=n(8711),r=n(65336),l=n(35454);const i=(0,a.default)(r.Flex).attrs({position:"relative"}).withConfig({displayName:"styled__TrialWarningSidebar",componentId:"sc-66x250-0"})(["background-color:",";border-width:1px;border-style:dashed;border-color:",";border-radius:2px;"],(e=>{let{type:t}=e;return(0,r.getColor)(l.W1[t]?.background)}),(e=>{let{type:t}=e;return(0,r.getColor)(l.W1[t]?.border)})),o=(0,a.default)(r.Button).withConfig({displayName:"styled__TrialUpgradeButton",componentId:"sc-66x250-1"})(["flex:auto;"]),s=(0,a.default)(r.Text).attrs({strong:!0,lineHeight:.8}).withConfig({displayName:"styled__PromoText",componentId:"sc-66x250-2"})(["background-color:",";background-image:linear-gradient( 43deg,"," 0%,"," 46%,"," 100% );-webkit-background-clip:text;-webkit-text-fill-color:transparent;"],(0,r.getColor)("primary"),(0,r.getColor)(["blue","aquamarine"]),(0,r.getColor)(["purple","mauve"]),(0,r.getColor)("primary"))},66732:(e,t,n)=>{n.d(t,{A:()=>d});var a=n(96540),r=n(63950),l=n.n(r),i=n(65336),o=n(50876);const s={default:"Or you can opt to downgrade immediately",billing:"Or you can opt to downgrade immediately"},d=e=>{let{flavour:t="default",onOptOutClick:n=l(),...r}=e;const{sendLog:d,isReady:u}=(0,o.A)(),c=(0,a.useCallback)((()=>{n(),d({feature:"TrialOptOut",isStart:!0})}),[u]);return a.createElement(i.Text,r,"After the trial, you'll automatically switch to the free Community plan."," ",a.createElement(i.Box,{"data-testid":"upgrade-to-business-banner",onClick:c,as:i.Text,cursor:"pointer",textDecoration:"underline",color:"primary"},s[t]),".")}},25624:(e,t,n)=>{n.d(t,{A:()=>f});var a=n(96540),r=n(46741),l=n(5668),i=n(22292),o=(n(8159),n(98992),n(37550),n(16074)),s=n(6593);var d=n(19673),u=n(50503),c=n(35454),m=n(42728),g=n(68164),p=n(93155);const b=e=>{const t=new Date(e||void 0).toLocaleDateString();return"Invalid Date"!==t?t:null},f=()=>{const e=(0,g.I)(),{loaded:t,value:n,refresh:f}=(0,d.JN)(),{isFailure:y}=(0,u.A)(),{slug:E,trialEndsAt:A,paymentProvider:h}=n||{},x=(0,a.useMemo)((()=>(e=>{if(!e)return null;const t=new Date(e)-new Date;return Math.ceil(t/864e5)})(A)),[A]),w=t&&!!A&&!e,C=(0,r.JT)("billing:Manage"),[S]=(0,l.ng)("trialModalDismissed"),T=p.bO&&C&&(w||y)&&!localStorage.getItem(c.$B)&&!S,[k,v]=(0,a.useState)(localStorage.getItem(c.TB)),B=(0,a.useMemo)((()=>p.bO&&w),[w]),[O,I]=(0,a.useState)(),F=(D=x)>15?"default":D>5?"warning":"critical";var D;const U=!(0,i.uW)("isAnonymous")&&C;return(0,a.useEffect)((()=>{const e=((e,t,n,a)=>{if(t<0)return!1;const r=new Date(e||void 0);if(!(0,o.f)(r))return!1;const l=new Date(a||void 0);if(!(0,o.f)(l))return!0;const{days:i}=(0,s.F)({start:l,end:r}),d=i;return n.some((e=>e>=t&&e<d))})(A,x,c.ml,k);I(p.bO&&e)}),[A,x,k]),{trialWelcomeVisible:T,sidebarWarningVisible:B,bannerVisible:O,dismissBanner:()=>{const e=(new Date).toISOString();v(e),localStorage.setItem(c.TB,e)},daysRemaining:x,trialEndsAt:b(A),trialEndsAtRaw:A,type:F,canUpgrade:U,onTrial:w,refreshPlan:f,planIsFreeOrEarlyBird:(0,m.Kj)(E),paymentProvider:h}}},97118:(e,t,n)=>{n.d(t,{A:()=>s,s:()=>o});var a=n(19673),r=n(42728),l=n(88116);const i=e=>{const{value:t}=(0,a.lU)();if(!t?.[e])return{};const n=Object.keys(t[e]).sort(r.M7)[0];return{id:t[e][n]?t[e][n][0]?.id:null,version:n}},o=()=>i(l.VH.homelab),s=()=>i(l.VH.free)}}]);