!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="abf63ce2-f86b-4b76-8977-17b7dbff6710",e._sentryDebugIdIdentifier="sentry-dbid-abf63ce2-f86b-4b76-8977-17b7dbff6710")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"c87aa722cb3cb6eb3ac10b8f2032443089be80ba"},(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[764],{65923:(e,t,n)=>{n.d(t,{R:()=>r,H:()=>c});var a=n(47444);const l=(0,a.eU)({key:"celloSuccessfulInitialization",default:!1}),o=(0,a.eU)({key:"celloLauncherActive",default:!1});var i=n(96540);const r=()=>{const[e,t]=(0,a.L4)(l);return{isInitialized:e,init:(0,i.useCallback)((()=>t(!0)),[t])}},c=()=>{const[e,t]=(0,a.L4)(o);return{isActive:e,activate:(0,i.useCallback)((()=>t(!0)),[t]),deactivate:(0,i.useCallback)((()=>t(!1)),[t])}}},90764:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Be});var a=n(96540),l=n(65336),o=n(5668),i=n(58168),r=(n(41393),n(81454),n(8711)),c=n(47767),s=n(68831),d=n(87659),m=n(43529),u=n(78862),p=n(29217),g=n(37944),h=n(3914);const f=e=>{let{...t}=e;const n=(0,g.A)(),o=(0,h.dg)();return a.createElement(p.A,{content:o?"Settings":"Space settings"},a.createElement(l.Flex,{padding:[0,1]},a.createElement(l.Button,(0,i.A)({flavour:"borderless",icon:"gear",neutral:!0,onClick:n,small:!0,"data-ga":"left-sidebar::click-space-settings::global-view","data-testid":"workspaceBar-manageSpace"},t))))};var E=n(50105),b=n(86287),w=n(71847),x=n(64754),C=n(76634),k=n(69765),I=n(22292);const v=(0,r.default)(l.Flex).attrs((e=>({position:"absolute",width:{min:75},column:!0,gap:2,background:"white",zIndex:33,round:3,top:"50%",left:"150%",...e}))).withConfig({displayName:"styled__Container",componentId:"sc-1tnzix5-0"})(["transform:translateY(-50%);"]),y=(0,r.default)(l.Flex).attrs((e=>({width:8,height:8,alignItems:"center",justifyContent:"center",position:"absolute",top:0,right:0,cursor:"pointer",...e}))).withConfig({displayName:"styled__CloseButtonContainer",componentId:"sc-1tnzix5-1"})([""]),A=(0,r.default)(l.Flex).attrs((e=>({position:"absolute",left:"-12px",top:"50%",...e}))).withConfig({displayName:"styled__ArrowContainer",componentId:"sc-1tnzix5-2"})(["transform:translateY(-50%);"]),S=e=>a.createElement(y,e,a.createElement(l.Icon,{name:"x",color:"textLite"}));const F=(0,n(55337).g)(v,"light"),_=e=>{let{doNotShowAgain:t,onDoNotShowAgainChange:n,onClose:o}=e;return a.createElement(F,{padding:[6,8,6,6]},a.createElement(l.Flex,{gap:2,alignItems:"center"},a.createElement(l.Icon,{name:"giftbox",size:"large",color:"primary"}),a.createElement(l.TextBig,{strong:!0},"Invite and earn")),a.createElement(l.TextBig,null,"Share Netdata with your network and get rewarded for every user"),a.createElement(l.Flex,{gap:2,alignItems:"center"},a.createElement(l.Checkbox,{checked:t,onChange:n}),a.createElement(l.Text,null,"Don't show this again")),a.createElement(S,{onClick:o}),a.createElement(A,null,a.createElement(l.Icon,{name:"triangle",rotate:1,height:"12px",width:"12px",color:"white"})))};var N=n(65923),P=n(68801),B=n(37618);const T=`cello-launcher-announcement-dismiss-${window.envSettings?.visitor}`,z=()=>{const e=(0,k.ID)(),t=(0,B.tB)(e),n=(0,I.uW)("isAnonymous"),o=localStorage.getItem(T),{isInitialized:i}=(0,N.R)(),{isActive:r,deactivate:c}=(0,N.H)(),[s,d]=(0,a.useState)(),m=(0,a.useMemo)((()=>r&&!o),[r,o]),u=(0,a.useCallback)((e=>{d(e)}),[d]),p=(0,a.useCallback)((()=>{s&&localStorage.setItem(T,!0),c()}),[s,c]);return!i||t||n?null:a.createElement(l.Flex,{position:"relative"},a.createElement(l.IconButton,{className:P.zs,"data-testid":"open-referrer-modal",cursor:"pointer",width:"20px",height:"20px",icon:"giftbox",tooltip:"Spread the word, earn $1000+ with Netdata!",round:8,onClick:p,iconColor:"iconColor",neutral:!0}),m?a.createElement(_,{doNotShowAgain:s,onDoNotShowAgainChange:u,onClose:p}):null)};var L=n(54972),R=n(96382);const D=()=>{const e=(0,R.ae)("email"),{handleOpenProfileModal:t}=(0,L.A)();return"loading"===e.state||e.state.hasError?null:a.createElement(l.IconButton,{flavour:"borderless","data-testid":"open-email-notification",cursor:"pointer",width:"20px",height:"20px",onClick:()=>t("notifications"),icon:e.contents.email?"notification_shortcut_enabled":"notification_shortcut_disabled",tooltip:"Email Notifications","data-ga":"left-sidebar::click-user-notification-settings::global-view",iconColor:"iconColor"})},H=(0,a.memo)(D);const W=(0,n(92155).A)(x.A),$=r.default.div.withConfig({displayName:"spaces__Separator",componentId:"sc-1gbju6k-0"})(["height:1px;width:",";background:",";"],(0,l.getSizeBy)(3),(0,l.getColor)("border")),O=(0,r.default)(l.Button).withConfig({displayName:"spaces__DocButton",componentId:"sc-1gbju6k-1"})(["&&{> .button-icon{width:20px;height:20px;}}"]),j=(0,r.default)(l.Button).withConfig({displayName:"spaces__ExpandButton",componentId:"sc-1gbju6k-2"})(["&&{> .button-icon{width:6px;height:9px;}}"]),U={onClickOut:()=>(0,w.H)("header-help","click-out-modal","global-view"),onCloseClick:()=>(0,w.H)("header-help","click-close","global-view"),onOpenIssueClick:()=>(0,w.H)("header-help","click-\u03bfpen-issue","global-view"),onContributeClick:()=>(0,w.H)("header-help","click-contribute","global-view"),onOpenBugClick:()=>(0,w.H)("header-help","click-bug","global-view"),onSupportClick:()=>(0,w.H)("header-help","click-support","global-view"),onVisitDocumentClick:()=>(0,w.H)("header-help","click-visit-doc","global-view"),onGoToDemoClick:()=>(0,w.H)("header-help","click-go-to-demo","global-view")},M=e=>{let{spacePanelCollapsed:t,toggleSpacePanel:n}=e;const o=(0,h.Pk)(),r=(0,h.vt)(),[g,,w,x]=(0,d.A)(),k=(0,c.Zp)(),I=(0,a.useCallback)((function(){let{slug:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return k(`/spaces/${e}`)}),[]);return a.createElement(l.Flex,{background:"sideBarMini","data-testid":"workspaceBar",padding:[3,0],column:!0,alignItems:"center",gap:6,height:"100vh",justifyContent:"between"},a.createElement(l.Flex,{column:!0,"data-testid":"workspaceBar-spaces-list",gap:4,alignItems:"center",overflow:"hidden"},a.createElement(m.A,{"data-testid":"workspaceBar-netdataLogo"}),t&&a.createElement(j,{"data-testid":"workspaceBar-expandButton",onClick:n,icon:"chevron_right_s",neutral:!0,flavour:"borderless",small:!0}),a.createElement(l.Flex,{column:!0,"data-testid":"workspaceBar-spacesList",gap:4,overflow:{vertical:"auto"}},o.map((e=>a.createElement(u.A,{testIdPrefix:"workspaceBar-space",key:e,spaceId:e,active:e===r})))),a.createElement(C.A,{permission:"user:CreateSpace"},a.createElement($,{"data-testid":"workspaceBar-separator"})),a.createElement(p.A,{content:"Create a new Space",align:"right"},a.createElement(W,{permission:"user:CreateSpace",ifForbidden:"hide",icon:"plus",onClick:w,"data-testid":"workspaceBar-addSpace-button",feature:"CreateSpace",isStart:!0}))),a.createElement(l.Flex,{column:!0,"data-testid":"workspaceBar-actionsList",gap:4,alignItems:"center"},a.createElement(l.Flex,{column:!0,gap:1,alignItems:"center"},a.createElement(z,null),a.createElement(C.A,{permission:"user:ChangeSpaceRoomNotifications"},a.createElement(H,null)),a.createElement(l.Documentation,(0,i.A)({app:"cloud",demoUrl:s.A.demoUrl},U),(e=>a.createElement(p.A,{content:"Read documentation, engage with the community and let us know about any feature requests or bugs",align:"right"},a.createElement(O,{neutral:!0,flavour:"borderless",icon:"question",onClick:e,"data-ga":"header-help::click-help::global-view","data-testid":"documentation-button",title:"Need help?"})))),a.createElement(f,null)),a.createElement(b.A,null)),g&&a.createElement(E.A,{onClose:x,onDone:I}))};n(17333),n(3064),n(98992),n(54520),n(72577);var V=n(31629),Y=n(9224),G=n(47762),Z=n(87337),q=n(63129),J=n(45123),Q=n(79296),X=n(24266),K=n(91069);const ee=(0,r.default)(l.Icon).withConfig({displayName:"styled__TrashIcon",componentId:"sc-1hr9uxl-0"})(["&:hover{fill:",";opacity:0.6;}"],(0,l.getColor)("textFocus")),te=(0,r.default)(l.TextSmall).withConfig({displayName:"styled__UrlWrapper",componentId:"sc-1hr9uxl-1"})(["overflow-wrap:anywhere;"]),ne=(0,r.default)(l.Icon).withConfig({displayName:"styled__StyledIcon",componentId:"sc-1hr9uxl-2"})(["transform:",";"],(e=>{let{right:t}=e;return t?"rotate(0)":"rotate(180deg)"})),ae=e=>{/https?:\/\//.test(e)||(e=`http://${e}`),location.replace(e)},le=function(e,t){let{openList:n,setSelectedId:l}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=(0,I.uW)("isAnonymous"),i=(0,a.useRef)(),r=(0,h.UV)("ids"),c=(0,h.jw)(r);return(0,a.useCallback)((async()=>{if(l(e),i.current||(i.current=await(async(e,t)=>{let{spaces:n=[],id:a,isAnonymous:l=!1}=t;if(!l){const{data:e}=await(0,Y.ys)(a);let t;if(e.length&&(t=await Promise.any(n.map((t=>V.A.get((0,K.t)({spaceId:t.id})).then((n=>{let{data:a}=n;return Promise.any(a.map((n=>(0,q.uQ)({roomId:n.id,spaceId:t.id}).then((a=>{let{data:l}=a;const o=l.find((t=>{let{id:n}=t;return e.includes(n)}));if(!o)throw new Error("can't find matching node");return`${window.envSettings.cloudUrl}/spaces/${t.slug}/rooms/${n.slug}/nodes/${o.id}`})))))}))))).then((e=>e)).catch((()=>{}))),t)return t}const o=e.filter((e=>!/netdata\.cloud\//.test(e)));if(o.length)return await Promise.any(o.map((e=>{let t=/^https?:\/\//.test(e)?e:`http://${e}`;return t=t.replace(/\/+$/,""),V.A.get(`${t}/api/v1/registry?action=hello`).then((()=>t))}))).then((e=>e)).catch((()=>{}))})(t,{spaces:c,id:e,isAnonymous:o})),l(),!i.current)return n();ae(i.current)}),[t,c])},oe=e=>{let{id:t,selectedId:n,setSelectedId:o}=e;const i=(0,G.xY)(t,"name"),[r,,c,s]=(0,d.A)(),m=(0,Z.rE)(),u=(0,G.xY)(t,"urls"),p=le(t,u,{openList:c,setSelectedId:o}),g=(0,a.useCallback)((()=>{r?s():p()}),[r,p]),h=n===t;return a.createElement(a.Fragment,null,a.createElement(J.A,{onClick:g,isSidebar:!0,padding:[1,2,1,4],testid:`visitedNodes-${i}`,disabled:!!n&&!h,selected:h,loading:h,iconColor:"textNoFocus",textColor:"textNoFocus",Wrapper:l.TextSmall},i),r&&a.createElement(l.Flex,{column:!0,margin:[1,3],padding:[2],border:{side:"all",color:"placeholder"},round:2},a.createElement(l.Text,{textAlign:"center"},"We couldn't connect to any of your instances, here is the list:"),u.map((e=>a.createElement(J.A,{key:e,onClick:()=>ae(e),isSidebar:!0,testid:`visitedNodes-node-${e}`,actions:a.createElement(l.Flex,{flex:!1,margin:[0,0,0,1]},a.createElement(ee,{name:"trashcan",size:"small",color:"textNoFocus",onClick:n=>{n.stopPropagation(),m(t,e)},width:"16px",height:"16px"})),padding:[2],Wrapper:te,iconColor:"textNoFocus",textColor:"textNoFocus"},e)))))},ie=()=>{const e=(0,Z.iw)(),[t,n]=(0,d.A)(e.length>0);(0,a.useEffect)((()=>{t||n()}),[e.length]);const[o,i]=(0,a.useState)(""),r=(0,Z.vS)(o),[c,s]=(0,a.useState)();return e.length?a.createElement(Q.A,{isOpen:t,toggleOpen:n,label:a.createElement(l.Flex,{padding:[1,0],flex:!0,justifyContent:"between",alignItems:"center"},a.createElement(l.Flex,{alignItems:"center",gap:2},a.createElement(l.Icon,{name:"node_hollow",color:"textNoFocus",width:"14px",height:"14px"}),a.createElement(l.TextSmall,{color:"textNoFocus"},"Visited Nodes")),a.createElement(ne,{right:!t,name:"chevron_down",size:"small",color:"textNoFocus"})),headerTestId:"visitedNodes"},e.length>3&&a.createElement(l.Flex,{padding:[1,2,2,4]},a.createElement(l.SearchInput,{"data-testid":"search-visited-nodes-input",onChange:i,value:o,size:"tiny"})),a.createElement(l.Flex,{padding:[0,0,2],column:!0},r.length?r.map((e=>a.createElement(oe,{key:e,id:e,selectedId:c,setSelectedId:s}))):a.createElement(l.Text,{padding:[3,5]},"No nodes match your search"))):null},re=(0,a.memo)((()=>a.createElement(X.Ay,{fallback:""},a.createElement(a.Suspense,{fallback:""},a.createElement(ie,null)))));var ce=n(79412),se=n(77279),de=n(46741);const me=e=>t=>{const n=(0,h.vt)();return a.createElement(e,(0,i.A)({},t,{key:n}))};var ue=n(12938);const pe={isSidebar:!0,padding:[1,2,1,4],textColor:"menuItem",Wrapper:l.TextSmall},ge=me((()=>{const e=(0,de.JT)("room:Create"),t=(0,de.JT)("room:Read"),[n,o]=(0,d.A)(t),[i,,r,c]=(0,d.A)(!1),s=(0,a.useCallback)((t=>{t.stopPropagation(),e&&r()}),[e]);return a.createElement(a.Fragment,null,a.createElement(Q.A,{"data-testid":"workspaceRooms-menuList",disabled:!t,headerTestId:"workspaceRooms-warRooms",isOpen:n,label:a.createElement(l.Flex,{padding:[1,0],margin:[0,0,1,0],flex:!0,justifyContent:"between",alignItems:"center",height:"24px"},a.createElement(l.Flex,{alignItems:"center",gap:2},a.createElement(l.Icon,{name:"space_new",color:"menuItem",width:"14px",height:"14px"}),a.createElement(l.TextSmall,{color:"menuItem"},"Rooms")),a.createElement(l.Flex,{alignItems:"center",gap:2},a.createElement(p.A,{content:"Create a new room",align:"right"},a.createElement(x.A,{permission:"room:Create",tiny:!0,icon:"plus",onClick:s,"data-testid":"workspaceRooms-addWarRoom-button"})),a.createElement(se.v,{right:!n,name:"chevron_down",size:"small",color:"textLite"}))),toggleOpen:o},a.createElement(l.Flex,{column:!0,"data-testid":"workspaceRooms-warRoomsList",padding:[0,0,1]},a.createElement(ue.A,pe))),i&&a.createElement(ce.n,{onClose:c,isSubmodal:!1}))}));var he=n(39225),fe=n(67602);const Ee=(0,r.default)(l.Flex).attrs({alignItems:"center",justifyContent:"center",width:10,height:4,round:.5,background:"sideBarMini"}).withConfig({displayName:"styled__AdminPill",componentId:"sc-1ps23b1-0"})(["opacity:0;",":hover &{opacity:1;}"],J.G),be=(0,he.A)((()=>n.e(2007).then(n.bind(n,62007))),"CurrentPlan"),we=e=>{let{children:t,onToggle:n}=e;return a.createElement(l.Flex,{column:!0,gap:1},a.createElement(l.Flex,{justifyContent:"between",alignItems:"center"},a.createElement(l.Flex,{alignItems:"center",overflow:"hidden"},t),a.createElement(l.Button,{onClick:n,icon:"chevron_left",neutral:!0,flavour:"hollow",small:!0})),a.createElement(a.Suspense,{fallback:""},a.createElement(be,null)))};var xe=n(38413),Ce=n(53285),ke=n(27776),Ie=n(38819);const ve=()=>{const e=(0,Ie.PP)(),[t,n]=(0,ke.XL)(),{reset:l}=(0,ke.b8)(),o=(0,a.useCallback)((()=>{l(),(0,Ie.Z8)({...e,integrationsModalOpen:"true"}),n("true")}),[l,e]);return{isIntegrationsVisible:t,hideIntegrations:(0,a.useCallback)((()=>{(0,Ie.Z8)({...e,integrationsModalOpen:""}),n("")}),[e]),onIntegrationsClick:o}};var ye=n(56284);const Ae=(0,he.A)((()=>Promise.all([n.e(7436),n.e(8164)]).then(n.bind(n,57436)).then((e=>({default:e.TrialWarning})))),"TrialWarning"),Se=(0,r.default)(Q.N).attrs({padding:[2],color:"textLite"}).withConfig({displayName:"spacePanel__ListHeader",componentId:"sc-1275zgk-0"})([""]),Fe=e=>a.createElement(l.Flex,(0,i.A)({alignItems:"center",gap:2},e),a.createElement(Ee,null,a.createElement(l.TextFemto,{strong:!0,color:"text"},"ADMIN")),a.createElement(l.Flex,{opacity:"medium"},a.createElement(l.Icon,{name:"padlock",size:"small",width:"18px",height:"18px",color:"text"}))),_e={iconWidth:"14px",iconHeight:"14px",padding:[1,2],gap:2,isSidebar:!0,textColor:"menuItem",iconColor:"menuItem",Wrapper:l.TextSmall},Ne=e=>{let{toggleSpacePanel:t}=e;const n=(0,h.ap)(),[o,,r,c]=(0,d.A)(),[,s]=(0,fe.A)("manageInvitations"),m=(0,h.dg)(),{onIntegrationsClick:u}=ve();return a.createElement(a.Fragment,null,o&&a.createElement(xe.A,{title:"Integrations",onClose:c}),a.createElement(Q.A,{"data-testid":"spacesPanel",isOpen:!0,label:a.createElement(we,{onToggle:t},a.createElement(ye.default,{maxFontSize:20,Component:l.TextSmall,strong:!0,title:n.name,lineHeight:"unset"},n.name)),headerTestId:"spacesPanel-activeSpaceHeader",Header:Se},a.createElement(l.Flex,{column:!0,padding:[2,0,1],"data-testid":"spacesPanel-menuList"},a.createElement(a.Suspense,{fallback:""},a.createElement(Ae,{flavour:"sidebar"})),a.createElement(J.A,(0,i.A)({onClick:u,testid:"agentDashboard-addIntegrations",dataGa:"integrations::click-add-integrations::sideMenu",icon:"integrations"},_e),"Integrations"),m?null:a.createElement(a.Fragment,null,a.createElement(Ce.A,{permission:"node:Create"},(e=>a.createElement(J.A,(0,i.A)({actions:e?null:a.createElement(Fe,{"data-testid":"adminWarning-notAdmin"}),disabled:!e,onClick:r,testid:"spacesPanel-claimNodes",icon:"nodes_hollow"},_e),"Connect Nodes"))),a.createElement(Ce.A,{permission:"space:InviteUser"},(e=>a.createElement(J.A,(0,i.A)({actions:e?null:a.createElement(Fe,{"data-testid":"adminWarning-cannotInvite"}),disabled:!e,onClick:s,testid:"spacesPanel-inviteUsers",icon:"user"},_e),"Invite Users")))))))},Pe=e=>{let{spacePanelCollapsed:t,toggleSpacePanel:n}=e;return a.createElement(l.Collapsible,{width:56,background:"sideBar",border:{side:"right",color:"borderSecondary"},open:!t,direction:"horizontal"},a.createElement(l.Flex,{flex:!0,width:56,column:!0,overflow:{vertical:"hidden"},padding:[2,0],position:"relative"},a.createElement(Ne,{toggleSpacePanel:n}),a.createElement(l.Flex,{overflow:{vertical:"auto"},flex:!0,column:!0},a.createElement(ge,null),a.createElement(re,null))))},Be=(0,a.memo)((()=>{const[e,t]=(0,o.tF)("spacePanelCollapsed"),{isIntegrationsVisible:n,hideIntegrations:i}=ve(),r=(0,a.useCallback)((()=>t(!e)),[e]);return(0,a.useLayoutEffect)((()=>{const e=setTimeout((()=>window.dispatchEvent(new Event("resize"))),400);return()=>clearTimeout(e)}),[e]),a.createElement(l.Flex,null,a.createElement(M,{spacePanelCollapsed:e,toggleSpacePanel:r}),a.createElement(Pe,{spacePanelCollapsed:e,toggleSpacePanel:r}),n&&a.createElement(xe.A,{title:"Integrations",onClose:i,flavour:"integrations"}))}))}}]);