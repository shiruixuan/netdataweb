!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="3370ba2c-8c32-4562-a610-2466becba646",e._sentryDebugIdIdentifier="sentry-dbid-3370ba2c-8c32-4562-a610-2466becba646")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"c87aa722cb3cb6eb3ac10b8f2032443089be80ba"},(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[195],{52919:(e,t,a)=>{a.d(t,{D7:()=>r,Jp:()=>d,NT:()=>m,N_:()=>h,iS:()=>i,vE:()=>c,v_:()=>o,xI:()=>s,z6:()=>u});var n=a(8711),l=a(65336);const o=n.default.img.withConfig({displayName:"styled__Illustration",componentId:"sc-1yhntgl-0"})(["margin:0 auto;"]),r=(0,n.default)(l.Text).withConfig({displayName:"styled__StyledText",componentId:"sc-1yhntgl-1"})(["display:block;"]),d=n.default.div.withConfig({displayName:"styled__TextHeader",componentId:"sc-1yhntgl-2"})(["margin-bottom:",";font-weight:700;"],(0,l.getSizeBy)(2)),s=n.default.div.withConfig({displayName:"styled__StaticCheckmarks",componentId:"sc-1yhntgl-3"})(["margin-top:",";margin-bottom:",";"],(0,l.getSizeBy)(2),(0,l.getSizeBy)(5)),i=n.default.div.withConfig({displayName:"styled__CheckmarkLine",componentId:"sc-1yhntgl-4"})(["display:flex;align-items:center;"]),c=(0,n.default)(l.Icon).withConfig({displayName:"styled__StyledIcon",componentId:"sc-1yhntgl-5"})(["margin-right:4px;height:18px;> use{fill:",";}"],(0,l.getColor)("primary")),m=(0,n.default)(c).withConfig({displayName:"styled__HelpIcon",componentId:"sc-1yhntgl-6"})(["vertical-align:middle;"]),u=n.default.div.withConfig({displayName:"styled__LearnMoreSection",componentId:"sc-1yhntgl-7"})(["margin-top:",";"],(0,l.getSizeBy)(4)),h=n.default.a.withConfig({displayName:"styled__Link",componentId:"sc-1yhntgl-8"})(["text-decoration:underline;color:",";&:visited{color:",";}"],(0,l.getColor)("success"),(0,l.getColor)("success"))},10195:(e,t,a)=>{a.r(t),a.d(t,{default:()=>V});var n=a(96540),l=a(65336),o=a(87659),r=a(35304),d=a(21591),s=a(47767),i=a(15327),c=a(74618),m=a(45765),u=a(78969),h=a(69765),b=a(3914),g=a(67544),y=a(49667),f=a(8018),p=a(52919);const E=e=>{let{onClose:t}=e;const a=(0,s.Zp)(),[o,r]=(0,n.useState)(!1),[d,E]=(0,n.useState)(""),{id:w,slug:A}=(0,b.ap)(),D=(0,h.ID)(),C=(0,h.QW)(),T=(0,n.useCallback)((e=>{let{slug:n}=e;t(),a(`/spaces/${A}/rooms/${C}/dashboards/${n}`)}),[A,C]),x=(0,g.Dn)(w,D,{onSuccess:T}),k=(0,n.useCallback)((()=>x({name:d})),[d]),_=d.length>0;return n.createElement(i.GO,{onClose:t},n.createElement(c.z,{onClose:t,title:"New Dashboard"},n.createElement(l.Button,{label:"Add",icon:"plus",onClick:k,"data-testid":"addNewDashboardModal-add-button"})),n.createElement(m.U,null,"Create new Dashboard"),n.createElement(i.Yv,null,n.createElement(f.A,{value:d,label:"Name",onChange:e=>{E(e.target.value)},isValid:o,setIsValid:r,isDirty:_,instantFeedback:"all",onKeyDown:e=>e.keyCode===u.I7&&o&&k,"data-testid":"addNewDashboardModal-dashboardName-input",containerStyles:{flex:{grow:0,shrink:0},margin:[0,0,4,0]}}),n.createElement(p.D7,null,n.createElement(p.Jp,null,"What can you do with Dashboards?"),"Combine all the metrics that matter to you, from all the nodes that matter to you, into one clean interface that helps you visually detect anomalies as they\u2019re happening. Building a new dashboard will only take a few minutes, and the metrics are always real-time."),n.createElement(p.xI,null,n.createElement(p.iS,null,n.createElement(p.vE,{name:"check"}),n.createElement(l.Text,null,"Add charts from your infrastructure")),n.createElement(p.iS,null,n.createElement(p.vE,{name:"check"}),n.createElement(l.Text,null,"Group information in a meaningful way")),n.createElement(p.z6,null,n.createElement(p.NT,{name:"help"}),n.createElement(l.Text,null,"Learn more about Dashboards")," ",n.createElement(p.N_,{href:"https://learn.netdata.cloud/docs/dashboards-and-charts/",target:"_blank",rel:"noopener noreferrer"},"In our documentation"))),n.createElement(p.v_,{src:y.$})))};var w=a(28738),A=a(63950),D=a.n(A),C=(a(41393),a(8159),a(98992),a(81454),a(37550),a(73865));const T=e=>{let{handleOpenAddDashboardModal:t,hasPermissionToAddDashboard:a,hasPermissionToDeleteDashboard:l,refetch:o}=e;const r=(0,h.XA)("name"),s=(0,g.Ts)(),i=(0,d.q)(),{hasLimitations:c,maxDashboards:m}=(0,C.A)(),u=async(e,t)=>{const a=(Array.isArray(e)?e:[e]).map((e=>{let{id:t}=e;return t}));await s({ids:a},{onSuccess:()=>t.resetRowSelection()}),o()},b=(0,n.useMemo)((()=>({delete:{confirmLabel:"Yes, delete",confirmationMessage:e=>n.createElement(n.Fragment,null,"You are about to delete ",n.createElement("strong",null,e.name)," from ",n.createElement("strong",null,r),".",n.createElement("br",null),"Are you sure you want to continue?"),confirmationTitle:e=>`Delete ${e.name}`,declineLabel:"Cancel",handleAction:u,tooltipText:"Delete dashboard",isVisible:l}})),[l]),y=(0,n.useMemo)((()=>({addEntry:{handleAction:t,isVisible:a,tooltipText:"Create dashboard",disabledTooltipText:`Your plan does not allow you to create more than ${m} dashboards.`,disabled:c&&i.length>=m},delete:{confirmLabel:"Yes, delete",confirmationMessage:(e,t)=>n.createElement(n.Fragment,null,"You are about to delete"," ",n.createElement("strong",null,t.length>1?`${t.length} dashboards`:t[0].name)," ","from ",n.createElement("strong",null,r),".",n.createElement("br",null),"Are you sure you want to continue?"),confirmationTitle:()=>"Delete",disabledTooltipText:"Delete is disabled because you haven't selected dashboards",declineLabel:"Cancel",handleAction:u,tooltipText:"Delete dashboards",isVisible:l}})));return{rowActions:l?b:[],bulkActions:[a,l].some(Boolean)?y:[]}};var x=a(68980),k=a(29217);const _=e=>{let t=new Date(e);t=t.getTime()===t.getTime()?t:new Date;const[,a,n,l]=t.toDateString().split(" ");return`${a} ${n}, ${l}`};var S=a(4659);const v=e=>{let{name:t}=e;return n.createElement(l.Flex,{width:"300px",column:!0,gap:1},n.createElement(l.Text,{strong:!0},"Locked!"),n.createElement(l.Text,null,"The dashboard ",n.createElement(l.Text,{strong:!0},t)," is locked."),n.createElement(l.Text,null,"Your plan is limited to 1 dashboard. You can delete some dashboards or upgrade your plan for no limitations."))},I=e=>{let{getValue:t,row:a}=e;const o="notAvailable"==a?.original?.state,r=t();return o?n.createElement(k.A,{content:n.createElement(v,{name:r}),align:"bottom",isBasic:!0},n.createElement(l.Flex,{alignItems:"center"},n.createElement(l.Text,null,r),n.createElement(l.Icon,{name:"padlock",height:"12px",color:"text"}))):n.createElement(S.A,{as:"Link",to:a.original.slug},r)};var N=a(46741);const L=e=>{let{refetch:t,handleOpenAddDashboardModal:a}=e;const[,o]=(0,n.useState)(),r=(0,d.q)(),s=(0,x.Sf)(r),i=(0,N.JT)("dashboard:Create"),c=(0,N.JT)("dashboard:Delete"),m=(0,n.useMemo)((()=>[{id:"name",accessorKey:"name",header:"Name",cell:I},{id:"updatedAt",accessorKey:"updatedAt",header:"Last modified",cell:e=>{let{getValue:t}=e;return n.createElement(l.TextSmall,null,_(t()))},sortingFn:"datetime"},{id:"createdAt",accessorKey:"createdAt",header:"Created",cell:e=>{let{getValue:t}=e;return n.createElement(l.TextSmall,null,_(t()))},sortingFn:"datetime"}]),[]),{rowActions:u,bulkActions:h}=T({dashboards:s,handleOpenAddDashboardModal:a,hasPermissionToAddDashboard:i,hasPermissionToDeleteDashboard:c,refetch:t});return{rowActions:u,bulkActions:h,data:s,enableSelection:c,columns:m,enableSorting:!0,globalFilterFn:(0,n.useCallback)(((e,t,a)=>{const n=a?.toLowerCase?.(),l=e.getValue("name")?.toLowerCase?.(),o=`${_(e.getValue("updatedAt"))?.toLowerCase?.()}`,r=`${_(e.getValue("createdAt"))?.toLowerCase?.()}`;return l.includes(n)||o.includes(n)||r.includes(n)}),[]),setGlobalFilter:o}},F=[{id:"updatedAt",desc:!0}],M=e=>{let{refetch:t=D(),handleOpenAddDashboardModal:a}=e;const{enableSelection:o,columns:r,data:d,rowActions:s,bulkActions:i,enableSorting:c,globalFilterFn:m,setGlobalFilter:u}=L({refetch:t,handleOpenAddDashboardModal:a});return n.createElement(l.Table,{rowActions:s,enableSelection:o,data:d,dataColumns:r,bulkActions:i,enableSorting:c,globalFilterFn:m,onSearch:u,testPrefixCallback:e=>e.name,sortBy:F,title:"Dashboards"})};var $=a(63314);const V=()=>{const e=(0,r.A)(),[t,,a,s]=(0,o.A)(!1);return(0,d.RQ)()?n.createElement($.Ay,{feature:"DashboardOverview"},n.createElement(l.Flex,{position:"relative",width:"100%",height:"100%",flex:"1",column:!0,padding:[3,3,0],overflow:"hidden"},n.createElement(M,{refetch:e,handleOpenAddDashboardModal:a}),t&&n.createElement(E,{onClose:s}))):n.createElement(w.A,{title:"Loading dashboards..."})}}}]);