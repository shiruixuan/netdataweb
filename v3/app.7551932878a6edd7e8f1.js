!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="a708274f-b05d-4abf-b2a1-2069e56b51f0",e._sentryDebugIdIdentifier="sentry-dbid-a708274f-b05d-4abf-b2a1-2069e56b51f0")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"c87aa722cb3cb6eb3ac10b8f2032443089be80ba"},(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[3524],{71847:(e,t,a)=>{"use strict";a.d(t,{H:()=>r});const r=function(e,t,a,r,n){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"gaCustomEvent";if(window.envSettings.tracking){if(window.dataLayer){const s={event:o,eventCategory:e,eventAction:t,eventLabel:a,eventValue:r,eventResults:n};window.dataLayer.push(s)}window.gtag&&window.gtag("event","gaCustomEvent",{eventCategory:e,eventAction:t,eventLabel:a,eventValue:r,eventResults:n}),window.posthog?.__loaded&&window.posthog.capture(o,{eventCategory:e,eventAction:t,eventLabel:a,eventValue:r})}}},80158:(e,t,a)=>{"use strict";a.d(t,{P3:()=>n,QU:()=>i,Vn:()=>s,Yv:()=>l,Zr:()=>o});var r=a(86263);const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return(0,r.default)(e,t)},o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e.toLowerCase():e;return t.charAt(0).toUpperCase()+t.slice(1)},s=e=>e.replace(/([a-z])([A-Z])/g,"$1 $2"),i=e=>e.replace(/([^:]\/)\/+/g,"$1"),l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e=e.trim(),e=e.replace(/\s+/g,"-"),e=e.replace(/[^a-zA-Z0-9-]/g,""),e=e.toLowerCase(),e}},63314:(e,t,a)=>{"use strict";a.d(t,{K_:()=>i,DL:()=>m,_0:()=>d,Ay:()=>g});a(3064),a(98992),a(72577);var r=a(96540),n=a(50876),o=a(58168);var s=a(67276);const i=(0,r.createContext)({}),l={allowLogInvisible:!0},c=e=>{let{children:t,logImpression:a=!0,options:o={},delay:c=750,...d}=e;const u={...l,...o},m=(0,r.useContext)(i),[g,p]=(0,r.useState)(),h=(0,r.useRef)(),f=(0,r.useRef)(),{sendLog:y,isReady:v}=(0,n.A)(),A=(0,r.useCallback)((e=>{const t=e[0];t&&g!==t.isIntersecting&&p(t.isIntersecting)}),[]),b=(0,r.useCallback)((()=>{const e=new IntersectionObserver(A,{root:null,rootMargin:"0px",threshold:.5}),t=h?.current?.childNodes,a=Array.from(t||[]).find((e=>null!==e.offsetParent));a&&e.observe(a)}),[h?.current]);return(0,r.useEffect)((()=>{u.allowLogInvisible||b()}),[u.allowLogInvisible]),(0,r.useEffect)((()=>{let e=!0,t=null;const r={action:s.o1.elementViewed,...m,...d};return v&&f?.current!==JSON.stringify(r)&&a&&(u.allowLogInvisible||g)&&(t=setTimeout((()=>{e&&(y(r),f.current=JSON.stringify(r))}),c)),()=>{e=!1,t&&(clearTimeout(t),t=null)}}),[v,a,g,d]),r.createElement(i.Consumer,null,(e=>r.createElement(i.Provider,{value:{...e,...d}},r.createElement("div",{ref:h,style:{display:"contents"}},t))))},d=(u=c,e=>r.createElement(u,(0,o.A)({},e,{isSuccess:!0})));var u;const m=(e=>t=>r.createElement(e,(0,o.A)({},t,{isFailure:!0})))(c),g=c},67276:(e,t,a)=>{"use strict";a.d(t,{KI:()=>r,lO:()=>n,mu:()=>i,o1:()=>s,yq:()=>o});const r={success:"success",fail:"failure"},n={visitor:"visitor"},o={sequence:"telemetrySequence",session:"telemetrySessionId"},s={elementViewed:"element-viewed",buttonClicked:"button-clicked"},i={start:"start",end:"end"}},50876:(e,t,a)=>{"use strict";a.d(t,{A:()=>v});var r=a(96540),n=a(63950),o=a.n(n),s=a(37618),i=a(31629);var l=a(3914),c=a(63314),d=a(35600),u=a(75542);const m="undefined"!==typeof process&&!!process?.env?.JEST_WORKER_ID;var g=a(69418),p=a(67276),h=a(67990),f=a(88982),y=a(47762);const v=()=>{if(m)return{sendLog:o(),isReady:!0};const e=(0,u.A)(),{isAnonymous:t,...a}=e,n=(0,l.vt)(),v=(0,r.useContext)(c.K_),[,A,b]=(0,g.A)(),S=a.id&&(!A||t),k=(0,f.n)("id"),I=(0,h.gr)(k,"ids"),w=(0,y.BU)(I),E=(0,y.Ig)(I),x=(0,y.GE)(I),C=(0,y.no)(I),T=(0,r.useCallback)(((e,t)=>{const r={...t?{...v}:{},...e},{feature:o,action:l,isStart:c,isSuccess:u,isFailure:m,eventReason:g,...h}=r;return(e=>i.A.post("/api/v1/telemetry/push",e,{allow401:!0}))({"@timestamp":(new Date).toISOString(),labels:{...h,...window.localNetdataRegistry.mg?{machine:window.localNetdataRegistry.mg}:{},...window.localNetdataRegistry.nd?{nodeId:window.localNetdataRegistry.nd}:{}},event:{action:l,sequence:(0,d.Il)(),provider:s.Ay?"agent":"app",...u||m?{outcome:u?p.KI.success:p.KI.fail}:{},...c?{type:[p.mu.start]}:u||m?{type:[p.mu.end]}:{},...g?{reason:g}:{}},user:a,url:{full:window?.location?.href},Netdata:{...n?{space:{id:n}}:{},statistics:{nodes:{total:s.Ay?1:b,...s.Ay?{}:{live:(w||[]).length,stale:(E||[]).length,offline:(x||[]).length,created:(C||[]).length}}},telemetry:{feature:o,session:{id:(0,d.u0)()},visitor:{id:window.envSettings?.visitor}}}}).catch((e=>{"production"!==window.envSettings.nodeEnv&&(console.groupCollapsed("[Netdata telemetry error]"),console.warn(e),console.groupEnd())}))}),[a,t,b,A,n,S]),N=(0,r.useCallback)(((e,t)=>T({action:p.o1.buttonClicked,...e},t)),[]);return{sendLog:T,sendButtonClickedLog:N,isReady:S,user:e}}},75542:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(96540),n=a(22292),o=a(37618);const s=()=>{const{id:e,email:t,isAnonymous:a}=(0,n.uW)();return(0,r.useMemo)((()=>({id:a?window.localNetdataRegistry.pg||window.envSettings.visitor:e||"",email:a?void 0:t,domain:a?window.localNetdataRegistry.registry||"localhost":o.Ay?(window.envSettings?.apiUrl||"").replace(/^https:\/\//,""):location.host,isAnonymous:a})),[e,t,a])}},35600:(e,t,a)=>{"use strict";a.d(t,{Il:()=>o,u0:()=>s,y:()=>i});a(9920),a(98992),a(3949);var r=a(67276),n=a(33829);const o=()=>{const e=r.yq.sequence,t=parseInt(window.sessionStorage?.getItem(e)||0,10);return window.sessionStorage?.setItem(e,t+1),t},s=()=>(sessionStorage.getItem(r.yq.session)||sessionStorage.setItem(r.yq.session,(0,n.A)()),sessionStorage.getItem(r.yq.session)||""),i=()=>{Object.values(r.yq).forEach((e=>sessionStorage.removeItem(e)))}},21290:(e,t,a)=>{"use strict";a.d(t,{$j:()=>g,ii:()=>u});var r=a(96540),n=a(87991),o=a(38819),s=a(82838);const i=!!(Intl&&Intl.DateTimeFormat&&navigator.language),l=e=>"number"===typeof e?new Date(e):e,c=e=>(e=l(e))?(0,n.GP)(e,"MM/dd/yyyy"):"",d=e=>(e=l(e))?(0,n.GP)(e,"HH:mm"):"",u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Date(new Date(e).getTime()+60*parseInt(t)*60*1e3)},m=(e,t)=>{let{locale:a,...r}=t;return new Intl.DateTimeFormat(a??navigator.language,(e=>{let{long:t,isTime:a,secs:r,timezone:n,...o}=e;return{hourCycle:"h23",...a?{}:t?{weekday:"short",year:"numeric",month:"short",day:"2-digit"}:{dateStyle:"short"},...a&&{timeStyle:r?"medium":"short"},timeZone:n,...o}})(r)).format(e)},g=e=>{const{utc:t,offset:a}=(e=>{let{utc:t}=(0,o.PP)();return(0,s.Md)("default",t,e)})(e),n=(0,r.useMemo)((()=>i?(e,a)=>m(e,{long:!0,timezone:t,...a}):c),[t]),l=(0,r.useMemo)((()=>i?(e,a)=>m(e,{secs:!0,isTime:!0,timezone:t,...a}):d),[t]);return{localeDateString:n,localeTimeString:l,utcOffset:a}}},65570:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>o,pb:()=>r});a(74648),a(17333),a(98992),a(23215),a(54520);const r=(e,t)=>{let{omit:a=[],keep:r=[]}=t;return a.length||r.length?e.filter((e=>r.length?r.includes(e):!a.includes(e))):e},n=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e===t)return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;const o=r(Object.keys(e),a),s=r(Object.keys(t),a);if(o.length!==s.length)return!1;const i=Object.prototype.hasOwnProperty.bind(t);return o.every((a=>!!i(a)&&n(e[a],t[a])))},o=n},64454:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});a(14905),a(98992),a(8872),a(25509),a(65223),a(60321),a(41927),a(11632),a(64377),a(66771),a(12516),a(68931),a(52514),a(35694),a(52774),a(49536),a(21926),a(94483),a(16215);var r=a(65570);const n=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e===t||"object"!==typeof e||null===e||"object"!==typeof t||null===t?t:Array.isArray(t)?((e,t,a)=>{const o=(0,r.pb)(e,a);return o.reduce(((e,t,r)=>(e.push(n(t,o[r],a)),e)),[])})(e,0,a):((e,t,a)=>{const o=(0,r.pb)([...new Set([...Object.keys(e),...Object.keys(t)])],a),s=Object.prototype.hasOwnProperty.bind(t);return o.reduce(((r,o)=>(s(o)?r[o]=n(e[o],t[o],a):r[o]=e[o],r)),{})})(e,t,a)},o=n},93155:(e,t,a)=>{"use strict";a.d(t,{Dm:()=>f,GW:()=>v,Mh:()=>p,Rj:()=>A,bO:()=>h,gf:()=>y,q:()=>b});const r="mobileAppNotifications",n="trialWarning",o="alertConfiguration",s="editAlertConfiguration",i="hasFacetSelection",l="hasCello",c="nodeButton",d="juan",u=[n,o,r,l,i],m={};function g(e){if(u.includes(e))return()=>!0;let t=localStorage.getItem(e);null===t&&(t=m[e]?"true":"false");const a="true"===t;return e=>e||a}const p=g(r)(),h=g(n)(),f=g(o)(),y=(g(s)(),g(i)()),v=g(l)(),A=g(c)(),b=g(d)()},38819:(e,t,a)=>{"use strict";a.d(t,{PP:()=>d,Pg:()=>h,W6:()=>p,Z8:()=>g,yq:()=>m});a(41393),a(14905),a(98992),a(81454),a(8872);var r=a(49870),n=a.n(r),o=a(55364),s=a.n(o),i=a(90179),l=a.n(i);const c=/[&;]/,d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:decodeURIComponent(window.location.hash.substr(1));if(0===e.length)return{};return e.split(c).reduce(((e,t)=>{const a=t.indexOf("=");if(-1!==a){e[t.substring(0,a)]=t.substring(a+1)}return e}),{})},u=e=>{const t=Object.entries(e);return 0===t.length?"":t.map((e=>{let[t,a]=e;return`${t}=${encodeURIComponent(a)}`})).join("&")},m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:decodeURIComponent(window.location.hash.substr(1));const a=l()(d(t),e);return u(a)},g=(n()([d,u]),e=>{const t=d();s()(t,e);const a=`#${u(t)}`,r=history.state;location.hash=a,history.replaceState(r,"",a)}),p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:decodeURIComponent(window.location.hash.substr(1));return d(t)[e]},h=e=>{history.replaceState(history.state,"",`#${m(e)}`)}},63457:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var r=a(77783),n=a(63950),o=a.n(n);const s=86400,i=e=>{if(!e)throw new Error("Please pass a name for the idb store");const t=(0,r.y$)(e,`${e}-cache`),a=(e,a)=>(0,r.hZ)(e,(e=>({value:e,timestamp:Date.now()}))(a),t).catch(o());return{store:t,set:a,get:function(e){let n,{fetch:i,maxAge:l=s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const c=(0,r.Jt)(e,t).then((t=>{if(null===l)return t?.value;const r=1e3*l;return t&&t.timestamp+r>Date.now()?t.value:i?(n=i(),n.then((t=>(a(e,t),t)))):null})).catch(o());return c.abort=()=>n&&n.abort(),c},clear:()=>(0,r.IU)(t).catch(o()),del:e=>(0,r.yH)(e,t).catch(o())}}},37618:(e,t,a)=>{"use strict";a.d(t,{mz:()=>A,LA:()=>v,hq:()=>g,gB:()=>u,Iy:()=>m,yu:()=>d,Z2:()=>c,z0:()=>l,Ay:()=>k,kG:()=>p,Az:()=>h,tB:()=>y,ES:()=>f,y7:()=>s,ng:()=>S,sA:()=>i});var r=a(38280),n=a(80158);const o=window.envSettings?.isAgent||!1,s=/\/(spaces|nodes|overview|alerts|dashboards|anomalies|events|cloud)\/?.*/,i=o?window.location.pathname.replace(s,""):"/",l=(0,n.Yv)(window.localNetdataRegistry.hostname||"agent"),c=window.localNetdataRegistry.spaceId||"agent",d={createdAt:"",description:"",iconURL:"",id:c,error:null,loaded:!0,name:l,slug:l,permissions:{"user:ChangeName":"user:ChangeName","user:ChangeTheme":"user:ChangeTheme","user:ChangeEmailSetting":"user:ChangeEmailSetting","user:ChangeSpaceRoomNotifications":!1,"user:AddAPIToken":"user:AddAPIToken","user:DeleteAPIToken":"user:DeleteAPIToken","user:ReplaceAPIToken":"user:ReplaceAPIToken","user:UpdateVisitedNodes":"user:UpdateVisitedNodes","space:Read":"space:Read","space:UpdateMeta":"space:UpdateMeta","room:ReadUsers":"room:ReadUsers","room:ReadAll":"room:ReadAll","room:Read":"room:Read","dashboard:ReadAll":"dashboard:ReadAll","dashboard:Update":"dashboard:Update","dashboard:UpdateSelf":"dashboard:UpdateSelf","dashboard:Create":"dashboard:Create","dashboard:Delete":"dashboard:Delete","dashboard:DeleteSelf":"dashboard:DeleteSelf","chart:AddToDashboard":"chart:AddToDashboard","alert:ReadAll":"alert:ReadAll","function:ReadAll":"function:ReadAll","function:ExecAll":"function:ExecAll","function:Exec":"function:Exec","function:ExecPrivileged":"function:ExecPrivileged","feed:ReadBasic":"feed:ReadBasic","feed:ReadManagement":"feed:ReadManagement","billing:ReadAll":"billing:ReadAll","billing:ReadBasic":"billing:ReadBasic","visitedNodes:Update":"visitedNodes:Update","visitedNodes:ReadAll":"visitedNodes:ReadAll","agent:ReadDynCfg":"agent:ReadDynCfg","agent:EditDynCfg":"agent:EditDynCfg","agent:EditNotificationsConfig":"agent:EditNotificationsConfig","agent:ViewNotificationsConfig":"agent:ViewNotificationsConfig","oidc:Manage":"oidc:Manage"}},u=(window.localNetdataRegistry.roomId||"")+"[netdata_agent_local]",m="agent"===c?"local":(0,n.Yv)(window.localNetdataRegistry.hostname||"agent")+"-local",g={...r.A,id:u,slug:m,name:"agent"===c?"local":window.localNetdataRegistry.hostname||"agent",loaded:!0,fullyLoaded:!0,spaceId:c,untouchable:!0,isAgent:!0,isMember:!0,nodeId:window.localNetdataRegistry.nd},p="overview",h=e=>o&&e===c,f=e=>h(e)&&"agent"===c,y=e=>o&&e===u,v="local-custom-dashboard",A={id:v,isOwner:!0,name:v,slug:v,snapshot:{cards:{},containerIds:[],containers:{},layout:{}},version:0},b=/\[netdata_agent_local\]/,S=e=>e.replace(b,""),k=o},39225:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(37618),n=a(96540);const o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const a="refreshed-after-lazy-import",o=t?`${t}-${a}`:a;return(0,n.lazy)((async()=>{const t=JSON.parse(window.sessionStorage.getItem(o)||"false");try{const t=await e();return window.sessionStorage.setItem(o,"false"),t}catch(a){if(!t){if(window.sessionStorage.setItem(o,"true"),r.Ay)throw a;return window.location.reload()}throw a}}))}},49286:(e,t,a)=>{"use strict";a.d(t,{Ds:()=>g,Jz:()=>u,bn:()=>m});a(41393),a(14905),a(98992),a(81454),a(8872);const r=e=>e.replace(/([A-Z])/g,"_$1").toLowerCase(),n=e=>e.replace(/([_][a-z])/g,(e=>e[1].toUpperCase())),o=e=>e.replace(/([\s\-_][a-z])/g,(e=>e[1].toUpperCase())),s=[],i=(e,t,a)=>({...e,[r(t)]:a}),l=(e,t,a)=>({...e,[n(t)]:a}),c=(e,t,a)=>({...e,[o(t)]:a}),d=(e,t)=>{let{func:a,action:r,omit:n=s,depth:o=0}=t;return o-=1,o?Array.isArray(e)?e.map((e=>a(e,{omit:n}))):"object"===typeof e&&e?Object.keys(e).reduce(((t,o)=>{if(n.includes(o))return{...t,[o]:e[o]};const s=a(e[o],{omit:n});return r(t,o,s)}),{}):e:e},u=function(e){let{omit:t,depth:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d(e,{func:u,action:i,omit:t,depth:a})},m=function(e){let{omit:t,depth:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d(e,{func:m,action:l,omit:t,depth:a})},g=function(e){let{omit:t,depth:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d(e,{func:g,action:c,omit:t,depth:a})}},31629:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var r=a(71083),n=a(68831),o=a(37618),s=a(59552);const i=e=>(t,a)=>{try{if(/text\/plain/.test(a.getContentType()))throw{errorMessage:t};const r=JSON.parse(t||"{}");if(r.errorMsgKey)throw r;return e?e(r):r}catch(r){return r}},l=e=>e,c=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,s.A)((function(a){a=(0,o.ng)(a);for(var s=arguments.length,c=new Array(s>1?s-1:0),d=1;d<s;d++)c[d-1]=arguments[d];const[u,m={}]=t?c:[null,c[0]],g=r.A.CancelToken.source(),{transform:p=l,validateStatus:h=(e=>e<300||304===e)}=m,f=localStorage.getItem("netdataJWT"),y=window.localNetdataRegistry.mg,v=localStorage.getItem(`agentJWT:${y}`),A=m.baseURL||n.A.apiBaseURL||"",b=((a,n)=>t?r.A[e](a,u,n):r.A[e](a,n))(a,{validateStatus:h,...m,baseURL:A,transformResponse:m.noResponseParsing?p:[i(p)],cancelToken:g.token,...(!!f||!!v)&&{headers:{...m?.headers,.../netdata\.cloud/.test(A)&&f&&"undefined"!==f&&{Authorization:`Bearer ${f}`},...A===window.envSettings.agentApiUrl&&v&&"undefined"!==v&&(window.localNetdataRegistry.xNetdataAuthHeader?{"X-Netdata-Auth":`Bearer ${v}`}:{Authorization:`Bearer ${v}`})}}}),S=b.catch((e=>{throw e.isCancel=r.A.isCancel(e),e}));S.cancel=()=>g.cancel();const k=a.match(/\/spaces\/(.+?)\//)?.[1];return(0,o.ES)(k)&&S.cancel(),S}))},d={get:c("get"),post:c("post",!0),patch:c("patch",!0),put:c("put",!0),delete:c("delete")}},94355:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});const r=e=>{if(!e.response){const t=500,a=e.message||"Something went wrong";return{errorCode:t,errorMessage:a,errorMsgKey:t,status:t,statusText:a}}const{data:{errorCode:t,errorMessage:a,errorMsgKey:r},status:n,statusText:o}=e.response;return{errorCode:t,errorMessage:a,errorMsgKey:r,status:n,statusText:o}}},59552:(e,t,a)=>{"use strict";a.d(t,{A:()=>l,x:()=>i});var r=a(37618),n=a(80158);const o=(e,t,a)=>`${t}${t?"&":"?"}cloudRoute=${e}${a.includes("join-callback")?a:encodeURIComponent(a)}`;let s=()=>{};const i=e=>{"function"==typeof e&&(s=e)},l=e=>function(){for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];const l=e(...a),c=l.catch((e=>{if(r.Ay&&412==e?.response?.status&&s(),401!==e?.response?.status||e?.config?.allow401)throw e;if(r.Ay){const t=window.location.origin+window.location.pathname.replace(r.y7,"");if(a[1].baseURL===window.envSettings.agentApiUrl)throw e;return void(window.location.href=(0,n.QU)(`${window.envSettings.cloudUrl}/trust?redirect_uri=${encodeURIComponent(window.location.href)}&agent_uri=${encodeURIComponent(t||window.envSettings.agentApiUrl)}`))}const{pathname:t,search:i,hash:l}=window.location;if(!/(sign-(in|up)|join-space)/.test(t))return window.location.replace((0,n.QU)(`${r.Ay?window.envSettings.cloudUrl:""}/sign-in${o(t,i,l)}`))}));return c.cancel=l.cancel,c}},79731:(e,t,a)=>{"use strict";a.d(t,{o:()=>n});a(71517),a(11379),a(93777),a(14190),a(12359),a(86097),a(17273),a(27415),a(19929),a(37583),a(55122),a(20230),a(57268),a(79733);const r=new Map([["ErrParsingRequestBody","Bad Request"],["ErrUntrustedRedirectURI","Untrusted Redirect URI"],["ErrInternalServerError","Internal Server Error"],["ErrUnauthenticated","User Not Authenticated"],["ErrInvalidLastUpdatedRange","Invalid Time Selection"],["ErrForbidden","Forbidden"],["ErrInvalidEmail","Invalid E-mail"],["ErrInvalidRedirectURI","Invalid Redirect URI"],["ErrMissingStateCookie","Missing Authentication Cookie"],["ErrIncorrectChallengeResponse","Incorrect Response"],["ErrInvalidDomainDNSRecord","Invalid domain DNS record"],["ErrAccountDeleted","Account Deleted!"],["ErrInvalidAccountID","Invalid Account ID"],["ErrVisitedNodeNotFound","Node Not Found"],["ErrAccountIsTheLastMemberOfAPaidSpace","Cannot delete account"],["ErrOAuthNotFound","A Netdata account linked to this email already exists, please try another login method."],["ErrWworkspaceSlugTaken","Space Slug Unavailable"],["ErrInvalidWorkspaceName","Bad Space Name"],["ErrNotWorkspaceMember","User is not a Space member"],["ErrInvalidWorkspaceID","Invalid Space ID"],["ErrWorkspaceNotFound","No Space Found"],["ErrSpaceSlugTaken","Space Slug Unavailable"],["ErrInvalidSpaceName","Invalid Space Name"],["ErrNotSpaceMember","Not a Space Member"],["ErrForbiddenNotAdmin","Not a Space Admin"],["ErrLastSpaceAdmin","Last Admin In Space"],["ErrLastSpaceMember","Last Member In Space"],["ErrInvalidSpaceID","Bad Space ID"],["ErrInvalidMemberID","Bad Member ID"],["ErrForbiddenNotMember","Not a Member"],["ErrMissingMemberIDs","No Member IDs Given"],["ErrSpaceNotFound","Space Not Found"],["ErrSpaceMemberNotFound","Space Member Not Found"],["ErrMissingTokenIDs","Token ID Not Found"],["ErrCannotDeleteCurrentToken","You cannot delete the token in use for this session"],["ErrInvalidRole","Invalid Member Role"],["ErrCannotLeaveSpace","Cannot Leave Space"],["ErrInvalidSpaceDescription","Invalid Space Description"],["ErrInvalidEmailDomain","Invalid Email Domain"],["ErrCanNotDeletePaidSpace","Cannot delete paid space"],["ErrAgentCanceledBigResponse","Agent's response is too big"],["ErrAgentExpired","Agent is overloaded"],["ErrAgentTimeout","Timeout waiting agent response"],["ErrAlreadyClaimed","Node Already Claimed"],["ErrContextNotFound","Node doesn't have the requested context"],["ErrInternal","Internal server error"],["ErrInvalidNodeID","Invalid Node ID"],["ErrMissingNodeIDs","No Node IDs Given"],["ErrNoData","Node doesn't have data for the requested period"],["ErrNodeNotFound","Node Not Found"],["ErrNodeUnreachable","Unreachable Node"],["ErrUnreachable","Node is unreachable"],["ErrNodeInstanceNotFound","Node doesn't exist on Netdata"],["ErrRoomNameExist","Room Name Already Exists"],["ErrInvalidRoomName","Invalid Room Name"],["ErrRoomNotFound","Room Not Found"],["ErrInvalidRoomID","Invalid Room ID"],["ErrRoomNameTaken","Room Name Unavailable"],["ErrContextNotFound","Context Not Found"],["ErrNodeContextNotFound","Metric Context Not Found"],["ErrInvalidContextID","Invalid Metric Context ID"],["ErrForbiddenNotRoomMember","Not a Room Member"],["ErrUntouchableRoom","Room Cannot Be Changed"],["ErrRoomCannotBeDefault","Private Room Cannot Be Set As Default"],["ErrInvalidRoomDescription","Invalid Room Description"],["ErrRoomMemberAlreadyExists","Member Already Exists In Room"],["ErrAllowedMembersIncreased","Space member limit"],["ErrPendingInvitationsLimitReached","Pending invitations limit"],["ErrSpaceMembersLimitReached","Space member limit"],["ErrCardDeclined","Card declined"],["ErrUnpaidInvoice","Unpaid invoice"],["ErrPlanUpdateBanned","Your space cannot be upgraded, please contact billing@netdata.cloud to resolve the issue"],["Network Error","No internet connection"],["Timeout","Timeout"],["default","Something went wrong"]]),n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.get("default");if(!e)return;return r.has(e)?r.get(e):t}},33222:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const r=36e5,n=function(e){const t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date)-e;if(t<0)return"0 seconds ago";const a=Math.floor(t/864e5);if(a>1)return`${a} days ago`;const n=Math.floor(t/r);if(n>0)return`${n} hours ago`;const o=Math.floor(t/6e4);if(o>1)return`${o} mins ago`;return`${Math.floor(t/1e3)} seconds ago`}},27229:(e,t,a)=>{"use strict";a.d(t,{W:()=>r});const r=e=>e.messages&&e.messages.length>0?e.messages[0]:void 0},80542:(e,t,a)=>{"use strict";a.d(t,{H:()=>r,k:()=>n});a(14905),a(98992),a(8872);const r=(e,t)=>({isValid:e,message:t});function n(e){return Array.isArray(e)?t=>{return e.reduce((a=t,(e,t)=>{const{isValid:r,message:n}=t(a);if(r)return e;const{messages:o=[]}=e;return{isValid:r,messages:[...o,n]}}),{isValid:!0});var a}:(t=e,e=>{const{isValid:a,message:r}=t(e);return r?{isValid:a,messages:[r]}:{isValid:a}});var t}},44554:(e,t,a)=>{"use strict";a.d(t,{GN:()=>o,Hp:()=>n,Pe:()=>u,Su:()=>c,bj:()=>l,lc:()=>f,oE:()=>m});a(17333),a(3064),a(14905),a(98992),a(54520),a(72577),a(8872);const r=!1,n=e=>e.reduce(((e,t)=>t.top+t.height>e?t.top+t.height:e),0),o=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!Array.isArray(e)){if(!a)return;return Object.keys(e||{}).reduce(((a,r)=>a||e[r].find((e=>e.id===t))),null)}return e.find((e=>e.id===t))},s=(e,t)=>e.id!==t.id&&(!(e.left+e.width<=t.left)&&(!(e.left>=t.left+t.width)&&(!(e.top+e.height<=t.top)&&!(e.top>=t.top+t.height)))),i=(e,t)=>e.find((e=>s(e,t))),l=(e,t)=>"horizontal"===t?(e=>e.slice(0).sort((function(e,t){return e.left>t.left||e.left===t.left&&e.top>t.top?1:-1})))(e):"vertical"===t?(e=>e.slice(0).sort((function(e,t){return e.top>t.top||e.top===t.top&&e.left>t.left?1:-1})))(e):e,c=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(((e,t)=>[...e,{...t}]),[])},d=(e,t,a,r,n,o)=>{const s="horizontal"===n,l="vertical"===n,c=t.static;if(r){r=!1;const d={left:s?Math.max(t.left-a.width,0):a.left,top:l?Math.max(t.top-a.height,0):a.top,width:a.width,height:a.height,id:"-1"},m=i(e,d),g=m&&m.top+m.height>t.top,p=m&&t.left+t.width>m.left;if(!m)return u(e,a,s?d.left:void 0,l?d.top:void 0,r,c,n,o);if(g&&l)return u(e,a,void 0,t.top+1,r,c,n,o);if(g&&null==n)return t.top=a.top,a.top=a.top+a.height,e;if(p&&s)return u(e,t,a.left,void 0,r,c,n,o)}const d=s?a.left+1:void 0,m=l?a.top+1:void 0;return null==d&&null==m?e:u(e,a,s?a.left+1:void 0,l?a.top+1:void 0,r,c,n,o)},u=(e,t,a,n,o,i,u,m,g)=>{if(t.static)return e;if(t.top===n&&t.left===a)return e;const p=t.left,h=t.top;"number"===typeof a&&(t.left=a),"number"===typeof n&&(t.top=n),t.moved=!0;let f=l(e,u);("vertical"===u&&"number"===typeof n?h>=n:"horizontal"===u&&"number"===typeof a&&p>=a)&&(f=f.reverse());const y=((e,t)=>e.filter((e=>s(e,t))))(f,t),v=y.length>0;if(v&&g)return c(e);if(v&&i)return t.left=p,t.top=h,t.moved=!1,e;for(let s=0,l=y.length;s<l;s++){const a=y[s];r,a.moved||(e=a.static?d(e,a,t,o,u,m):d(e,t,a,o,u,m))}return e},m=(e,t,a,r)=>{const n=e.filter((e=>e.static)),o=l(e,t),s=Array(e.length);for(let i=0,l=o.length;i<l;i++){let l={...o[i]};l.static||(l=h(n,l,t,a,o,r),n.push(l)),s[e.indexOf(o[i])]=l,l.moved=!1}return s},g={left:"width",top:"height"},p=(e,t,a,r)=>{const n=g[r];t[r]+=1;for(let o=e.findIndex((e=>e.id===t.id))+1;o<e.length;o++){const i=e[o];if(!i.static){if(i.top>t.top+t.height)break;s(t,i)&&p(e,i,a+t[n],r)}}t[r]=a},h=(e,t,a,r,o,s)=>{const l="horizontal"===a;if("vertical"===a)for(t.top=Math.min(n(e),t.top);t.top>0&&!i(e,t);)t.top--;else if(l)for(;t.left>0&&!i(e,t);)t.left--;let c;for(;(c=i(e,t))&&(null!==a||!s)&&"undefined"!==typeof c?.width;)if(l?p(o,t,c.left+c.width,"left"):p(o,t,c.top+c.height,"top"),l&&t.left+t.width>r)for(t.left=r-t.width,t.top++;t.left>0&&!i(e,t);)t.left--;return t.top=Math.max(t.top,0),t.left=Math.max(t.left,0),t.width=t.width>r?r:t.width,t},f=e=>{let{minWidth:t,minHeight:a,...r}=e;return r}},60247:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var r=a(58168),n=a(96540),o=a(62061),s=a(6504),i=a(22332),l=a(46741);const c=e=>{let{iconWidth:t="14px",iconHeight:a="14px",...c}=e;const d=(0,l.JT)("dashboard:Update"),u=(0,i.useAttributeValue)("toolboxProps");return n.createElement(s.Button,(0,r.A)({icon:n.createElement(s.default,{svg:o.A,width:t,height:a}),title:"Drag & drop","data-testid":"chartHeaderToolbox-drag",disabled:!d,cursor:u.drag?.dragging?"grabbing":"grab"},u.drag||{},c))},d=(0,n.memo)(c)},4659:(e,t,a)=>{"use strict";a.d(t,{A:()=>h});var r=a(58168),n=a(96540),o=a(84976),s=a(8711),i=a(65336),l=a(29217);const c={default:{initial:"primary",visited:"accent",hover:"primary"},tableLink:{initial:"text",visited:"text",hover:"primary"}},d=e=>(0,s.default)(e).withConfig({displayName:"anchor__withAnchor",componentId:"sc-oaxxs6-0"})(["",""],(e=>{let{disabled:t,color:a,hoverColor:r,disabledColor:n,visitedColor:o,theme:s,flavour:l="default"}=e;return t?(e=>{let{disabledColor:t,color:a,theme:r,flavour:n,visitedColor:o}=e;return`\n  color: ${(0,i.getColor)(t||a||c[n]?.initial)({theme:r})};\n  ${t?"":"opacity: 0.4;"}\n  pointer-events: none;\n\n  & > svg > use {\n    fill: ${(0,i.getColor)(t||a||c[n]?.initial)({theme:r})};\n  }\n  \n  &:visited {\n    color: ${(0,i.getColor)(o||t||a||c[n]?.visited)({theme:r})};\n  }\n`})({disabledColor:n,color:a,theme:s,flavour:l}):(e=>{let{color:t,theme:a,hoverColor:r,visitedColor:n,flavour:o}=e;return`\n  color: ${(0,i.getColor)(t||c[o]?.initial)({theme:a})};\n  & > svg > use {\n    fill: ${(0,i.getColor)(t||c[o]?.initial)({theme:a})};\n  }\n  &:hover {\n    color: ${(0,i.getColor)(r||c[o]?.hover)({theme:a})} !important;\n    & > svg > use {\n      fill: ${(0,i.getColor)(r||c[o]?.hover)({theme:a})} !important;\n    }\n  }\n  &:visited {\n    color: ${(0,i.getColor)(n||t||c[o]?.visited)({theme:a})};\n    & > svg > use {\n      fill: ${(0,i.getColor)(n||t||c[o]?.visited)({theme:a})};\n    }\n  }\n  cursor:pointer\n`})({color:a,theme:s,hoverColor:r,visitedColor:o,flavour:l})})),u=d("a"),m=d((0,n.forwardRef)(((e,t)=>{let{alignItems:a,disabledColor:s,color:i,flavour:l,hoverColor:c,visitedColor:d,gap:u,strong:m,...g}=e;return n.createElement(o.N_,(0,r.A)({ref:t},g))}))),g=e=>e.preventDefault(),p=(0,n.forwardRef)(((e,t)=>{let{Component:a=i.Text,as:o="a",disabled:s,onClick:l,to:c,href:d,isBasic:p,...h}=e;return n.createElement(a,(0,r.A)({as:"a"===o?u:m,disabled:s,onClick:s?g:l},c&&!s&&{to:c},d&&!s&&{href:d},h,{ref:t}))})),h=(f=p,(0,n.forwardRef)(((e,t)=>{let{showToolTip:a,content:o,align:s,isBasic:i,...c}=e;return a?n.createElement(l.A,{plain:!0,content:o,align:s,isBasic:i},n.createElement(f,(0,r.A)({},c,{ref:t}))):n.createElement(f,c)})));var f},24266:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>u,H4:()=>i,Xc:()=>d});var r=a(23364),n=a(96540),o=a(65336),s=a(4659);const i=e=>{let{title:t="Oops, something unexpected happened!",message:a=""}=e;return n.createElement(o.Flex,{alignItems:"center",justifyContent:"center","data-testid":"error-boundary",flex:!0},n.createElement(o.Flex,{flex:!0,column:!0,alignItems:"center",gap:4,width:{max:115}},n.createElement(o.H3,null,t),!!a&&n.createElement(o.Text,null,a),n.createElement(o.Text,null,"We track these errors automatically, but if the problem persists feel free to contact us with a"," ",n.createElement(s.A,{href:"https://github.com/netdata/netdata-cloud/issues/new/choose",target:"_blank",rel:"noopener noreferrer"},"ticket"),", a"," ",n.createElement(s.A,{href:"https://community.netdata.cloud/",target:"_blank",rel:"noopener noreferrer"},"post in the forum")," ","or through"," ",n.createElement(s.A,{href:"https://discord.com/invite/mPZ6WZKKG2",target:"_blank",rel:"noopener noreferrer"},"Discord"),"."),n.createElement(o.Text,null,"In the meantime you can refresh this page"),n.createElement(o.Button,{label:"Refresh",icon:"refresh",onClick:()=>window.location.reload(),"data-ga":"error-boundary::click-reload::reload-on-error","data-testid":"error-boundary-reload"})))};class l extends n.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.log(e,t)}render(){return this.state.hasError?n.createElement(i,null):this.props.children}}class c extends r.tH{}c.defaultProps={fallback:i};const d=e=>{const t=window.envSettings.tracking?c:l;return a=>n.createElement(t,{fallback:i},n.createElement(e,a))},u=c},82838:(e,t,a)=>{"use strict";a.d(t,{VF:()=>s,Md:()=>c,OH:()=>i});a(9920),a(14905),a(98992),a(3949),a(8872);const r=[{value:"Dateline Standard Time",abbr:"DST",text:"International Date Line West",utc:["Etc/GMT+12"]},{value:"UTC-11",abbr:"U",text:"Coordinated Universal Time-11",utc:["Etc/GMT+11","Pacific/Midway","Pacific/Niue","Pacific/Pago_Pago"]},{value:"Hawaiian Standard Time",abbr:"HST",text:"Hawaii",utc:["Etc/GMT+10","Pacific/Honolulu","Pacific/Johnston","Pacific/Rarotonga","Pacific/Tahiti"]},{value:"Alaskan Standard Time",abbr:"AKDT",text:"Alaska",utc:["America/Anchorage","America/Juneau","America/Nome","America/Sitka","America/Yakutat"]},{value:"Pacific Standard Time (Mexico)",abbr:"PDT",text:"Baja California",utc:["America/Santa_Isabel"]},{value:"Pacific Standard Time",abbr:"PST",text:"Pacific Time (US & Canada)",utc:["America/Los_Angeles","America/Dawson","America/Tijuana","America/Vancouver","America/Whitehorse","PST8PDT"]},{value:"US Mountain Standard Time",abbr:"UMST",text:"Arizona",utc:["America/Creston","America/Dawson_Creek","America/Hermosillo","America/Phoenix","Etc/GMT+7"]},{value:"Mountain Standard Time (Mexico)",abbr:"MDT",text:"Chihuahua, La Paz, Mazatlan",utc:["America/Chihuahua","America/Mazatlan"]},{value:"Mountain Standard Time",abbr:"MDT",text:"Mountain Time (US & Canada)",utc:["America/Boise","America/Cambridge_Bay","America/Denver","America/Edmonton","America/Inuvik","America/Ojinaga","America/Yellowknife","MST7MDT"]},{value:"Central America Standard Time",abbr:"CAST",text:"Central America",utc:["America/Belize","America/Costa_Rica","America/El_Salvador","America/Guatemala","America/Managua","America/Tegucigalpa","Etc/GMT+6","Pacific/Galapagos"]},{value:"Central Standard Time",abbr:"CDT",text:"Central Time (US & Canada)",utc:["America/Chicago","America/Indiana/Knox","America/Indiana/Tell_City","America/Matamoros","America/Menominee","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Rainy_River","America/Rankin_Inlet","America/Resolute","America/Winnipeg","CST6CDT"]},{value:"Central Standard Time (Mexico)",abbr:"CDT",text:"Guadalajara, Mexico City, Monterrey",utc:["America/Bahia_Banderas","America/Cancun","America/Merida","America/Mexico_City","America/Monterrey"]},{value:"Canada Central Standard Time",abbr:"CCST",text:"Saskatchewan",utc:["America/Regina","America/Swift_Current"]},{value:"SA Pacific Standard Time",abbr:"SPST",text:"Bogota, Lima, Quito",utc:["America/Bogota","America/Cayman","America/Coral_Harbour","America/Eirunepe","America/Guayaquil","America/Jamaica","America/Lima","America/Panama","America/Rio_Branco","Etc/GMT+5"]},{value:"Eastern Standard Time",abbr:"EDT",text:"Eastern Time (US & Canada)",utc:["America/Detroit","America/Havana","America/Indiana/Petersburg","America/Indiana/Vincennes","America/Indiana/Winamac","America/Iqaluit","America/Kentucky/Monticello","America/Louisville","America/Montreal","America/Nassau","America/New_York","America/Nipigon","America/Pangnirtung","America/Port-au-Prince","America/Thunder_Bay","America/Toronto","EST5EDT"]},{value:"US Eastern Standard Time",abbr:"UEDT",text:"Indiana (East)",utc:["America/Indiana/Marengo","America/Indiana/Vevay","America/Indianapolis"]},{value:"Venezuela Standard Time",abbr:"VST",text:"Caracas",utc:["America/Caracas"]},{value:"Paraguay Standard Time",abbr:"PYT",text:"Asuncion",utc:["America/Asuncion"]},{value:"Atlantic Standard Time",abbr:"ADT",text:"Atlantic Time (Canada)",utc:["America/Glace_Bay","America/Goose_Bay","America/Halifax","America/Moncton","America/Thule","Atlantic/Bermuda"]},{value:"Central Brazilian Standard Time",abbr:"CBST",text:"Cuiaba",utc:["America/Campo_Grande","America/Cuiaba"]},{value:"SA Western Standard Time",abbr:"SWST",text:"Georgetown, La Paz, Manaus, San Juan",utc:["America/Anguilla","America/Antigua","America/Aruba","America/Barbados","America/Blanc-Sablon","America/Boa_Vista","America/Curacao","America/Dominica","America/Grand_Turk","America/Grenada","America/Guadeloupe","America/Guyana","America/Kralendijk","America/La_Paz","America/Lower_Princes","America/Manaus","America/Marigot","America/Martinique","America/Montserrat","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Santo_Domingo","America/St_Barthelemy","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Tortola","Etc/GMT+4"]},{value:"Pacific SA Standard Time",abbr:"PSST",text:"Santiago",utc:["America/Santiago","Antarctica/Palmer"]},{value:"Newfoundland Standard Time",abbr:"NDT",text:"Newfoundland",utc:["America/St_Johns"]},{value:"E. South America Standard Time",abbr:"ESAST",text:"Brasilia",utc:["America/Sao_Paulo"]},{value:"Argentina Standard Time",abbr:"AST",text:"Buenos Aires",utc:["America/Argentina/La_Rioja","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Buenos_Aires","America/Catamarca","America/Cordoba","America/Jujuy","America/Mendoza"]},{value:"SA Eastern Standard Time",abbr:"SEST",text:"Cayenne, Fortaleza",utc:["America/Araguaina","America/Belem","America/Cayenne","America/Fortaleza","America/Maceio","America/Paramaribo","America/Recife","America/Santarem","Antarctica/Rothera","Atlantic/Stanley","Etc/GMT+3"]},{value:"Greenland Standard Time",abbr:"GDT",text:"Greenland",utc:["America/Godthab"]},{value:"Montevideo Standard Time",abbr:"MST",text:"Montevideo",utc:["America/Montevideo"]},{value:"Bahia Standard Time",abbr:"BST",text:"Salvador",utc:["America/Bahia"]},{value:"UTC-02",abbr:"U",text:"Coordinated Universal Time-02",utc:["America/Noronha","Atlantic/South_Georgia","Etc/GMT+2"]},{value:"Mid-Atlantic Standard Time",abbr:"MDT",text:"Mid-Atlantic - Old",utc:[]},{value:"Azores Standard Time",abbr:"ADT",text:"Azores",utc:["America/Scoresbysund","Atlantic/Azores"]},{value:"Cape Verde Standard Time",abbr:"CVST",text:"Cape Verde Is.",utc:["Atlantic/Cape_Verde","Etc/GMT+1"]},{value:"Morocco Standard Time",abbr:"MDT",text:"Casablanca",utc:["Africa/Casablanca","Africa/El_Aaiun"]},{value:"UTC",abbr:"UTC",text:"Coordinated Universal Time",utc:["America/Danmarkshavn","Etc/GMT"]},{value:"GMT Standard Time",abbr:"GMT",text:"Edinburgh, London",utc:["Europe/Isle_of_Man","Europe/Guernsey","Europe/Jersey","Europe/London"]},{value:"GMT Standard Time",abbr:"GDT",text:"Dublin, Lisbon",utc:["Atlantic/Canary","Atlantic/Faeroe","Atlantic/Madeira","Europe/Dublin","Europe/Lisbon"]},{value:"Greenwich Standard Time",abbr:"GST",text:"Monrovia, Reykjavik",utc:["Africa/Abidjan","Africa/Accra","Africa/Bamako","Africa/Banjul","Africa/Bissau","Africa/Conakry","Africa/Dakar","Africa/Freetown","Africa/Lome","Africa/Monrovia","Africa/Nouakchott","Africa/Ouagadougou","Africa/Sao_Tome","Atlantic/Reykjavik","Atlantic/St_Helena"]},{value:"W. Europe Standard Time",abbr:"WEDT",text:"Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna",utc:["Arctic/Longyearbyen","Europe/Amsterdam","Europe/Andorra","Europe/Berlin","Europe/Busingen","Europe/Gibraltar","Europe/Luxembourg","Europe/Malta","Europe/Monaco","Europe/Oslo","Europe/Rome","Europe/San_Marino","Europe/Stockholm","Europe/Vaduz","Europe/Vatican","Europe/Vienna","Europe/Zurich"]},{value:"Central Europe Standard Time",abbr:"CEDT",text:"Belgrade, Bratislava, Budapest, Ljubljana, Prague",utc:["Europe/Belgrade","Europe/Bratislava","Europe/Budapest","Europe/Ljubljana","Europe/Podgorica","Europe/Prague","Europe/Tirane"]},{value:"Romance Standard Time",abbr:"RDT",text:"Brussels, Copenhagen, Madrid, Paris",utc:["Africa/Ceuta","Europe/Brussels","Europe/Copenhagen","Europe/Madrid","Europe/Paris"]},{value:"Central European Standard Time",abbr:"CEDT",text:"Sarajevo, Skopje, Warsaw, Zagreb",utc:["Europe/Sarajevo","Europe/Skopje","Europe/Warsaw","Europe/Zagreb"]},{value:"W. Central Africa Standard Time",abbr:"WCAST",text:"West Central Africa",utc:["Africa/Algiers","Africa/Bangui","Africa/Brazzaville","Africa/Douala","Africa/Kinshasa","Africa/Lagos","Africa/Libreville","Africa/Luanda","Africa/Malabo","Africa/Ndjamena","Africa/Niamey","Africa/Porto-Novo","Africa/Tunis","Etc/GMT-1"]},{value:"Namibia Standard Time",abbr:"NST",text:"Windhoek",utc:["Africa/Windhoek"]},{value:"GTB Standard Time",abbr:"GDT",text:"Athens, Bucharest",utc:["Europe/Athens","Asia/Nicosia","Europe/Bucharest","Europe/Chisinau"]},{value:"Middle East Standard Time",abbr:"MEDT",text:"Beirut",utc:["Asia/Beirut"]},{value:"Egypt Standard Time",abbr:"EST",text:"Cairo",utc:["Africa/Cairo"]},{value:"Syria Standard Time",abbr:"SDT",text:"Damascus",utc:["Asia/Damascus"]},{value:"E. Europe Standard Time",abbr:"EEDT",text:"E. Europe",utc:["Asia/Nicosia","Europe/Athens","Europe/Bucharest","Europe/Chisinau","Europe/Helsinki","Europe/Kiev","Europe/Mariehamn","Europe/Nicosia","Europe/Riga","Europe/Sofia","Europe/Tallinn","Europe/Uzhgorod","Europe/Vilnius","Europe/Zaporozhye"]},{value:"South Africa Standard Time",abbr:"SAST",text:"Harare, Pretoria",utc:["Africa/Blantyre","Africa/Bujumbura","Africa/Gaborone","Africa/Harare","Africa/Johannesburg","Africa/Kigali","Africa/Lubumbashi","Africa/Lusaka","Africa/Maputo","Africa/Maseru","Africa/Mbabane","Etc/GMT-2"]},{value:"FLE Standard Time",abbr:"FDT",text:"Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius",utc:["Europe/Helsinki","Europe/Kiev","Europe/Mariehamn","Europe/Riga","Europe/Sofia","Europe/Tallinn","Europe/Uzhgorod","Europe/Vilnius","Europe/Zaporozhye"]},{value:"Turkey Standard Time",abbr:"TDT",text:"Istanbul",utc:["Europe/Istanbul"]},{value:"Israel Standard Time",abbr:"JDT",text:"Jerusalem",utc:["Asia/Jerusalem"]},{value:"Libya Standard Time",abbr:"LST",text:"Tripoli",utc:["Africa/Tripoli"]},{value:"Jordan Standard Time",abbr:"JST",text:"Amman",utc:["Asia/Amman"]},{value:"Arabic Standard Time",abbr:"AST",text:"Baghdad",utc:["Asia/Baghdad"]},{value:"Kaliningrad Standard Time",abbr:"KST",text:"Kaliningrad",utc:["Europe/Kaliningrad"]},{value:"Arab Standard Time",abbr:"AST",text:"Kuwait, Riyadh",utc:["Asia/Aden","Asia/Bahrain","Asia/Kuwait","Asia/Qatar","Asia/Riyadh"]},{value:"E. Africa Standard Time",abbr:"EAST",text:"Nairobi",utc:["Africa/Addis_Ababa","Africa/Asmera","Africa/Dar_es_Salaam","Africa/Djibouti","Africa/Juba","Africa/Kampala","Africa/Khartoum","Africa/Mogadishu","Africa/Nairobi","Antarctica/Syowa","Etc/GMT-3","Indian/Antananarivo","Indian/Comoro","Indian/Mayotte"]},{value:"Moscow Standard Time",abbr:"MSK",text:"Moscow, St. Petersburg, Volgograd, Minsk",utc:["Europe/Kirov","Europe/Moscow","Europe/Simferopol","Europe/Volgograd","Europe/Minsk"]},{value:"Samara Time",abbr:"SAMT",text:"Samara, Ulyanovsk, Saratov",utc:["Europe/Astrakhan","Europe/Samara","Europe/Ulyanovsk"]},{value:"Iran Standard Time",abbr:"IDT",text:"Tehran",utc:["Asia/Tehran"]},{value:"Arabian Standard Time",abbr:"AST",text:"Abu Dhabi, Muscat",utc:["Asia/Dubai","Asia/Muscat","Etc/GMT-4"]},{value:"Azerbaijan Standard Time",abbr:"ADT",text:"Baku",utc:["Asia/Baku"]},{value:"Mauritius Standard Time",abbr:"MST",text:"Port Louis",utc:["Indian/Mahe","Indian/Mauritius","Indian/Reunion"]},{value:"Georgian Standard Time",abbr:"GET",text:"Tbilisi",utc:["Asia/Tbilisi"]},{value:"Caucasus Standard Time",abbr:"CST",text:"Yerevan",utc:["Asia/Yerevan"]},{value:"Afghanistan Standard Time",abbr:"AST",text:"Kabul",utc:["Asia/Kabul"]},{value:"West Asia Standard Time",abbr:"WAST",text:"Ashgabat, Tashkent",utc:["Antarctica/Mawson","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Dushanbe","Asia/Oral","Asia/Samarkand","Asia/Tashkent","Etc/GMT-5","Indian/Kerguelen","Indian/Maldives"]},{value:"Yekaterinburg Time",abbr:"YEKT",text:"Yekaterinburg",utc:["Asia/Yekaterinburg"]},{value:"Pakistan Standard Time",abbr:"PKT",text:"Islamabad, Karachi",utc:["Asia/Karachi"]},{value:"India Standard Time",abbr:"IST",text:"Chennai, Kolkata, Mumbai, New Delhi",utc:["Asia/Kolkata"]},{value:"India Standard Time",abbr:"IST",text:"Chennai, Kolkata, Mumbai, New Delhi",utc:["Asia/Calcutta"]},{value:"Sri Lanka Standard Time",abbr:"SLST",text:"Sri Jayawardenepura",utc:["Asia/Colombo"]},{value:"Nepal Standard Time",abbr:"NST",text:"Kathmandu",utc:["Asia/Kathmandu"]},{value:"Central Asia Standard Time",abbr:"CAST",text:"Nur-Sultan (Astana)",utc:["Antarctica/Vostok","Asia/Almaty","Asia/Bishkek","Asia/Qyzylorda","Asia/Urumqi","Etc/GMT-6","Indian/Chagos"]},{value:"Bangladesh Standard Time",abbr:"BST",text:"Dhaka",utc:["Asia/Dhaka","Asia/Thimphu"]},{value:"Myanmar Standard Time",abbr:"MST",text:"Yangon (Rangoon)",utc:["Asia/Rangoon","Indian/Cocos"]},{value:"SE Asia Standard Time",abbr:"SAST",text:"Bangkok, Hanoi, Jakarta",utc:["Antarctica/Davis","Asia/Bangkok","Asia/Hovd","Asia/Jakarta","Asia/Phnom_Penh","Asia/Pontianak","Asia/Saigon","Asia/Vientiane","Etc/GMT-7","Indian/Christmas"]},{value:"N. Central Asia Standard Time",abbr:"NCAST",text:"Novosibirsk",utc:["Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk"]},{value:"China Standard Time",abbr:"CST",text:"Beijing, Chongqing, Hong Kong, Urumqi",utc:["Asia/Hong_Kong","Asia/Macau","Asia/Shanghai"]},{value:"North Asia Standard Time",abbr:"NAST",text:"Krasnoyarsk",utc:["Asia/Krasnoyarsk"]},{value:"Singapore Standard Time",abbr:"MPST",text:"Kuala Lumpur, Singapore",utc:["Asia/Brunei","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Makassar","Asia/Manila","Asia/Singapore","Etc/GMT-8"]},{value:"W. Australia Standard Time",abbr:"WAST",text:"Perth",utc:["Australia/Perth","Antarctica/Casey"]},{value:"Taipei Standard Time",abbr:"TST",text:"Taipei",utc:["Asia/Taipei"]},{value:"Ulaanbaatar Standard Time",abbr:"UST",text:"Ulaanbaatar",utc:["Asia/Choibalsan","Asia/Ulaanbaatar"]},{value:"North Asia East Standard Time",abbr:"NAEST",text:"Irkutsk",utc:["Asia/Irkutsk"]},{value:"Japan Standard Time",abbr:"JST",text:"Osaka, Sapporo, Tokyo",utc:["Asia/Dili","Asia/Jayapura","Asia/Tokyo","Etc/GMT-9","Pacific/Palau"]},{value:"Korea Standard Time",abbr:"KST",text:"Seoul",utc:["Asia/Pyongyang","Asia/Seoul"]},{value:"Cen. Australia Standard Time",abbr:"CAST",text:"Adelaide",utc:["Australia/Adelaide","Australia/Broken_Hill"]},{value:"AUS Central Standard Time",abbr:"ACST",text:"Darwin",utc:["Australia/Darwin"]},{value:"E. Australia Standard Time",abbr:"EAST",text:"Brisbane",utc:["Australia/Brisbane","Australia/Lindeman"]},{value:"AUS Eastern Standard Time",abbr:"AEST",text:"Canberra, Melbourne, Sydney",utc:["Australia/Melbourne","Australia/Sydney"]},{value:"West Pacific Standard Time",abbr:"WPST",text:"Guam, Port Moresby",utc:["Antarctica/DumontDUrville","Etc/GMT-10","Pacific/Guam","Pacific/Port_Moresby","Pacific/Saipan","Pacific/Truk"]},{value:"Tasmania Standard Time",abbr:"TST",text:"Hobart",utc:["Australia/Currie","Australia/Hobart"]},{value:"Yakutsk Standard Time",abbr:"YST",text:"Yakutsk",utc:["Asia/Chita","Asia/Khandyga","Asia/Yakutsk"]},{value:"Central Pacific Standard Time",abbr:"CPST",text:"Solomon Is., New Caledonia",utc:["Etc/GMT-11"]},{value:"Vladivostok Standard Time",abbr:"VST",text:"Vladivostok",utc:["Asia/Sakhalin","Asia/Ust-Nera","Asia/Vladivostok"]},{value:"New Zealand Standard Time",abbr:"NZST",text:"Auckland, Wellington",utc:["Antarctica/McMurdo","Pacific/Auckland"]},{value:"UTC+12",abbr:"U",text:"Coordinated Universal Time+12",utc:["Etc/GMT-12","Pacific/Funafuti","Pacific/Kwajalein","Pacific/Majuro","Pacific/Nauru","Pacific/Tarawa","Pacific/Wake","Pacific/Wallis"]},{value:"Fiji Standard Time",abbr:"FST",text:"Fiji",utc:["Pacific/Fiji"]},{value:"Magadan Standard Time",abbr:"MST",text:"Magadan",utc:["Asia/Anadyr","Asia/Kamchatka","Asia/Magadan","Asia/Srednekolymsk"]},{value:"Kamchatka Standard Time",abbr:"KDT",text:"Petropavlovsk-Kamchatsky - Old",utc:["Asia/Kamchatka"]},{value:"Tonga Standard Time",abbr:"TST",text:"Nuku'alofa",utc:["Etc/GMT-13","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Tongatapu"]},{value:"Samoa Standard Time",abbr:"SST",text:"Samoa",utc:["Pacific/Apia"]}],n=new Date,o=e=>e.reduce(((e,t)=>{let{utc:a,...r}=t;return a.forEach((t=>e[t]={...r,utc:t})),e}),{}),s=()=>{try{const e=new Intl.DateTimeFormat("default",{});return e.resolvedOptions().timeZone||"Etc/GMT"}catch(e){return"Etc/GMT"}},i=e=>(e=>{const t={};return r.reduce(((a,r)=>{const{utc:o}=r;try{const s=new Intl.DateTimeFormat("fr",{timeZone:o[0],timeZoneName:"short"}).format(e?new Date(e):n),[i]=s.match(/[\u2212+].+/)||[],l=(e=>e?e.replace("\u2212","-"):"")(i);if(t[l])return a.concat({...r,offset:t[l]});const c=(e=>{if(!e)return"+0";const t=e.split(":");return t.length>1?`${t[0]}${(t[1]/60).toString().substr(1)}`:t[0]})(l);return t[l]=c,a.concat({...r,offset:c})}catch(s){return a}}),[])})(e).sort(((e,t)=>e.offset-t.offset)),l=o(i()),c=(e,t,a)=>{const r=t||("default"===e?s():e),n=(e=>e?o(i(e)):l)(a);return n[r in n?r:s()]||{}}},57419:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u,isTryingToJoinWorkspace:()=>c});var r=a(96540),n=a(47767),o=a(78969),s=a(28738),i=a(22292),l=a(24198);const c=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").includes("/join-space")},d="Successfully joined space!",u=()=>{const e=(0,i.uW)("isAnonymous"),t=(0,n.Zp)(),a=new URLSearchParams(window.location.hash.substr(1));return(0,r.useEffect)((()=>{if(e)return;const r=a.has("error_msg_key")?decodeURIComponent(a.get("error_msg_key")||""):null;if(r){const e=a.has("error_message")?decodeURIComponent(a.get("error_message")||""):null;r===o.vK?(0,l.Fw)(d):(0,l.Fw)(e||"Error joining space",!0),t("/spaces",{replace:!0})}else(0,l.Fw)(d)}),[e]),r.createElement(s.A,{title:"Adding you to the space..."})}},28738:(e,t,a)=>{"use strict";a.d(t,{A:()=>d,m:()=>c});var r=a(58168),n=a(96540),o=a(8711),s=a(65336);const i=(0,o.keyframes)(["from{opacity:0.4;}to{opacity:1;}"]),l=(0,o.default)(s.Icon).withConfig({displayName:"loader__StyledIcon",componentId:"sc-a76ek6-0"})(["width:",";height:",";animation:",";"],(e=>e.width),(e=>e.height),(e=>{let{animate:t}=e;return t?(0,o.css)([""," 1.6s ease-in infinite"],i):""})),c=e=>{let{title:t="Loading",width:a="208px",height:o="177px",...s}=e;return n.createElement(l,(0,r.A)({name:"netdata",color:"primary",title:t,"data-testid":"loading-logo",width:a,height:o},s))},d=e=>{let{title:t,body:a,iconProps:o,animate:i=!0,...l}=e;return n.createElement(s.Flex,(0,r.A)({column:!0,height:"100vh",background:"mainBackground",width:"100%",justifyContent:"center",alignItems:"center"},l),n.createElement(c,(0,r.A)({},o,{animate:i})),t&&n.createElement(s.H3,{color:"text",margin:[1,0,0]},t),a&&n.createElement(s.Text,{color:"text",margin:[4.5,0,0]},a))}},13871:(e,t,a)=>{"use strict";a.d(t,{Eg:()=>l,UI:()=>d,gi:()=>c});var r=a(58168),n=a(96540),o=a(65336),s=a(79731);const i={success:"success",error:"error",warning:"warning",default:"border"},l=e=>{const{header:t,text:a,icon:r,renderContent:s,success:l,error:c,warning:d,closeToast:u}=e,m=(l?"success":c&&"error")||d&&"warning"||"default";return n.createElement(o.Flex,{padding:[2],alignItems:"center",justifyContent:"between"},n.createElement(o.Flex,{alignItems:"center",gap:3},r&&n.createElement(o.Flex,{flex:!1},n.createElement(o.Icon,{color:i[m],name:r,size:"large"})),n.createElement(o.Flex,{column:!0,gap:1},t&&n.createElement(o.H5,{color:i[m]},t),a&&n.createElement(o.TextSmall,{color:i[m]},a),s&&s(e))),n.createElement(o.Flex,null,n.createElement(o.Icon,{name:"x",size:"large",color:i[m],onClick:u})))},c=e=>{let{errorCode:t,errorMessage:a,errorMsgKey:o,...i}=e;return n.createElement(l,(0,r.A)({error:!0,icon:"error",text:a,header:(0,s.o)(o)},i))},d=e=>n.createElement(l,e)},24198:(e,t,a)=>{"use strict";a.d(t,{$j:()=>p,AM:()=>o,Fw:()=>d,R9:()=>i,X7:()=>u,ZM:()=>m,jE:()=>g,mw:()=>c,r0:()=>s,sb:()=>l});var r=a(78217),n=a(13871);const o=e=>{const t={header:"Nodes",text:e},a=(0,n.UI)({...t,success:!0,icon:"node"});r.A.success(a,{context:"showNodesNotification"})},s=e=>{const t={header:"Rooms",text:e},a=(0,n.UI)({...t,success:!0,icon:"space"});r.A.success(a,{context:"showRoomsNotification"})},i=function(e){const t={header:"Room users",text:e||(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?"Users left the room!":"Users were added to room!")},a=(0,n.UI)({...t,success:!0,icon:"space"});r.A.success(a,{context:"showUsersInRoomNotification"})},l=function(e){const t={header:"Space users",text:e||(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?"Users left the space!":"Users were added to space!")},a=(0,n.UI)({...t,success:!0,icon:"space"});r.A.success(a,{context:"showUsersInSpaceNotification"})},c=function(e){const t={header:"Rooms",text:e||(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?"Rooms removed from Space!":"Rooms were added to Space!")},a=(0,n.UI)({...t,success:!0,icon:"space"});r.A.success(a,{context:"showRoomsInSpaceNotification"})},d=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a={header:t?"Error joining space":"Welcome!",text:e},o=(0,n.UI)({...a,success:!t,icon:"gear"});t?r.A.error(o,{context:"showJoiningSpaceNotification"}):r.A.success(o,{context:"showJoiningSpaceNotification"})},u=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a={header:t?"Space removed":"Space added",text:e},o=(0,n.UI)({...a,success:!t,icon:"gear"});r.A.success(o,{context:"showSpaceNotification"})},m=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a={header:t?"Error creating room":"Rooms",text:e},o=(0,n.UI)({...a,success:!t,icon:"gear"});t?r.A.error(o,{context:"showRoomCreationNotification"}):r.A.success(o,{context:"showRoomCreationNotification"})},g=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a={text:e},o=(0,n.UI)({...a,text:e,success:!t,icon:"chart_added"});t?r.A.error(o,{context:"showDashboardCreatedNotification"}):r.A.success(o,{context:"showDashboardCreatedNotification"})},p=()=>{const e=(0,n.UI)({header:"Dashboard",text:"Invalid dashboard link. Please double-check the dashboard you are trying to access.",success:!1});r.A.error(e,{context:"showInvalidDashboardSlugNotification"})}},78217:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(60426);const n={position:"bottom-right",autoClose:1e4,pauseOnFocusLoss:!1,closeOnClick:!1},o={},s={success:function(e){let{context:t,...a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t&&o[t]&&(r.oR.dismiss(o[t]),delete o[t]),o[t]=r.oR.success(e,{...n,...a})},warning:function(e){let{context:t,...a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t&&o[t]&&(r.oR.dismiss(o[t]),delete o[t]),o[t]=r.oR.warn(e,{...n,...a})},error:function(e){let{context:t,...a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t&&o[t]&&(r.oR.dismiss(o[t]),delete o[t]),o[t]=r.oR.error(e,{...n,...a})},dismiss:e=>r.oR.dismiss(e)}},68801:(e,t,a)=>{"use strict";a.d(t,{Sj:()=>s,i6:()=>o,o5:()=>n,zs:()=>i});const r=/app\.netdata\.cloud/.test(location.hostname),n="cello-token",o=r?"https://assets.cello.so/app/latest/cello.js":"https://assets.sandbox.cello.so/app/latest/cello.js",s=r?"https://assets.cello.so/attribution/latest/cello-attribution.js":"https://assets.sandbox.cello.so/attribution/latest/cello-attribution.js",i="cello-custom-launcher"},97877:(e,t,a)=>{"use strict";a.d(t,{_D:()=>o,mG:()=>l,qK:()=>s,sA:()=>i});a(9920),a(98992),a(3949);var r=a(68801);const n=function(e){let{type:t="module",async:a=!0,onload:r,onerror:n,...o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return null;const s=document.createElement("script");return"function"==typeof r&&(s.onload=r),"function"==typeof n&&(s.onerror=n),s.src=e,s.type=t,s.async=a,o&&Object.entries(o).forEach((e=>{let[t,a]=e;s.setAttribute(t,a)})),s},o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n(r.i6,e)},s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n(r.Sj,e)},i=()=>{try{return JSON.parse(localStorage.getItem(r.o5))||{}}catch(e){return{}}},l=async()=>window.CelloAttribution?await window.CelloAttribution("getUcc"):Promise.resolve()},80925:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>f,eg:()=>h});a(9920),a(98992),a(3949);var r=a(96540),n=a(5668),o=a(45467),s=a(24830),i=a(28973),l=a(27467),c=a(69765),d=a(64118),u=a(52768),m=a(38819),g=a(82838);const p=(0,r.createContext)(null),h=()=>(0,r.useContext)(p),f=e=>{let{children:t}=e,a=(0,n.xd)("theme");a=a&&"unspecified"!==a?a:"dark";let h=(0,n.xd)("chartsDesign");h=h||"default";const[{after:f,before:y,utc:v,highlight:A,forcePlay:b},S]=(0,l.N9)(),k=function(){let{after:e,before:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.useMemo)((()=>{if(e=+e,t=+t,!isNaN(e)&&!isNaN(t)&&e&&t)return{type:"highlight",range:[Math.floor(e/1e3),Math.ceil(t/1e3)]}}),[e,t])}(A),[I]=(0,d.KB)(),w=(0,r.useMemo)((()=>({after:f<0?f:Math.floor(f/1e3),before:f<0?0:Math.ceil(y/1e3)})),[f,y]),E=(0,c.GJ)(),x=(0,r.useMemo)((()=>{const e=(()=>{let{utc:e}=(0,m.PP)();return(0,g.Md)("default",e).utc})(),t=(0,s.A)({attributes:{theme:a,chartsDesign:h,timezone:e,overlays:{...k&&{highlight:k}},autofetchOnWindowBlur:b,...w,agent:E,containerWidth:.8*window.innerWidth,expandable:!1}});return window.netdataSDK=t,t}),[]);(0,o.A)((()=>{x.getNodes().forEach((e=>e.updateAttributes({theme:a,designFlavour:h})))}),[a,h]),(0,o.A)((()=>{const e=x.getRoot().getAttribute("timezone");v!==e&&x.getRoot().getApplicableNodes({syncTimezone:!0}).forEach((e=>e.updateAttributes({timezone:v})))}),[v]),(0,o.A)((()=>{const e=x.getRoot().getAttribute("overlays");if(k)x.getRoot().updateAttribute("overlays",{...e,highlight:k}),x.getRoot().getApplicableNodes({syncHighlight:!0}).forEach((e=>e.updateAttribute("overlays",{...e.getAttribute("overlays"),highlight:k})));else{const t={...e};delete t.highlight,x.getRoot().updateAttribute("overlays",t),x.getRoot().getApplicableNodes({syncHighlight:!0}).forEach((e=>{const t={...e.getAttribute("overlays")};delete t.highlight,e.updateAttribute("overlays",t)}))}}),[k]),(0,r.useEffect)((()=>{if(!I)return;x.trigger("goToLink",null,I.linkToGo);const e=x.getRoot().getNode(((e,t)=>!!t.id&&t.id.includes(I.linkToGo)));if(e){const t=e.getAttribute("overlays");e.updateAttribute("overlays",{...t,alarm:{type:"alarm",status:I.status,value:I.formattedLastStatusChangeValue,when:I.lastStatusChange}}),e.updateAttributes({selectedInstances:[`${I.instance}@${I.nodeId}`],selectedNodes:[I.nodeId]})}const t=!!I&&x.getRoot().on("chartLoaded",(e=>{const a=e.getAttribute("id");if(!a||!a.includes(I.linkToGo))return;const r=e.getAttribute("overlays");e.updateAttribute("overlays",{...r,alarm:{type:"alarm",status:I.status,value:I.formattedLastStatusChangeValue,when:I.lastStatusChange}}),e.updateAttributes({selectedInstances:[`${I.instance}@${I.nodeId}`],selectedNodes:[I.nodeId]}),t()}));return(0,i.unregister)(t)}),[I]),(0,r.useEffect)((()=>{const{after:e,before:t}=w;x.getRoot().moveX(e,t)}),[w]),(0,u.Vt)(I);const C=localStorage.getItem("netdataJWT"),T=window.localNetdataRegistry.mg,N=localStorage.getItem(`agentJWT:${T}`),R=E?N:C;return(0,r.useEffect)((()=>{x.getNodes().forEach((e=>e.updateAttributes({...E&&window.localNetdataRegistry.xNetdataAuthHeader?{xNetdataBearer:R,bearer:null}:{xNetdataBearer:null,bearer:R},agent:E})))}),[E,R]),(0,r.useEffect)((()=>(0,i.unregister)(x.getRoot().onAttributeChange("after",(()=>{const{after:e,before:t}=x.getRoot().getAttributes();S({after:e<0?e:1e3*e,before:e<0?0:1e3*t})})),x.getRoot().onAttributeChange("overlays",((e,t)=>{const{highlight:a}=e;if(a===t.highlight)return;const r=a?.range;if(r){const[e,t]=r;S({highlight:{after:1e3*e,before:1e3*t}})}else S({highlight:{after:null,before:null}})})))),[x]),x?r.createElement(p.Provider,{value:x},t):t}},29848:(e,t,a)=>{"use strict";a.d(t,{Hs:()=>l,c0:()=>s,ly:()=>i,pp:()=>c});var r=a(47444);const n=(0,r.eU)({key:"spaceKeyAtom",default:0}),o=(0,r.eU)({key:"roomViewLoading",default:!0}),s=()=>(0,r.vc)(n),i=()=>{const[e,t]=(0,r.L4)(n);return()=>t(e+1)},l=()=>(0,r.vc)(o),c=()=>(0,r.L4)(o)},74618:(e,t,a)=>{"use strict";a.d(t,{z:()=>s});var r=a(58168),n=a(96540),o=a(65336);const s=e=>{let{children:t,isSubmodal:a,onClose:s,title:i,...l}=e;return n.createElement(o.Flex,{justifyContent:"between",background:"modalHeaderBackground",alignItems:"center",padding:[3]},n.createElement(o.Flex,{alignItems:"center"},!!s&&n.createElement(o.Button,{neutral:!0,flavour:"borderless",icon:a?"chevron_left":"x",onClick:()=>s(),"data-testid":"sidebarModalHeader_"+(a?"chevron_left":"close_button")}),n.createElement(o.H4,(0,r.A)({color:"text"},l),i)),t)}},15327:(e,t,a)=>{"use strict";a.d(t,{CG:()=>u,GO:()=>c,Yv:()=>d});var r=a(58168),n=a(96540),o=a(8711),s=a(87659),i=a(65336);const l=(0,n.forwardRef)(((e,t)=>{let{toggle:a,isOpen:o=!0,closeOnClickOutside:s=!0,closeOnEsc:l=!0,full:c="vertical",backdrop:d=!0,position:u="right",...m}=e;return o?n.createElement(i.Layer,{position:u,full:c,backdrop:d,shadow:!0,onClickOutside:s?a:void 0,onEsc:l?a:void 0},n.createElement(i.Flex,(0,r.A)({column:!0,background:"mainBackground",width:{max:"50vw",base:150}},m,{ref:t}))):null})),c=e=>{let{onClose:t,defaultIsOpen:a=!0,...o}=e;const[i,c]=(0,s.A)(a);return(0,n.useEffect)((()=>{i||t&&t()}),[i]),n.createElement(l,(0,r.A)({isOpen:i,toggle:c},o))},d=(0,o.default)(i.Flex).attrs((e=>({column:!0,background:"mainBackground",padding:[3,3,0],flex:"1",gap:3,...e}))).withConfig({displayName:"sidebar__SidebarContent",componentId:"sc-tmwerm-0"})([""]),u=(0,o.default)(i.Flex).attrs({justifyContent:"end",alignItems:"center",padding:[3],background:"mainBackground",border:{side:"top",color:"borderSecondary"}}).withConfig({displayName:"sidebar__SidebarFooter",componentId:"sc-tmwerm-1"})([""])},45765:(e,t,a)=>{"use strict";a.d(t,{U:()=>s});var r=a(58168),n=a(96540),o=a(65336);const s=e=>{let{children:t,...a}=e;return n.createElement(o.Flex,(0,r.A)({justifyContent:"between",background:"mainBackground",alignItems:"center",padding:[3,3,0]},a),n.createElement(o.H3,null,t))}},55337:(e,t,a)=>{"use strict";a.d(t,{A:()=>d,g:()=>c});var r=a(58168),n=a(96540),o=a(8711),s=a(65336),i=a(5668);const l={light:s.DefaultTheme,dark:s.DarkTheme,unspecified:s.DarkTheme},c=(e,t)=>a=>{let{...r}=a;return n.createElement(o.ThemeProvider,{theme:l[t]||l.unspecified},n.createElement(e,r))},d=e=>{const t=(0,i.xd)("theme"),a=(0,i.xd)("customTheme"),s=(0,n.useMemo)((()=>"blue"===t?{...l.dark,colors:{...l.dark.colors,...a||{}}}:e.theme?l[e.theme]||l.unspecified:l[t]||l.unspecified),[t,e.theme,a]);return n.createElement(o.ThemeProvider,(0,r.A)({},e,{theme:s}))}},29217:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var r=a(58168),n=a(96540),o=a(65336);const s=e=>{let{children:t,background:a,isBasic:s,padding:i}=e;return t?n.createElement(o.Flex,(0,r.A)({padding:i||[1.5,2],margin:[2],background:a||"tooltip",round:1,alignSelf:"start"},!s&&{width:{max:"300px"}}),n.createElement(o.TextSmall,{color:"tooltipText"},t)):null},i=(e,t)=>{let{background:a,isBasic:r,padding:o}=t;const i="function"===typeof e?e():e;return"string"===typeof e||null!==e&&void 0!==e&&r?n.createElement(s,{background:a,isBasic:r,padding:o},i):i},l=e=>{let{children:t,content:a,isBasic:s,...l}=e;const c=(0,n.useCallback)((()=>i(a,{isBasic:s})),[a]);return a?n.createElement(o.Tooltip,(0,r.A)({plain:!0,animation:!0,content:c,zIndex:1e3},l),t):t}},68831:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});const r={assetsBaseURL:`${window.envSettings.cloudUrl}/static`,apiBaseURL:window.envSettings.apiUrl,demoUrl:`${window.envSettings.cloudUrl}/spaces/netdata-demo`,demoSlug:window.envSettings.demoSlug,demoFavourites:window.envSettings.demoFavourites,demoDefaultRoomViews:{default:"overview"},pollingInterval:3e4,defaultRoomView:"home",integrationsView:"integrate-anything"}},78969:(e,t,a)=>{"use strict";a.d(t,{BX:()=>c,I7:()=>l,J4:()=>d,P8:()=>n,Q$:()=>u,Qy:()=>p,Wd:()=>m,_9:()=>o,eC:()=>s,fx:()=>h,ux:()=>i,vK:()=>f,x7:()=>g});var r=a(62805);const n="/api/v2",o="/api/v3/spaces",s=r.A,i=20,l=13,c=["J2kdSTRJzV4","KCFFZ_qfKXk"],d={live:{flavour:"success",statusTextColor:"primary",indicatorWrapperColor:"primary",counterColor:"primary"},stale:{flavour:"stale",statusTextColor:["green","vista"],indicatorWrapperColor:["green","vista"],counterColor:["green","vista"]},offline:{flavour:"neutral",statusTextColor:"textLite",indicatorWrapperColor:"textLite",counterColor:"textLite"},unseen:{statusTextColor:"textLite",indicatorWrapperColor:"textLite",counterColor:"textLite"}},u={completed:{icon:"check",indicatorWrapperColor:"primary",textColor:"primary",text:"Completed",tooltip:"has been claimed and has successfully connected to Netdata at least once"},pending:{icon:"clock_hollow",indicatorWrapperColor:"textLite",textColor:"textLite",text:"Pending...",tooltip:"has been claimed but never connected to the Netdata."}},m=[1,47,0],g=[2,0,1],p="v1.47.0",h="v2.0.1",f="ErrSpaceMemberAlreadyExists"},97674:(e,t,a)=>{"use strict";a.d(t,{L_:()=>r,pj:()=>n,zl:()=>o});a(17333),a(98992),a(54520);const r=e=>["admin","manager","troubleshooter","observer","billing"].concat("EarlyBird"===e?"member":[]),n=e=>[e["user:SetAdmin"]&&"admin",e["user:SetManager"]&&"manager",e["user:SetMember"]&&"member",e["user:SetTroubleshooter"]&&"troubleshooter",e["user:SetObserver"]&&"observer",e["user:SetBilling"]&&"billing"].filter(Boolean),o=e=>[e["user:SetFromAdmin"]&&"admin",e["user:SetFromManager"]&&"manager",e["user:SetFromMember"]&&"member",e["user:SetFromTroubleshooter"]&&"troubleshooter",e["user:SetFromObserver"]&&"observer",e["user:SetFromBilling"]&&"billing"].filter(Boolean)},45860:(e,t,a)=>{"use strict";a.d(t,{C2:()=>c,PY:()=>h,l1:()=>g,qM:()=>y,rn:()=>v,rx:()=>u,z5:()=>d});a(69479),a(41393),a(14905),a(98992),a(81454),a(8872);var r=a(31629),n=a(49286),o=a(37618),s=a(80158);const i=e=>{let{roomID:t,alarmCounter:a,unreachableCount:r,state:n}=e;return{id:t,alertCounter:a,unreachableCount:r,state:n}},l=e=>{let{results:t}=e;return{results:(t||[]).map(i)}},c=e=>(0,o.ES)(e)?Promise.resolve({data:{results:[]}}):r.A.get(`/api/v2/spaces/${e}/alarms`,{transform:l}),d=e=>(0,o.ES)(e)?Promise.resolve({data:null}):r.A.get(`/api/v2/spaces/${e}/alarms/metas`),u={contexts:null,names:null,roles:null},m=e=>{let{alerts:t=[],nodes:a=[],alert_instances:r=[]}=e;return(0,n.bn)(r.map((e=>{let{ni:r,ati:n,tr_i:o,tr_v:s,tr_t:i,cfg:l,info:c,fami:d,ch:u,ch_n:m=u,ctx:g,v:p,t:h,flags:f,st:y,src:v,units:A,to:b,cl:S,cm:k,tp:I,sum:w,slc:E}=e;const x=a[r]||{},{nm:C,cr:T,wr:N,cl:R,er:M,in:D,nd:_,cfg:P}=t[n]||{},U=(C||"unknown_alert").replace(/_/g," ");return{mg:x.mg,nd:x.nd,nodeId:x.nd||x.mg,id:o,context:g,value:p,status:y.toLowerCase(),summary:w||U,name:C,displayName:U,alert:alert,criticalCount:T,warningCount:N,clearCount:R,errorCount:M,instanceCount:D,nodeCount:_,configCount:P,lastStatusChangeValue:s,lastStatusChange:i,configHash:l,info:c,family:d,instance:u,instanceName:m,lastUpdated:h,flags:f,units:A,source:v,recipient:b,class:S,component:k,type:I,silencing:E}})))},g=(e,t)=>(0,o.tB)(t)?r.A.get("/api/v2/alerts?options=summary,instances,values,minify&status=raised",{baseURL:window.envSettings.agentApiUrl,transform:m}):r.A.post(`/api/v2/spaces/${e}/rooms/${t}/alerts`,{scope:{nodes:[],contexts:[]},selectors:{status:["raised"]},options:["summary","values","instances"]},{transform:m}),p=e=>{let{transitions:t=[]}=e;if(!t[0])return{};const{config_hash_id:a,context:r,machine_guid:n,info:o,transition_id:s,node_id:i,alert:l,new:{status:c,value:d},when:u,old:{status:m,value:g,duration:p},instance:h,instance_n:f=h,units:y}=t[0];return{configHash:a,context:r,name:l,id:s,mg:n,nodeId:i||n,nd:i,alert:l,info:o,displayName:(l||"unknown_alert").replace(/_/g," "),status:c.toLowerCase(),lastStatusChange:u,lastStatusChangeValue:d,prevStatus:m.toLowerCase(),prevValue:g,prevDuration:p,instance:h,instanceName:f,units:y}},h=(e,t,a)=>(0,o.tB)(t)?r.A.get(`/api/v2/alert_transitions?options=minify&transition=${a}`,{baseURL:window.envSettings.agentApiUrl,transform:p}).then((a=>{let{data:r}=a;return b(e,t,r.configHash,r)})):r.A.post(`/api/v2/spaces/${e}/rooms/${t}/alert_transitions`,{transition:a},{transform:p}).then((a=>{let{data:r}=a;return b(e,t,r.configHash,r)})),f=e=>{let{alerts:t=[],...a}=e;return t.map((e=>{let{nm:t,cr:r,wr:n,cl:o,er:i,in:l,nd:c,cfg:d,sum:u,slc:m,ctx:g,cls:p,cp:h,ty:f,to:y,ni:v}=e;const A=(a.nodes||[]).reduce(((e,t,a)=>(Array.isArray(v)&&v.includes(a)&&e.push(t.nd||t.mg),e)),[]);return{name:t,displayName:(t||"unknown_alert").replace(/_/g," "),criticalCount:r,warningCount:n,clearCount:o,errorCount:i,instanceCount:l,nodeCount:c,configCount:d,summary:u||t,silencing:m,contexts:g,classes:Array.isArray(p)?p.map((e=>(0,s.Zr)(e))):p?(0,s.Zr)(p):p,components:h,types:f,recipients:y,nodeIds:A}}))},y=(e,t)=>(0,o.tB)(t)?r.A.get("/api/v2/alerts?options=minify",{baseURL:window.envSettings.agentApiUrl,transform:f}):r.A.post(`/api/v2/spaces/${e}/rooms/${t}/alerts`,{scope:{nodes:[]}},{transform:f}),v=function(){let{spaceId:e,roomId:t,name:a,context:n,allowEmptyName:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((!a||!a.length)&&!s)return Promise.resolve({data:[]});if((0,o.tB)(t)){const e=Array.isArray(a)?a.join(","):a;return r.A.get(`/api/v2/alerts?options=summary,values,instances,minify&alert=${e}`,{baseURL:window.envSettings.agentApiUrl,transform:m})}const i=Array.isArray(a)?a:[a],l=n?Array.isArray(n)?n:[n]:void 0;return r.A.post(`/api/v2/spaces/${e}/rooms/${t}/alerts`,{scope:{nodes:[],contexts:l},selectors:{alert:i},options:["summary","instances","values"]},{transform:m})},A=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=>{let{class:a,component:r,type:n,info:o,value:{calc:s="",update_every:i,units:l,db:c},status:d,notification:u}=t;const{type:m,exec:g,to:p,delay:h,repeat:f}=u||{},{warn:y,crit:v}=f||{},{warn:A,crit:b,green:S,red:k}=d||{},{dimensions:I,method:w,after:E,before:x,options:C}=c||{};return{info:o,...e,configInfo:o,class:a,component:r,type:n,calculation:s,updateEvery:i,units:l,warning:A,critical:b,lookupDimensions:I,lookupMethod:w,lookupAfter:E,lookupBefore:x,lookupOptions:C,notificationType:m,exec:g,recipient:p,delay:h,warnRepeatEvery:y,critRepeatEvery:v,green:S,red:k}}},b=function(e,t,a){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,o.tB)(t)?r.A.get(`/api/v2/alert_config?options=minify&config=${a}`,{baseURL:window.envSettings.agentApiUrl,transform:A(n)}):r.A.post(`/api/v2/spaces/${e}/rooms/${t}/alert_config`,{config:a},{transform:A(n)})}},96935:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>i,J7:()=>c,Qk:()=>l,So:()=>m,_v:()=>u,ue:()=>s,xz:()=>d});var r=a(47444),n=a(92861),o=a(45860);const s={id:null,loaded:!1,nodeId:null,instance:null,instanceName:null,name:"",calculation:"",lookupAfter:0,lookupBefore:0,status:"unknown",date:"",fullyLoaded:!1,fullyLoading:!1,info:"",configInfo:"",warning:"",critical:"",updateEvery:0,source:"",recipient:"Unknown",units:"",delayUpDuration:null,delayDownDuration:null,delayMaxDuration:null,multiplier:null,delayUpToTimestamp:null,lookupDimensions:"",lookupMethod:"",lookupOptions:"",class:"Unknown",type:"Unknown",component:"Unknown"},i=(0,r.eU)({key:"alert",default:{}}),l=(0,r.eU)({key:"selectedAlert",default:null}),c=(0,r.eU)({key:"alertsTabsAtom",default:n.Sy}),d=(0,r.Iz)({key:"alertConfigurations",default:e=>{let{spaceId:t,roomId:a}=e;return(0,o.qM)(t,a).then((e=>{let{data:t}=e;return t}))}}),u=(0,r.Iz)({key:"alertInstances",default:e=>{let{spaceId:t,roomId:a,name:r}=e;return(0,o.rn)({spaceId:t,roomId:a,name:r}).then((e=>{let{data:t}=e;return t}))}}),m=(0,r.Iz)({key:"selectedAlertConfiguration",default:n.Vh})},92861:(e,t,a)=>{"use strict";a.d(t,{Sy:()=>n,UW:()=>s,Vh:()=>o,kc:()=>r});const r={alertStatus:"alertStatus",os:"os"},n=0,o={alertName:null,nodeId:null},s="https://learn.netdata.cloud/docs/alerting/health-configuration-reference#edit-health-configuration-files"},52768:(e,t,a)=>{"use strict";a.d(t,{J4:()=>g,Vt:()=>f,lT:()=>p,m3:()=>m,x7:()=>u});var r=a(96540),n=a(47767),o=a(69765),s=a(27467),i=a(11128),l=a(20081),c=a(33222),d=a(21290);const u=e=>{const t=(0,n.Zp)(),a=(0,o.r9)(),l=(0,i.u7)({extraKey:"alerts"}),c=(0,s.Fw)("alertStatuses",{extraKey:"alerts"});return(0,r.useCallback)((r=>{e&&l([e]),r&&"string"===typeof r&&c([r]),t(`${a}/alerts`)}),[e,a,l])},m=(e,t)=>{if(void 0===e)return"-";const a=(0,l.W)(e);return t?`${a} ${t}`:a},g=(e,t)=>(0,r.useMemo)((()=>m(e,t)),[e,t]),p=e=>{let{rawTime:t,secs:a=!1,long:n=!1}=e;const{localeTimeString:o,localeDateString:s}=(0,d.$j)();return(0,r.useMemo)((()=>{const e=new Date(1e3*t);return isNaN(e.valueOf())?{}:{timeAgo:(0,c.A)(e,new Date),formattedDate:`${s(e,{long:n})} ${o(e,{secs:a})}`}}),[t,o,s])},h=()=>Math.floor((new Date).getTime()/1e3),f=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{lastUpdated:a,lastStatusChange:n}=e||{},o=(0,s.rI)(),[i,l]=(e=>{const{lastUpdated:t,lastStatusChange:a}=e||{};return(0,r.useMemo)((()=>{if(!t||!a)return[];const e=t||h(),r=e-a,n=Math.round(a-r),o=Math.round(e+r);return[n,o>h()?h():o]}),[t,a])})({lastUpdated:a,lastStatusChange:n});(0,r.useEffect)((()=>{t&&(i||l)&&o({after:1e3*i,before:1e3*l})}),[t,i,l])}},64118:(e,t,a)=>{"use strict";a.d(t,{AO:()=>x,CX:()=>D,DV:()=>M,Gq:()=>b,I8:()=>N,JL:()=>y,KB:()=>v,SB:()=>h,Yo:()=>I,kJ:()=>R,oU:()=>T,ud:()=>_,x:()=>w,yk:()=>S,zu:()=>k});a(17333),a(41393),a(14905),a(98992),a(54520),a(81454),a(8872);var r=a(96540),n=a(47444),o=a(69765),s=a(67990),i=a(51074),l=a(88982),c=a(47762),d=a(92861),u=a(3914),m=a(96935),g=a(45860),p=a(20081);const h=(0,n.K0)({key:"alertState",get:e=>{let{id:t,key:a}=e;return e=>{let{get:r}=e;const n=r(m.Ay)[t]||m.ue;return a?n[a]:n}},set:e=>{let{id:t,key:a}=e;return(e,r)=>{let{set:n}=e;n(m.Ay,a?"function"!==typeof r?e=>({...e,[t]:{...e[t],[a]:r}}):e=>({...e,[t]:{...e[t],[a]:r(e[t][a])}}):e=>({...e,[t]:{...m.ue,...e[t],...r}}))}}}),f=(0,n.K0)({key:"alertInstancesState",get:e=>{let{spaceId:t,roomId:a,alertNames:r,contexts:n,allowEmptyName:o}=e;return()=>(0,g.rn)({spaceId:t,roomId:a,name:r,context:n,allowEmptyName:o})}}),y=(e,t)=>(0,n.vc)(h({id:e,key:t})),v=()=>(0,n.L4)(m.Qk),A=(0,n.K0)({key:"alertsState",get:e=>t=>{let{get:a}=t;return e.map((e=>a(h({id:e}))))},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),b=e=>(0,n.vc)(A(e)),S=function(e){let{spaceId:t,roomId:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=(0,u.vt)();t=t||s;const i=(0,o.ID)();a=a||i;const l=(0,n.Zs)((r=>{let{set:n}=r;return()=>{n(h({id:e,key:"fullyLoading"}),!0);const r=(0,g.PY)(t,a,e);return r.then((t=>{let{data:a}=t;return n(h({id:e}),{...a,fullyLoaded:!0,fullyLoading:!1,loaded:!0})})).catch((()=>n(h({id:e,key:"fullyLoading"}),!1))),()=>r.cancel()}}),[a,t,e]);(0,r.useEffect)((()=>{e&&l()}),[e,l])},k=()=>{const e=(()=>{const e=(0,o.ID)();return(0,n.vc)(I(e))})(),t=(0,s.CK)(),a=(0,c.Gt)(t);return(0,r.useMemo)((()=>a.map((t=>{const a=e.filter((e=>e.nodeId===t.id));if(!a.length)return t;const r=a.map((e=>e.status));return{...t,[d.kc.alertStatus]:(0,p.h)(r)}}))),[e,a])},I=(0,n.K0)({key:"roomAlerts",get:e=>t=>{let{get:a}=t;const r=a((0,i.t)({id:e,key:"ids"}));return a(A(r))}}),w=()=>{const e=(0,o.ID)();return(0,n.vc)((0,i.t)({id:e,key:"loaded"}))},E={warning:0,critical:0,clear:0},x=e=>{const t=b(e);return(0,r.useMemo)((()=>t.reduce(((e,t)=>{let{status:a}=t;return e[a]=e[a]+1,e}),{...E})),[e])},C=(0,n.K0)({key:"alertConfigurationsState",get:e=>{let{spaceId:t,roomId:a}=e;return()=>(0,g.qM)(t,a)},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),T=()=>{const e=(0,u.vt)(),t=(0,o.ID)(),a=(0,n.xf)(C({spaceId:e,roomId:t}));return{loaded:"loading"!==a.state,value:a.contents?.data,hasError:"hasError"===a.state}},N=e=>{let{alertNames:t,contexts:a,allowEmptyName:r}=e;const s=(0,u.vt)(),i=(0,o.ID)(),c=(0,l.n)("id"),d=i||c,m=(0,n.xf)(f({spaceId:s,roomId:d,alertNames:t,contexts:a,allowEmptyName:r}));return{loaded:"loading"!==m.state,value:m.contents?.data,hasError:"hasError"===m.state}},R=()=>(0,n.L4)(m.J7),M=()=>{const e=(0,o.ID)();return(0,n.L4)((0,m.So)(e))},D=()=>{const e=(0,o.ID)(),{alertName:t,nodeId:a}=(0,n.vc)((0,m.So)(e));return(0,r.useMemo)((()=>t||a?t&&!a?1:2:0),[t,a])},_=()=>{const e=(0,o.ID)();return(0,n.E0)((0,m.So)(e))}},20081:(e,t,a)=>{"use strict";a.d(t,{W:()=>r,h:()=>n});const r=e=>{const t=e<1?Number(e).toPrecision(3):Number(e).toFixed(2),a=Number.parseFloat(t);return Math.abs(a)>=1e9||Math.abs(a)<=1e-5&&0!==a?a.toExponential(3):a},n=e=>e.includes("critical")?"critical":e.includes("warning")?"warning":e.includes("clear")?"clear":e[0]},58384:(e,t,a)=>{"use strict";a.d(t,{t:()=>d,A:()=>m});var r=a(58168),n=a(96540),o=a(65336),s=a(87659),i=a(8711);const l=(0,i.default)(o.Drop).attrs({align:{top:"bottom",left:"left"},animation:!0,background:"dropdown",column:!0,margin:[.5,0,0],overflow:{vertical:"auto"},padding:[2,0],round:1}).withConfig({displayName:"styled__Drop",componentId:"sc-1x9syns-0"})(["box-sizing:content-box;"]),c=(0,i.default)(o.TextSmall).withConfig({displayName:"styled__DropdownItemClickable",componentId:"sc-1x9syns-1"})(["cursor:pointer;pointer-events:",";"," &:hover{background-color:",";}"],(e=>{let{isDisabled:t}=e;return t?"none":"auto"}),(e=>e.isDisabled&&"opacity: 0.6;"),(0,o.getColor)("selected")),d=e=>{let{children:t,color:a="text",disabled:s,icon:i,...l}=e;return n.createElement(c,(0,r.A)({as:o.Flex,"data-testid":"dropdownItem",gap:2,isDisabled:s,padding:[2,4]},l),n.createElement(o.Icon,{color:s?"textLite":a,"data-testid":"dropdownItem-icon",height:"16px",name:i,width:"16px"}),n.createElement(o.Text,{color:a,"data-testid":"dropdownItem-text",whiteSpace:"nowrap"},t))},u=(0,n.forwardRef)(((e,t)=>{let{Component:a,category:o,context:s,...i}=e;return n.createElement(a,(0,r.A)({"data-ga":`${o}::${s}::options`,"data-testid":"chartOptions",icon:"nav_dots",iconWidth:"12px",iconHeight:"12px",flavour:"borderless",neutral:!0,small:!0,padding:[0],ref:t,title:"Options"},i))})),m=e=>{let{Component:t=o.IconButton,category:a,context:i,children:c,testId:d,...m}=e;const[g,p,,h]=(0,s.A)(),f=(0,n.useRef)(),y=d||"chartsDropdown";return n.createElement(n.Fragment,null,n.createElement(u,(0,r.A)({},m,{"data-testid":`${y}-button`,category:a,context:i,onClick:p,ref:f,Component:t})),f.current&&g&&n.createElement(l,{close:h,"data-testid":y,onClickOutside:h,onEsc:h,target:f.current},c({close:h})))}},13624:(e,t,a)=>{"use strict";a.d(t,{K:()=>s});var r=a(3914),n=a(69765),o=a(37618);const s=function(){let{spaceId:e,roomId:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=(0,r.vt)(),s=(0,n.ID)(),i=(0,r.dg)(),l=(0,n.GJ)();return i||l?`${window.envSettings.agentApiUrl}/api/v3`:`${window.envSettings.apiUrl}/api/v3/spaces/${e||a}/rooms/${(0,o.ng)(t||s)}`}},14096:(e,t,a)=>{"use strict";a.d(t,{Yr:()=>C,z2:()=>M,DH:()=>w,Js:()=>E,tN:()=>R,So:()=>N,LC:()=>T});a(9920),a(41393),a(14905),a(98992),a(3949),a(81454),a(8872);var r=a(96540),n=a(47767),o=a(79731),s=a(86663),i=a(31629),l=a(18061),c=a(71835),d=a(61649),u=a(76201),m=a(37618),g=a(22292),p=a(11368),h=a(57419);const f=e=>{let{cloudRoute:t,redirectUri:a}=e;try{if(!(0,h.isTryingToJoinWorkspace)(t))return"";const{inviteToken:e,spaceId:r}=(e=>{const t=s.parse(e);let{error_retry:a,token:r}=t.error_retry||t.token?{...t,token:decodeURIComponent(t.token)}:s.parse(decodeURIComponent(e));return r||(r=s.parse(a).token),{inviteToken:r,spaceId:/spaces\/(.*)\/join-callback/.exec(a)[1]}})(a);return`?${s.stringify({token:e,space:r})}`}catch(r){return console.warn("error parsing join-callback url",r),""}};var y=a(35600),v=a(50503),A=a(36850),b=a(97877);const S=()=>{const{search:e}=(0,n.zy)(),[t,a]=(0,r.useState)();return(0,r.useEffect)((()=>{(0,b.mG)().then((e=>{a(e)}))}),[e]),t};var k=a(50876);const I=function(e){let{path:t="/sign-up"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(window.envSettings.tracking)try{const a=`${t}/thank-you`;window.dataLayer.push({event:"pageview",virtualPage:`${a}${e}`}),window.posthog.setPersonPropertiesForFlags({netdata_cloud_account_created_days_ago:0}),(0,u.F)(`${window?.location?.origin}${a}${e}`)}catch(a){}},w=e=>(0,d.A)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.A.patch(`/api/v1/accounts/${e}`,t)}),[e]),E=()=>{const{search:e,hash:t}=(0,n.zy)(),a=(0,n.RQ)("/sign-up"),s=(0,n.RQ)("/sign-in"),l=a?a.pathname:s?s.pathname:"",d=(0,n.Zp)(),[u,m]=(0,c.A)(),{sendLog:g,isReady:p}=(0,k.A)(),h=S();return(0,r.useCallback)((a=>{let{isSSO:r,email:n,redirectURI:s,registerURI:c,isUnverifiedRegistration:p,resend:f,onDone:y=(()=>{})}=a;return(r?i.A.get(`/api/v2/auth/account/sso/login?redirect_uri=${s}&register_uri=${c}&email=${n}`):i.A.post("/api/v2/auth/account/magic-link",{email:n,redirectURI:s,registerURI:c,isUnverifiedRegistration:p,...h?{celloUCC:h}:{}})).then((function(){let{data:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y(),r?location.href=a.redirect_uri:(u({header:"Sign in email sent"}),f||(I(e,{path:l}),"/sign-up"==l&&g({feature:"SignUpThankYou"}),d(`/sign-in/magic-link-sent${e}${t}`,{state:{email:n}})))})).catch((e=>{y();const t=(0,o.o)(e?.response?.data?.errorMsgKey,e?.response?.data?.errorMessage);throw m({header:"Sign in",text:t}),t}))}),[l,e,t,h,g,p])},x=e=>{let{authorized_origins:t=[]}=e;return t.map((e=>{let{id:t,url:a,last_accessed_at:r}=e;return{id:t,url:a,lastAccessedAt:r}}),[])},C=function(){let{onSuccess:e,onFail:t,...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(0,l.A)((()=>({fetch:()=>i.A.get("/api/v1/auth/account/origins",{transform:x}),initialValue:[],isDefaultLoading:!0,onSuccess:t=>{e?.(t)},onFail:e=>{t?.(e)},...a})),r)},T=()=>{const[e,t]=(0,r.useState)(""),[a,n]=(0,r.useState)(!1),[,o]=(0,c.A)();return[e,(0,r.useCallback)((async e=>{n(!0);try{const a=await i.A.post("/api/v1/auth/account/origins",{origin_url:e});t(a.authorized_origin_url),n(!1)}catch(a){o({header:"Trust URL",text:"We couldn't trust the URL"}),n(!1)}}),[]),a]},N=e=>{e&&e.preventDefault();const[,t]=(0,c.A)(),{search:a}=(0,n.zy)(),{cloudRoute:o,oauth:l,token:d,username:u,redirect_uri:m}=s.parse(a),g=(0,p.hn)(),{setFailure:h}=(0,v.A)(),y=f({cloudRoute:o,redirectUri:m}),{sendLog:A,isReady:b}=(0,k.A)(),S=(0,n.Zp)();return(0,r.useCallback)((async()=>{const e=`/api/v2/auth/account/${l||"magic-link"}/register`;try{const{data:t}=await i.A.post(`${e}${y}`,{token:d,username:u}),{errorMsgKey:r}=t||{};"ErrTrialUpdateFailed"==r&&h(),g(),I(a)}catch(r){t(r),S("/sign-in",{replace:!0})}}),[l,d,u,A,b])},R=()=>(0,r.useCallback)((async()=>(await i.A.post("/api/v1/auth/account/logout"),"function"==typeof window.posthog?.reset&&window.posthog.reset(),(()=>{const e=A.V.reduce(((e,t)=>({...e,[t]:localStorage.getItem(t)})),{});localStorage.clear(),Object.entries(e).forEach((e=>{let[t,a]=e;localStorage.setItem(t,a)}))})(),(0,y.y)(),m.Ay?window.location.reload():window.location.replace("/sign-in"))),[]),M=()=>{const e=(0,g.NJ)(),t=R(),[,a]=(0,c.A)();return(0,r.useCallback)((async()=>{try{await i.A.delete(`/api/v1/accounts/${e}`),t()}catch(r){a(r)}}),[])}},36850:(e,t,a)=>{"use strict";a.d(t,{S:()=>r,V:()=>n});const r="https://learn.netdata.cloud/docs/nightly/concepts/role-based-access-model",n=["lastSignInMethod","oktaSSO"]},11368:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>v,hn:()=>f});a(14905),a(98992),a(8872);var r=a(96540),n=a(47444),o=a(31629),s=a(78969),i=a(37618),l=a(92861),c=a(68801);const d={auth_type:"",avatarURL:null,createdAt:"",email:"",id:null,name:"",termsAccepted:!0,isAnonymous:!1,authorizedOrigins:[]},u={theme:"unspecified",spacePanelCollapsed:!0,alertsGrouping:l.kc.alertStatus},m=e=>{let{permissions:t,settings:a,...r}=e;const n=r.id===s.eC;return{permissions:t,settings:a,user:{...r,isAnonymous:n,termsAccepted:n||r.termsAccepted}}},g=()=>{const e=JSON.parse(localStorage.getItem("userSettings"))||{},t={user:{...d,id:window.localNetdataRegistry.pg||null,isLoaded:!0,isAnonymous:!0},permissions:{},settings:{...u,...e,isLoaded:!0}};let a;return a?.cancel?.(),a=o.A.get("/api/v2/accounts/me",{transform:m,allow401:!0}),a.then((a=>{let{data:{user:r,permissions:n=[],settings:o},headers:s}=a;return(e=>{const t=e?.["x-cello-token"];if(!t)return;const a=t.split(".");if(a.length>=2){const e=atob(a[1]);try{const{productId:a}=JSON.parse(e),r=JSON.stringify({token:t,productId:a});localStorage.setItem(c.o5,r)}catch(r){}}})(s),i.Ay&&r.isAnonymous?t:{user:{...d,...r,isLoaded:!0},permissions:n.reduce(((e,t)=>({...e,[t]:t})),{}),settings:{...u,...e,...o,isLoaded:!0}}})).catch((()=>i.Ay?t:{user:{...d,isLoaded:!0,isAnonymous:!0},permissions:{},settings:{...u,...e,isLoaded:!0}}))},p=(0,n.eU)({key:"currentUserFetcher",default:null}),h=(0,n.eU)({key:"checkAuthAtom",default:1}),f=()=>{const e=(0,n.lZ)(h),t=(0,n.lZ)(p);return(0,r.useCallback)((async()=>{const a=await g();t(a),e((e=>e+1))}),[])},y=(0,n.gD)({key:"fullStateFetcher",get:async e=>{let{get:t}=e;return t(p)||await g()}}),v=(0,n.K0)({key:"currentUserFullState",get:e=>t=>{let{get:a}=t;return a(y)[e]}})},46741:(e,t,a)=>{"use strict";a.d(t,{Dk:()=>p,_s:()=>y,Ge:()=>v,JT:()=>f});a(14905),a(98992),a(8872);var r=a(96540),n=a(47444),o=a(65570),s=a(3914),i=a(37618);const l=(0,n.Iz)({key:"permissionsBySpaceId",default:{},effects:e=>(0,i.ES)(e)?[e=>{let{setSelf:t,trigger:a}=e;"get"===a&&t(i.yu.permissions)}]:[]});var c=a(97674),d=a(11368);const u=(0,n.eU)({key:"userPermissions",default:(0,d.Ay)("permissions")}),m=["space:Leave","room:Create","space:InviteUser","space:RemoveUser","space:UpdateMeta","space:Delete","room:Delete","room:AddNode","node:Delete","user:ChangeRoles","room:UpdateMeta","room:Leave","room:RemoveNode","billing:Manage"],g={"space:ReadSettings":e=>!m.some((t=>!e[t]))},p=(0,n.K0)({key:"permissionsSelector",get:e=>t=>{let{get:a}=t;return a(l(e))},set:e=>function(t){let{set:a}=t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(l(e),(e=>(0,o.Ay)(e,r)?e:r))},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),h=e=>{const t=(0,s.vt)(),a=(0,n.vc)(p(e||t)),o=(0,n.xf)(u);return(0,r.useMemo)((()=>{let e={...a};return"hasValue"===o.state&&(e={...e,...o.contents}),t=e,{...t,...Object.keys(g).reduce(((e,a)=>g[a](t)?{...e,[a]:a}:e),{})};var t}),[a,o.state])},f=(e,t)=>!!h(t)[e],y=()=>{const e=h();return(0,r.useMemo)((()=>(0,c.pj)(e)),[e])},v=()=>{const e=h();return(0,r.useMemo)((()=>(0,c.zl)(e)),[e])}},5668:(e,t,a)=>{"use strict";a.d(t,{ng:()=>h,tF:()=>g,xd:()=>m});var r=a(47444),n=a(86723),o=a(11368);const s=(0,r.eU)({key:"currentUserSettings",default:(0,o.Ay)("settings")});var i=a(14096),l=a(22292),c=a(3914);const d=(0,r.K0)({key:"userSettings",get:e=>t=>{let{get:a}=t;const r=a(s);return e?r[e]:r},set:e=>(t,a)=>{let{set:r}=t;return r(s,(t=>e?{...t,[e]:"function"===typeof a?a(t[e]):a}:"function"===typeof a?a(t):a))}}),u=e=>{const t=(0,l.uW)("isAnonymous"),a=(0,r.lZ)(d(e)),o=(0,l.NJ)(),s=(0,i.DH)(o),[,c]=(0,n.A)("userSettings",{});return(0,r.Zs)((r=>{let{snapshot:n}=r;return async r=>{a(r);const o=n.retain();try{const a={...await n.getPromise(d()),...e?{[e]:r}:r};if(t)return void c(a);await s({settings:a})}catch(i){const t=await n.getPromise(d());a(e?t[e]:t)}finally{o()}}}),[e])},m=e=>(0,r.vc)(d(e)),g=e=>[m(e),u(e)],p="spaceSettings",h=e=>{const t=(0,c.vt)(),a=m(p),r=u(p),n=a?.[t]?.[e];return[n,n=>{r({...a||{},[t]:{...a?.[t]||{},[e]:n}})}]}},76689:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(47444),n=a(11368);const o=(0,r.eU)({key:"currentUser",default:(0,n.Ay)("user")})},22292:(e,t,a)=>{"use strict";a.d(t,{Dm:()=>s,Ir:()=>d,NJ:()=>l,qO:()=>c,uW:()=>i});var r=a(47444),n=a(76689),o=a(14096);const s=(0,r.K0)({key:"userState",get:e=>t=>{let{get:a}=t;const r=a(n.A);return e?r[e]:r},set:e=>(t,a)=>{let{set:r}=t;r(n.A,(t=>e?{...t,[e]:a}:{...t,...a}))}}),i=e=>(0,r.vc)(s(e)),l=()=>(0,r.vc)(s("id")),c=function(e){let{shouldPersist:t,onSuccess:a,onFail:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=(0,r.lZ)(s(e)),c=l(),d=(0,o.DH)(c);return(0,r.Zs)((r=>{let{snapshot:n}=r;return async r=>{if(i(r),!t)return;const o=n.retain();try{await d({...e?{[e]:r}:r}),a&&a()}catch(l){const t=await n.getPromise(s());i(e?t[e]:t)}finally{o()}}}),[e,t,a,n])},d=(e,t)=>[i(e),c(e,t)]},2025:(e,t,a)=>{"use strict";a.d(t,{DH:()=>A,jA:()=>y,yK:()=>f,z2:()=>v});a(9920),a(41393),a(98992),a(3949),a(81454);var r=a(47444),n=a(61649),o=a(71835),s=a(69765),i=a(3914),l=a(72802),c=a(68980),d=a(86652),u=a(58388),m=a(80925),g=a(27078),p=a(91517),h=a(43124);const f=(e,t)=>{const[a,r]=(0,o.A)();return(0,n.A)((function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const o=(0,l.k9)(e,t,n);return o.then((e=>(a({header:"Dashboards",text:"Dashboard successfully created!"}),e))).catch((e=>!e.isCancel&&r(e))),o}),[e,t])},y=()=>{const[e,t]=(0,o.A)();return(0,n.A)((a=>{let{dashboards:r}=a;const n=r.map((e=>{let{id:t}=e;return t})).toString(),o=r[0].roomId,s=r[0].spaceId;return(0,l.A_)(s,o,n).then((()=>e({header:"Dashboards",text:"Dashboards successfully deleted!"}))).catch((e=>!e.isCancel&&t))}),[])},v=e=>{const t=(0,c.fz)(e,"spaceId"),a=(0,c.fz)(e,"roomId"),[r,s]=(0,o.A)();return(0,n.A)((()=>{const n=(0,l.A_)(t,a,e);return n.then((()=>r({header:"Dashboards",text:"Dashboard successfully deleted!"}))).catch((e=>!e.isCancel&&s(e))),n}),[e,t,a])},A=function(e){let{onSuccess:t,onFail:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(0,m.eg)(),o=(0,i.vt)(),f=(0,s.ID)();return(0,r.Zs)((r=>{let{snapshot:s,set:i}=r;return function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;i((0,c.Qx)({id:r,key:"processing"}),!0);const m=s.getLoadable((0,c.Qx)({id:r})).contents,{layout:y,containerIds:v,containers:A}=s.getLoadable((0,d.kY)({id:r})).contents,b=s.getLoadable((0,u.nG)({id:r})).contents,S=(0,g.My)(n,r),k={version:m.version+1,name:m.name,snapshot:{uiState:{layout:y,containerIds:v,containers:A,cards:b}}},I=(0,l.mQ)(o,f,r,k);return I.then((e=>{let{data:a}=e;const{createdAt:r,id:n,name:s,roomID:l=f,slug:m,spaceID:g=o,updatedAt:y,version:v}=a,{cards:A}=(0,p.S)(a);i((0,u.nG)({id:n}),A),i((0,c.Qx)({id:n}),(e=>({...e,createdAt:r,id:n,name:s,roomId:l,slug:m,spaceId:g,updatedAt:y,version:v,processing:!1}))),i(h.H9,m),i((0,h.yC)([g,l,m]),n),i((0,d.Ie)(n)),S&&Object.keys(A).forEach((e=>{"text"!==A[e].type&&S.getNode({cardId:e})?.removePristine?.()})),t&&t(a)})).catch((e=>{throw i((0,c.Qx)({id:r,key:"processing"},!1)),a&&a(e),e})),I}}))}},67544:(e,t,a)=>{"use strict";a.d(t,{A_:()=>x,Dn:()=>I,Kv:()=>b,Ts:()=>E,W6:()=>w,c6:()=>k,nM:()=>S});a(17333),a(9920),a(14905),a(98992),a(54520),a(3949),a(8872),a(25509),a(65223),a(60321),a(41927),a(11632),a(64377),a(66771),a(12516),a(68931),a(52514),a(35694),a(52774),a(49536),a(21926),a(94483),a(16215);var r=a(96540),n=a(47444),o=a(33829),s=a(54621),i=a(21591),l=a(30673),c=a(8196),d=a(86652),u=a(68980),m=a(58388),g=a(72802),p=a(2025);const h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{...l.kG,...l.Pk,id:(0,o.A)(),contextScope:e,...t}},f="A",y=e=>function(t,a){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;return r=r||{},n=n||Object.keys(t)[0]||f,{...t,[n]:[...t[n]||[],{...e,...r,id:a}]}},v=y(c.u6),A=y(c.BC),b=e=>(0,n.Zs)((t=>{let{set:a,snapshot:r}=t;return async function(){let{dashboardId:t,containerId:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=(0,o.A)(),i={...l.kG,...l.cY,id:s,editing:!0};e=e||t;const c=await r.getPromise((0,d.kY)({id:e,key:"containerIds"}));n=n||c[0]||f,a((0,u.Qx)({id:e,key:"cardIds"}),(e=>[...e,s])),a((0,d.xB)(e),(e=>A(e,s,null,n))),a((0,d.MX)(e),(e=>e.includes(n)?e:[...new Set([...e,n])])),a((0,m.nG)({id:e,resourceId:s}),i)}})),S=e=>(0,n.Zs)((t=>{let{set:a,snapshot:r}=t;return async function(t){let{itemLayout:n,containerId:o,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const l=h(t,s),{id:c,dashboardId:g}=l;e=e||g;const p=await r.getPromise((0,d.kY)({id:e,key:"containerIds"}));o=o||p[0]||f,a((0,u.Qx)({id:e,key:"cardIds"}),(e=>[...e,c])),a((0,d.xB)(e),(e=>v(e,c,n,o))),a((0,d.MX)(e),(e=>e.includes(o)?e:[...new Set([...e,o])])),a((0,m.nG)({id:e,resourceId:c}),l),i(l)}})),k=(e,t,a)=>(0,n.Zs)((r=>{let{set:n}=r;return()=>{n((0,u.Qx)({id:e,key:"cardIds"}),(e=>e.filter((e=>e!==t)))),n((0,d.xB)(e),(e=>{if(!t){const t={...e};return delete t[a],t}return a?{...e,[a]:e[a].filter((e=>{let{id:a}=e;return a!==t}))}:Object.keys(e).reduce(((a,r)=>({[r]:e[r].filter((e=>{let{id:a}=e;return a!==t}))})),{})})),a&&n((0,d.MX)(e),(e=>e.filter((e=>e!==a)))),t&&n((0,m.nG)({id:e}),(e=>{const a={...e};return delete a[t],a}))}})),I=function(e,t){let{onSuccess:a,onFail:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=(0,p.yK)(e,t);return(0,n.Zs)((n=>{let{set:s}=n;return async function(n){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;try{const{data:a}=await o(n),r={...n,spaceId:e,roomId:t,...a,loaded:!0};s((0,u._d)(a.id),r),s((0,i.hZ)(t),r),l&&l(r)}catch(c){r?r(n):console.warn("failed",c)}}}),[o,e,a,r])},w=(e,t,a)=>{const n=I(e,t,a);return(0,r.useCallback)(((r,o,s)=>{const i=h(o,s);return n({name:r},(r=>{(0,g.mQ)(e,t,r.id,{version:r.version+1||2,snapshot:{uiState:v({},i.id,s.itemLayout),items:[{...i,cardAttributes:{...s,id:i.id}}]}}),a?.onSuccess?.(r)}))}),[n])},E=()=>(e=>{const t=(0,s.nT)();return(0,n.Zs)((a=>{let{snapshot:r,set:n}=a;return async function(a){let{ids:o}=a,{onSuccess:s,onFail:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const c=await r.getPromise((0,u.dE)(o));e({dashboards:c}).then((()=>{c.forEach((e=>{let{id:a,roomId:r}=e;n((0,u.kg)(a)),n((0,i.wt)(r),[a]),t(a)})),s&&s(c)})).catch((e=>{l?l(c):console.warn("failed",e)}))}}),[e])})((0,p.jA)()),x=(e,t)=>function(e,t){let{onSuccess:a,onFail:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=(0,u.fz)(e,"spaceId"),l=(0,u.fz)(e,"roomId"),c=(0,s.nT)();return(0,n.Zs)((n=>{let{snapshot:o,set:s}=n;return async()=>{const n=await o.getPromise((0,u.Qx)({id:e}));try{await t(),s((0,u.kg)(e)),s((0,i.wt)(l),[e]),c(e),a&&a(n)}catch(d){r?r(n):console.warn("failed",d)}}}),[t,o,l,e,a,r])}(e,(0,p.z2)(e),t)},72802:(e,t,a)=>{"use strict";a.d(t,{A_:()=>l,f7:()=>c,k9:()=>i,mQ:()=>s});var r=a(31629),n=a(37618);const o=(0,a(63457).A)("netdata"),s=(e,t,a,s)=>(0,n.ES)(e)&&a===n.LA?o.get(n.LA).then((e=>e||n.mz)).then((e=>{const t={createdAt:(new Date).toISOString(),...e,updatedAt:(new Date).toISOString(),...s};return o.set(n.LA,t),{data:t}})):r.A.patch(`/api/v1/spaces/${e}/rooms/${t}/dashboards/${a}`,s),i=(e,t,a)=>r.A.post(`/api/v1/spaces/${e}/rooms/${t}/dashboards`,a),l=(e,t,a)=>r.A.delete(`/api/v1/spaces/${e}/rooms/${t}/dashboards?dashboard_ids=${a}`),c=(e,t,a)=>(0,n.ES)(e)&&a===n.LA?o.get(n.LA,{maxAge:null}).then((e=>({data:e||n.mz}))):r.A.get(`/api/v1/spaces/${e}/rooms/${t}/dashboards/${a}`)},30673:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>i,Pk:()=>n,cY:()=>o,kG:()=>s});var r=a(47444);const n={pristine:{},id:null,type:"chart"},o={pristine:{},id:null,text:"",editing:!1,type:"text",textType:"text"},s={id:null,type:""},i=(0,r.Iz)({key:"dashboardCards",default:{}})},58388:(e,t,a)=>{"use strict";a.d(t,{T6:()=>l,bE:()=>i,nG:()=>o,r:()=>d,v_:()=>c});var r=a(47444),n=a(30673);const o=(0,r.K0)({key:"dashboardCardsState",get:e=>{let{id:t,resourceId:a}=e;return e=>{let{get:r}=e;const o=r((0,n.Ay)(t));return a?o[a]||n.kG:o}},set:e=>{let{id:t,resourceId:a}=e;return(e,r)=>{let{set:o}=e;return a?"function"===typeof r?o((0,n.Ay)(t),(e=>({...e,[a]:r(e[a])}))):void o((0,n.Ay)(t),(e=>({...e,[a]:{...e[a],...r}}))):o((0,n.Ay)(t),r)}}}),s=(0,r.K0)({key:"dashboardCardState",get:e=>{let{id:t,resourceId:a,key:r}=e;return e=>{let{get:n}=e;const s=n(o({id:t,resourceId:a}));return r?s[r]:s}},set:e=>{let{id:t,resourceId:a,key:r}=e;return(e,n)=>{let{set:s}=e;return s(o({id:t,resourceId:a}),r?{[r]:n}:n)}}}),i=(e,t,a)=>(0,r.vc)(s({id:e,resourceId:t,key:a})),l=e=>{const t=(0,r.vc)(s({id:e}));return e=>t[e]||n.kG},c=(e,t,a)=>(0,r.lZ)(s({id:e,resourceId:t,key:a})),d=(e,t,a)=>(0,r.L4)(s({id:e,resourceId:t,key:a}))},8018:(e,t,a)=>{"use strict";a.d(t,{A:()=>u});var r=a(58168),n=a(96540),o=a(65336),s=a(80542),i=a(27229),l=a(49667);const c=`Cannot exceed ${l.q} characters`,d=e=>{const t=e.length<=l.q;return(0,s.H)(t,c)},u=e=>{let{value:t,isValid:a,setIsValid:l,onChange:c,label:u,validators:m=[],hint:g,placeholder:p="Enter dashboard name",...h}=e;const f=(0,s.k)([d,...m]),[y,v]=(0,n.useState)("");return(0,n.useEffect)((()=>{const e=f(t),r=e.isValid,n=(0,i.W)(e);!a&&r?l(!0):a&&!r&&l(!1),v(n||"")}),[a,l,f,t]),n.createElement(o.TextInput,(0,r.A)({label:u||" ",name:"name",placeholder:p,value:t,onChange:c,hint:g,error:!a&&y},h))}},49667:(e,t,a)=>{"use strict";a.d(t,{$:()=>o,q:()=>n});var r=a(68831);const n=50,o=`${r.A.assetsBaseURL}/img/new-dashboard.svg`},8196:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>i,BC:()=>n,u6:()=>o,ue:()=>s});var r=a(47444);const n={id:null,left:0,top:0,width:12,height:2,minWidth:1,minHeight:.5},o={id:null,left:0,top:0,width:10,height:9,minWidth:1,minHeight:3},s={layout:{},containerIds:[],containers:{},pristine:{}},i=(0,r.Iz)({key:"dashboardLayout",default:s})},86652:(e,t,a)=>{"use strict";a.d(t,{kY:()=>i,Ie:()=>d,MX:()=>m,xB:()=>c,Ix:()=>g,QZ:()=>p,B1:()=>u,Xc:()=>l});var r=a(47444),n=a(65570);var o=a(8196);const{updatePristine:s}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pristine";return{updatePristine:(t,a,r)=>{if(!(a in(t[e]||{}))&&!(0,n.Ay)(t[a],r))return{...t,[e]:{...t[e],[a]:t[a]}};if((0,n.Ay)(t[e][a],r)){const r={...t[e]};return delete r[a],{...t,[e]:r}}return t},resetPristine:t=>({...t,...t[e],[e]:{}})}}(),i=(0,r.K0)({key:"dashboardLayoutState",get:e=>{let{id:t,key:a}=e;return e=>{let{get:r}=e;const n=r((0,o.Ay)(t));return a?n[a]:n}},set:e=>(t,a)=>{let{set:r}=t;r((0,o.Ay)(e),{...o.ue,...a})}}),l=(e,t)=>(0,r.vc)(i({id:e,key:t})),c=(0,r.K0)({key:"updateDashboardLayoutState",get:e=>t=>{let{get:a}=t;return a(i({id:e,key:"layout"}))},set:e=>(t,a)=>{let{set:r}=t;r((0,o.Ay)(e),(e=>({...e,...s(e,"layout",a),layout:a})))}}),d=(0,r.K0)({key:"removePristineDashboardLayoutState",set:e=>t=>{let{set:a}=t;a((0,o.Ay)(e),(e=>({...e,pristine:{}})))}}),u=e=>{const t=l(e,"layout"),a=(e=>(0,r.lZ)(c(e)))(e);return[t,a]},m=(0,r.K0)({key:"updateDashboardContainerIdsState",get:e=>t=>{let{get:a}=t;return a(i({id:e,key:"containerIds"}))},set:e=>(t,a)=>{let{set:r}=t;r((0,o.Ay)(e),(e=>({...e,...s(e,"containerIds",a),containerIds:a})))}}),g=e=>{const t=l(e,"containerIds"),a=(e=>(0,r.lZ)(m(e)))(e);return[t,a]},p=((0,r.K0)({key:"updateDashboardContainersState",get:e=>t=>{let{get:a}=t;return a(i({id:e,key:"containers"}))},set:e=>(t,a)=>{let{set:r}=t;r((0,o.Ay)(e),(e=>({...e,...s(e,"containers",a),containers:a})))}}),(e,t)=>l(e,"containers")?.[t])},68980:(e,t,a)=>{"use strict";a.d(t,{_u:()=>S,_d:()=>b,yl:()=>I,kg:()=>k,Qx:()=>h,dE:()=>v,zi:()=>T,oj:()=>N,zN:()=>C,TN:()=>f,fz:()=>y,Sf:()=>A});a(41393),a(8159),a(98992),a(81454),a(37550);var r=a(96540),n=a(47444),o=a(3914),s=a(69765),i=a(80925),l=a(86652),c=a(58388),d=a(43124),u=a(37618);const m={id:null,loaded:!1,fullyLoaded:!1,loading:!1,processing:!1,isOwner:!1,spaceSlug:"",roomSlug:"",spaceId:"",roomId:"",name:"",slug:"",version:0,createdAt:"",updatedAt:"",cardIds:[]},g=(0,n.Iz)({key:"dashboard",default:m,effects:e=>u.LA===e?[e=>{let{setSelf:t,trigger:a}=e;"get"===a&&t(u.mz)}]:[]});var p=a(27078);const h=(0,n.K0)({key:"dashboardState",get:e=>{let{id:t,key:a}=e;return e=>{let{get:r}=e;const n=r(g(t));return a?n[a]:n}},set:e=>{let{id:t,key:a}=e;return(e,r)=>{let{set:n}=e;return a?"function"===typeof r?n(g(t),(e=>({...e,[a]:r(e[a])}))):void n(g(t),(e=>({...e,[a]:r}))):n(g(t),{...m,...r})}}}),f=e=>{let{id:t,key:a}=e;return(0,n.L4)(h({id:t,key:a}))},y=(e,t)=>(0,n.vc)(h({id:e,key:t})),v=(0,n.K0)({key:"dashboardsState",get:e=>t=>{let{get:a}=t;return e.map((e=>a(h({id:e}))))},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),A=e=>(0,n.vc)(v(e)),b=(0,n.K0)({key:"dashboardInitializeState",get:e=>t=>{let{get:a}=t;return a(g(e))},set:e=>(t,a)=>{let{set:r}=t;r(h({id:e}),{...a,loaded:!0});const{spaceId:n,roomId:o,slug:s}=a;r((0,d.yC)([n,o,s]),e)}}),S=(0,n.K0)({key:"dashboardFullyInitializeState",set:e=>(t,a)=>{let{set:r}=t,{layout:n={},containerIds:o=[],containers:s={},dashboard:i={},cards:u={}}=a;r(h({id:e}),{...i,loaded:!0,fullyLoaded:!0,loading:!1}),r((0,l.kY)(e),{layout:n,containerIds:o,containers:s}),r((0,c.nG)({id:e}),u);const{spaceId:m,roomId:g,slug:p}=i;r((0,d.yC)([m,g,p]),e)}}),k=(0,n.K0)({key:"dashboardReset",set:e=>t=>{let{get:a,set:r,reset:n}=t;const{spaceId:o,roomId:s,slug:i}=a(g(e));n(g(e)),r(d.H9,null),n((0,d.yC)([o,s,i]))}}),I=(0,n.K0)({key:"dashboardLoadingState",set:e=>(t,a)=>{let{set:r}=t;r(h({id:e,key:"loading"}),a)}}),w=e=>{let{pristine:t={}}=e;return 0===Object.keys(t).length},E=(0,n.K0)({key:"dashboardIsPristineState",get:e=>t=>{let{get:a}=t;const r=a((0,c.nG)({id:e}));return!Object.keys(r).length||Object.keys(r).some((e=>w(r[e])))}}),x=(0,n.K0)({key:"dashboardLayoutIsPristineState",get:e=>t=>{let{get:a}=t;return w(a((0,l.kY)({id:e})))}}),C=e=>{const t=(0,i.eg)(),a=()=>{const a=(0,p.My)(t,e);return!a||!a.getChildren().some((e=>{return t=e.getAttribute("pristine"),!(0===Object.keys(t).length);var t}))},[o,s]=(0,r.useState)(a);(0,r.useEffect)((()=>t?.on("pristineChanged",(()=>s(a)))),[t]);const l=(0,n.vc)(E(e)),c=(0,n.vc)(x(e));return o&&l&&c},T=e=>{const t=(0,o.vt)(),a=(0,s.ID)(),r=(0,d.Tf)();return(0,d.mS)(t,a,e||r)},N=e=>{const t=T();return y(t,e)}},43124:(e,t,a)=>{"use strict";a.d(t,{H9:()=>o,Tf:()=>i,Xv:()=>l,mS:()=>c,yC:()=>s});var r=a(47444),n=a(37618);const o=(0,r.eU)({key:"currentDashboardSlug",default:null}),s=(0,r.Iz)({key:"dashboardIdBySlug",default:"",effects:e=>{let[t,a,r]=e;return(0,n.ES)(t)&&r===n.LA?[e=>{let{setSelf:t,trigger:a}=e;"get"===a&&t(n.LA)}]:[]}}),i=()=>(0,r.vc)(o),l=e=>(0,r.lZ)(o,e),c=(e,t,a)=>(0,r.vc)(s([e,t,a]))},27078:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>F,My:()=>K,qh:()=>B});a(3064),a(9920),a(98992),a(72577),a(3949);var r=a(96540),n=a(17323),o=a(13624),s=a(80925),i=a(11128),l=a(45467),c=a(68980),d=a(47767),u=a(22332),m=a(58388);var g=a(58384),p=a(58168),h=a(46741);const f=e=>{let{category:t,closeParent:a,context:n,openDialog:o,...s}=e;const i=(0,h.JT)("dashboard:Update");return r.createElement(g.t,(0,p.A)({icon:"trashcan",onClick:()=>{o(),a()},"data-ga":`${t}::click-remove::${n}`,"data-testid":"removeChart-option",disabled:!i},s),"Remove")},y=e=>{let{category:t,closeParent:a,context:n,openModal:o}=e;const s=(0,h.JT)("dashboard:Update");return r.createElement(g.t,{icon:"pencilOutline",onClick:()=>{a(),o()},"data-testid":"renameChart-option","data-ga":`${t}::click-rename-chart::${n}`,disabled:!s},"Rename chart")};var v=a(65336),A=a(67544),b=a(47762);const S=e=>{let{cardId:t,close:a,id:n}=e;const{nodeId:o,chartId:s}=(0,m.bE)(n,t),i=(0,b.xY)(o,"name"),l=(0,A.c6)(n,t);return r.createElement(v.ConfirmationDialog,{"data-ga":"remove-chart-dialog","data-testid":"removeChartDialog",handleConfirm:l,handleDecline:a,message:r.createElement(r.Fragment,null,"You are about to remove ",r.createElement("strong",null,s),i&&r.createElement(r.Fragment,null," ","of node ",r.createElement("strong",null,i)),".",r.createElement("br",null),"Are you sure you want to continue?"),title:"Remove chart"})};var k=a(15327),I=a(74618),w=a(45765),E=a(78969),x=a(8018),C=a(2025);const T=e=>{let{id:t,cardId:a,close:n}=e;const[o,s]=(0,r.useState)(!0),[i,l]=(0,m.r)(t,a,"title"),[c,d]=(0,r.useState)(i||""),u=c!==i,g=o&&u,p=(0,C.DH)(t),h=(0,r.useCallback)((()=>{l(c),p().then((()=>n()))}),[n,c]);return r.createElement(k.GO,{onClose:n,"data-testid":"renameChart-modal"},r.createElement(I.z,{onClose:n,title:"Rename Chart"},r.createElement(v.Button,{label:"Save Changes",onClick:h,disabled:!g})),r.createElement(w.U,{"data-testid":"renameChart-title"},"Rename chart ",i),r.createElement(k.Yv,null,r.createElement(x.A,{value:c,label:"Name",onChange:e=>{d(e.target.value)},isValid:o,setIsValid:s,isDirty:u,instantFeedback:"all",onKeyDown:e=>e.keyCode===E.I7&&g&&h(),"data-testid":"renameChart-input",placeholder:"Chart name"})))};var N=a(87659);const R="chart-options",M="custom-dashboard",D=e=>{let{id:t,cardId:a,onClick:n}=e;const o=(0,d.Zp)(),s=(0,m.bE)(t,a,"chartId"),{spaceSlug:i,roomSlug:l}=(0,c.fz)(t);return r.createElement(g.t,{icon:"line_chart",onClick:()=>{n();const e=(e=>{return`chart_${t=e,"string"===typeof t?t.replace(/ /g,"_").replace(/:/g,"_").replace(/\(/g,"_").replace(/\)/g,"_").replace(/\./g,"_").replace(/\//g,"_"):""}`;var t})(s);o(`/spaces/${i}/rooms/${l}/overview#chartName=${e}`)},"data-ga":`${R}::click-go-to-chart::${M}`,"data-testid":"chart-goToChart"},"Go to Chart")},_=()=>{const[e,,t,a]=(0,N.A)(),[n,,o,s]=(0,N.A)(),i=(0,u.useAttributeValue)("cardId"),l=(0,u.useAttributeValue)("dashboardId");return r.createElement(r.Fragment,null,r.createElement(g.A,{category:R,context:M,testId:"chartDropdown"},(e=>{let{close:a}=e;return r.createElement(r.Fragment,null,r.createElement(D,{id:l,cardId:i,onClick:a}),r.createElement(y,{id:l,cardId:i,closeParent:a,openModal:o,category:R,context:M}),r.createElement(f,{cardId:i,category:R,closeParent:a,context:M,id:l,openDialog:t}))})),e&&r.createElement(S,{cardId:i,close:a,id:l}),n&&r.createElement(T,{cardId:i,close:s,id:l}))};var P=a(60247),U=a(13752),$=a(92815),L=a(72582);const K=(e,t)=>e&&e.getRoot().getChildren().find((e=>e.match({id:t}))),B=e=>t=>`dashboard-page::${e.getAttribute("id")}::${t}`,F=e=>{const t=(0,s.eg)(),a=(0,i.w7)({extraKey:`dashboard-${e}`,merge:!1,scoped:!0}),{spaceId:d,roomId:u}=(0,c.fz)(e),m=(0,o.K)({spaceId:d,roomId:u});(0,r.useMemo)((()=>{if(!t)return;let r=K(t,e);r||(r=t.makeContainer({attributes:{...t.getRoot().getAttributes(),id:e,navigation:"pan",nodesScope:a,overlays:{proceeded:{type:"proceeded"}},host:m,leftHeaderElements:[_,n.default],toolboxElements:[L.default,U.default,$.default,P.A]}}),t.appendChild(r))}),[t,e]),(0,l.A)((()=>{if(!t)return;const r=K(t,e);r&&r.getNodes().forEach((e=>e.updateAttribute("nodesScope",a)))}),[t,u,a]),(0,r.useEffect)((()=>()=>{const a=K(t,e);a&&a.destroy()}),[t,u])}},91517:(e,t,a)=>{"use strict";a.d(t,{A:()=>y,S:()=>f});a(41393),a(14905),a(98992),a(81454),a(8872),a(25509),a(65223),a(60321),a(41927),a(11632),a(64377),a(66771),a(12516),a(68931),a(52514),a(35694),a(52774),a(49536),a(21926),a(94483),a(16215);var r=a(96540),n=a(47444),o=a(44554),s=a(8196),i=a(30673),l=a(72802),c=a(68980);const d={TextCard:"text",ChartCard:"chart",compositeChart:"chart",chart:"chart",text:"text"},u=new Set(["text","chart"]),m=(e,t)=>{t=(e=>{let{i:t,id:a=t,x:r,left:n=r,y:o,top:s=o,w:i,width:l=i,h:c,height:d=c}=e;return{id:a,width:l,height:d,left:n,top:s}})(t);return{...e[t.id]?.type&&"text"!==e[t.id]?.type?s.u6:s.BC,...t}},g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.trim().startsWith("<p>")?e:`<p>${e}</p>`},p="A",h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const a=Array.isArray(e),r=[],n=t.reduce(((e,t)=>{let{type:a,cardID:n,id:o=n,chartID:s,chartId:l=s,nodeID:c,nodeId:m=c,chartMetadata:p,context:h,attributes:f,cardAttributes:y=f,contextScope:v,text:A,...b}=t;if(v=v||[h||p?.context||l],a=d[a]||a,e[o]={id:o,type:a,nodeId:m,contextScope:v},u.has(a)){if(r.push(o),"text"===a)return e[o]={...i.cY,...y,text:g(A||y.text),...e[o]},e;e[o]=(e=>{let{aggregationMethod:t,chartType:a,dimensions:r=[],selectedDimensions:n=r||[],filteredLabels:o=[],selectedLabels:s=o||[],selectedNodeIds:l=[],selectedNodes:c=l||[],selectedInstances:d=[],chartId:u,groupBy:m,groupingMethod:g,id:p,host:h,...f}=e;return{...i.Pk,aggregationMethod:t||"avg",chartType:a||"line",selectedDimensions:Array.isArray(n)?n:[],selectedLabels:Array.isArray(s)?s:s&&"object"===typeof s?Object.keys(s):[],selectedNodes:Array.isArray(c)?c:[],selectedInstances:Array.isArray(d)?d:u?[u]:[],groupBy:Array.isArray(m)?m:m?[m]:["dimension"],groupingMethod:g||"average",id:p,...f}})({...b,...y,chartId:l,...e[o]})}return e}),{});return{layout:a?e?{[p]:e.map((e=>m(n,e)))}:{[p]:t.map((e=>{let{layout:t}=e;return m(n,t)}))}:e||{[p]:[]},containerIds:[p],containers:{[p]:{name:p}},cards:n}},f=e=>{let{id:t,name:a,slug:r,version:n,createdAt:s,updatedAt:i,snapshot:l}=e;const c=Array.isArray(l.uiState)||!l.uiState?.layout,{layout:d,containerIds:u,containers:g,cards:p}=c?h(l.uiState,l.items||[]):l.uiState,f={id:t,name:a,slug:r,version:n,createdAt:s,updatedAt:i,cardIds:Object.keys(p)};return{layout:Object.keys(d).reduce(((e,t)=>({...e,[t]:(0,o.bj)(d[t].map((e=>m(p,e))),"vertical")})),{}),containerIds:u,containers:g,dashboard:f,cards:p}},y=(e,t)=>{let{spaceId:a,spaceSlug:o,roomId:s,roomSlug:i}=t;const[d,u]=(0,r.useState)(!0),m=(0,n.Zs)((t=>{let{set:r}=t;return async()=>{u(!0),r((0,c.yl)(e),!0);const{data:t}=await(0,l.f7)(a,s,e),{layout:n,containerIds:d,containers:m,dashboard:g,cards:p}=f(t);r((0,c._u)(e),{layout:n,containerIds:d,containers:m,dashboard:{...g,spaceSlug:o,roomSlug:i,spaceId:a,roomId:s},cards:p}),u(!1),r((0,c.yl)(e),!1)}}));return(0,r.useEffect)((()=>{e&&m(e)}),[e]),d}},54702:(e,t,a)=>{"use strict";a.d(t,{D4:()=>s,XY:()=>l,kE:()=>o,w5:()=>c});a(41393),a(81454);var r=a(31629);const n=e=>e.map((e=>{let{accountID:t,...a}=e;return{id:t,...a}})),o=e=>r.A.get(`/api/v2/spaces/${e}/members`,{allow401:!0,transform:n}),s=(e,t)=>r.A.get(`/api/v2/spaces/${e}/rooms/${t}/members`,{allow401:!0,transform:n}),i=e=>{let{account_ids:t}=e;return`account_ids=${t.join(",")}`},l=(e,t)=>r.A.delete(`/api/v1/spaces/${e}/members`,{paramsSerializer:i,params:{account_ids:t}}),c=(e,t,a)=>r.A.patch(`/api/v1/spaces/${e}/members/${t}`,a)},35273:(e,t,a)=>{"use strict";a.d(t,{A:()=>o,u:()=>n});var r=a(47444);const n={id:null,avatarURL:null,deactivated:!1,email:"",joinedAt:null,name:"",role:""},o=(0,r.eU)({key:"member",default:{}})},70716:(e,t,a)=>{"use strict";a.d(t,{Uv:()=>c,WJ:()=>d,Z6:()=>l,m:()=>i});a(9920),a(41393),a(98992),a(3949),a(81454);var r=a(47444),n=a(64454),o=a(65570),s=a(35273);const i=(0,r.K0)({key:"memberState",get:e=>{let{id:t,key:a}=e;return e=>{let{get:r}=e;const n=r(s.A)[t]||s.u;return a?n[a]:n}},set:e=>{let{id:t,key:a}=e;return(e,r)=>{let{set:n}=e;n(s.A,a?"function"!==typeof r?e=>({...e,[t]:{...e[t],[a]:r}}):e=>({...e,[t]:{...e[t],[a]:r(e[t][a])}}):e=>({...e,[t]:{...s.u,...e[t],...r}}))}}}),l=(0,r.K0)({key:"membersState",get:e=>t=>{let{get:a}=t;return e.map((e=>a(i({id:e}))))},set:()=>(e,t)=>{let{set:a,get:r}=e;const n=r(s.A);t.forEach((e=>{n[e.id]=e})),a(s.A,n)},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),c=e=>(0,r.vc)(l(e)),d=(0,r.gD)({key:"membersInitialize",get:e=>{let{get:t}=e;return t(s.A)},set:(e,t)=>{let{set:a}=e,{values:r,merge:i}=t;return a(s.A,(e=>{const t=i?(0,n.A)(e,r):r;return(0,o.Ay)(t,e)?e:t}))}})},54621:(e,t,a)=>{"use strict";a.d(t,{DF:()=>S,_F:()=>h,ZB:()=>f,xK:()=>v,nT:()=>A,NU:()=>b,tV:()=>y});a(17333),a(3064),a(41393),a(98992),a(54520),a(72577),a(81454);var r=a(96540),n=a(47444),o=a(3914),s=a(69765);const i=e=>{let{spaceSlug:t,roomSlug:a}=e;return`${t}-${a}-tabs`},l=(e,t)=>{let{spaceSlug:a,roomSlug:r}=e;const n=i({spaceSlug:a,roomSlug:r});Promise.resolve().then((()=>{try{localStorage.setItem(n,JSON.stringify(t))}catch(e){}}))},c=(0,n.Iz)({key:"navigation",default:function(e){let{spaceSlug:t,roomSlug:a}=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{const e=i({spaceSlug:t,roomSlug:a}),n=localStorage.getItem(e);return n?JSON.parse(n):r}catch(n){return r}}}),d=(0,n.K0)({key:"navigationTabsState",get:e=>{let{spaceSlug:t,roomSlug:a}=e;return e=>{let{get:r}=e;return r(c({spaceSlug:t,roomSlug:a}))}},set:e=>{let{spaceSlug:t,roomSlug:a}=e;return(e,r)=>{let{set:n}=e;r&&t&&a&&n(c({spaceSlug:t,roomSlug:a}),(e=>{if(e.find((e=>{let{id:t}=e;return r.id===t})))return e;const n=[...e,r];return l({spaceSlug:t,roomSlug:a},n),n}))}}}),u=(0,n.K0)({key:"navigationTabsState/remove",get:()=>()=>null,set:e=>{let{spaceSlug:t,roomSlug:a}=e;return(e,r)=>{let{set:n}=e;n(c({spaceSlug:t,roomSlug:a}),(e=>{const n=e.filter(((e,t)=>t!==r));return l({spaceSlug:t,roomSlug:a},n),n}))}}}),m=(0,n.K0)({key:"navigationTabsState/removeById",get:()=>()=>null,set:e=>{let{spaceSlug:t,roomSlug:a}=e;return(e,r)=>{let{set:n}=e;n(c({spaceSlug:t,roomSlug:a}),(e=>{const n=e.filter((e=>e.id!==r));return l({spaceSlug:t,roomSlug:a},n),n}))}}}),g=(0,n.K0)({key:"navigationTabsState/reorder",get:()=>()=>null,set:e=>{let{spaceSlug:t,roomSlug:a}=e;return(e,r)=>{let{set:n}=e,{sourceIndex:o,destinationIndex:s}=r;n(c({spaceSlug:t,roomSlug:a}),(e=>{const r=[...e],[n]=r.splice(o,1);return r.splice(s,0,n),l({spaceSlug:t,roomSlug:a},r),r}))}}}),p=(0,n.K0)({key:"navigationTabsState/removeById",get:()=>()=>null,set:e=>{let{spaceSlug:t,roomSlug:a}=e;return(e,r)=>{let{set:n}=e,{id:o,slug:s,path:i}=r;n(c({spaceSlug:t,roomSlug:a}),(e=>{const r=e.map((e=>e.id!==o?e:{...e,title:s,path:i}));return l({spaceSlug:t,roomSlug:a},r),r}))}}}),h=()=>{const e=(0,o.bq)(),t=(0,s.QW)();return(0,n.vc)(d({spaceSlug:e,roomSlug:t}))},f=e=>{let{title:t,path:a,id:i,destination:l,type:c="nodes",params:u,isReady:m=!0,...g}=e;const p=(0,s.r9)(),h=(0,o.bq)(),f=(0,s.QW)(),y=(0,n.lZ)(d({spaceSlug:h,roomSlug:f}));(0,r.useEffect)((()=>{if(!m)return;if(!i||!t)return;y({id:i,title:t,type:c,icon:"alerts"===c?"alarm":"node_hollow",params:u,path:`${a||p}/${c}/${l}`,...g})}),[p,t,a,i,l,c,y,m])},y=()=>{const e=(0,s.r9)(),t=(0,o.bq)(),a=(0,s.QW)(),i=(0,n.lZ)(d({spaceSlug:t,roomSlug:a}));return(0,r.useCallback)((t=>{let{title:a,path:r,id:n,destination:o,type:s="nodes",params:l,...c}=t;if(!n||!a)return;i({id:n,title:a,type:s,icon:"alerts"===s?"alarm":"node_hollow",params:l,path:`${r||e}/${s}/${o}`,...c})}),[e,i])},v=()=>{const e=(0,o.bq)(),t=(0,s.QW)();return(0,n.lZ)(u({spaceSlug:e,roomSlug:t}))},A=()=>{const e=(0,o.bq)(),t=(0,s.QW)();return(0,n.lZ)(m({spaceSlug:e,roomSlug:t}))},b=()=>{const e=(0,o.bq)(),t=(0,s.QW)();return(0,n.lZ)(g({spaceSlug:e,roomSlug:t}))},S=()=>{const e=(0,o.bq)(),t=(0,s.QW)();return(0,n.lZ)(p({spaceSlug:e,roomSlug:t}))}},9224:(e,t,a)=>{"use strict";a.d(t,{Bz:()=>h,E3:()=>w,F:()=>S,UL:()=>c,VP:()=>u,az:()=>s,e0:()=>v,iY:()=>m,ih:()=>I,q5:()=>i,sm:()=>p,tz:()=>d,uQ:()=>l,ys:()=>g});var r=a(31629),n=a(37618),o=a(49286);const s=(e,t)=>r.A.get(`/api/v1/agents/${e}/user_agent_node_access?nodeID=${t}`,{transform:o.bn}),i=(e,t,a)=>r.A.get(`/api/v2/bearer_get_token?node_id=${e}&claim_id=${a}&machine_guid=${t}`,{transform:function(){let{token:e,expiration:t,bearer_protection:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{token:e,expiration:t,bearerProtection:a}}}),l=e=>r.A.get(`/api/v1/accounts/${e}/nodes`),c=(e,t)=>r.A.post(`/api/v1/accounts/${e}/nodes/${t}/touch`),d=(e,t)=>r.A.get(`/api/v1/accounts/${e}/nodes/${encodeURIComponent(t)}`),u=(e,t,a)=>{const o=(0,n.tB)(t);return o||a?r.A.get(o?"/api/v3/info":`/api/v2/nodes/${a}/info`,{transform:e=>({...e,nodeId:a}),baseURL:o?window.envSettings.agentApiUrl:""}):Promise.resolve({data:{}})},m=e=>r.A.get(`/api/v1/agents/${e}/info`),g=e=>r.A.get(`/api/v1/agents/${e}/user_access`,{transform:e=>e.authorizedNodeIDs}).catch((()=>({data:[]}))),p=(e,t)=>r.A.delete(`/api/v1/accounts/${e}/nodes`,{params:{node_ids:t.join(",")}}),h=(e,t,a,n)=>r.A.put(`/api/v1/accounts/${e}/nodes/${t}`,{name:a,urls:n}),f="*",y=[f],v=(e,t,a)=>{let{baselineAfter:o,baselineBefore:s,highlightAfter:i,highlightBefore:l,method:c,options:d,group:u,nodeIds:m,points:g,context:p,aggregation:h="avg",groupBy:v=[]}=a;return(0,n.tB)(t)?r.A.get(`${window.envSettings.agentApiUrl}/api/v2/weights`,{params:{format:"json",options:`${Array.isArray(d)?d.join("|"):d}|minify|nonzero|unaligned`,contexts:f,scope_contexts:p||f,scope_nodes:m.join("|")||f,nodes:f,instances:f,dimensions:f,labels:f,group_by:v.join("|"),aggregation:h,method:c||"ks2",time_group:u||"average",time_group_options:"",time_resampling:0,after:Math.floor(i/1e3),before:Math.floor(l/1e3),points:g,baseline_after:Math.floor(o/1e3),baseline_before:Math.floor(s/1e3),timeout:18e4}}):r.A.post(`/api/v3/spaces/${e}/rooms/${t}/weights`,{selectors:{nodes:y,contexts:y,dimensions:y,labels:y,alerts:y},aggregations:{time:{time_group:u||"average",time_group_options:"",time_resampling:0},metrics:[{group_by:v,aggregation:h}]},window:{after:Math.floor(i/1e3),before:Math.floor(l/1e3),points:g,baseline:{after:Math.floor(o/1e3),before:Math.floor(s/1e3)}},scope:{nodes:m,contexts:p?[p]:y},method:c||"ks2",options:[...d?Array.isArray(d)?d:[d]:[],"minify","nonzero","unaligned"],timeout:18e4})},A=e=>e,b=e=>e?.version&&e?.value?.preferred_node_ids||[],S=e=>{const t=(0,n.ES)(e),a=t?"/api/v3/settings?file=default":`/api/v3/spaces/${e}/settings/preferred_nodes`,o=t?b:A;return r.A.get(a,{...t&&{baseURL:window.envSettings.agentApiUrl},transform:o})},k=e=>{let{tries:t=0,nodeIds:a}=e;return r.A.get("/api/v3/settings?file=default",{baseURL:window.envSettings.agentApiUrl}).then((e=>{let{data:n}=e;const{version:o,value:s}=n||{},i={version:o,value:{...s||{},preferred_node_ids:a}};return r.A.put("/api/v3/settings?file=default",i,{baseURL:window.envSettings.agentApiUrl}).catch((e=>t?k({tries:t-1,nodeIds:a}):Promise.reject({message:"Maximum number of tries has been reached."})))}))},I=(e,t)=>(0,n.ES)(e)?k({tries:3,nodeIds:t}):r.A.post(`/api/v3/spaces/${e}/settings/preferred_nodes`,{preferred_node_ids:t}),w=(e,t)=>{if(!t)return Promise.resolve({});const a=(0,n.tB)(e),o=a?`/api/v3/progress?transaction=${t}`:`/api/v2/progress?transaction=${t}`;return r.A.get(o,{...a&&{baseURL:window.envSettings.agentApiUrl}})}},41739:(e,t,a)=>{"use strict";a.d(t,{A:()=>o,q:()=>n});var r=a(47444);const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{fullyLoaded:!1,loaded:!1,id:e?.nd||e?.mg||null,mg:null,nd:null,isDeleted:!1,name:"",version:"",ni:null,labels:{},labelKeys:[],hw:{architecture:"",cpuFrequency:"",cpus:"",memory:"",diskSpace:"",virtualization:"",container:""},os:{id:"",nm:"",v:"",kernel:{nm:"",v:""}},capabilities:{},state:"",isProtobufCapable:!0,urls:[],accessCount:0,lastAccessTime:"",updateSeverity:"",hasAccessibleData:!1,isLive:!1,nodeStatus:null,isPreferred:!0,instancesLoaded:!1,instances:[],functions:[],stream:{}}},o=(0,r.eU)({key:"nodes",default:{}})},82432:(e,t,a)=>{"use strict";a.d(t,{Bb:()=>S,GM:()=>u,O:()=>v,Pg:()=>x,Po:()=>p,RI:()=>b,Ud:()=>h,gm:()=>C,jZ:()=>m,lw:()=>g,t3:()=>c,tv:()=>T,vt:()=>i,ws:()=>f});a(17333),a(3064),a(41393),a(98992),a(54520),a(72577),a(81454);var r=a(96540),n=a(87860),o=a(12800);const s="N/A",i=e=>{let{isLive:t,health:a={}}=e;return t?a.alerts?.critical?"critical":a.alerts?.warning?"warning":"clear":"unreachable"},l=e=>e>9?"9+":`${e}`,c=e=>{let{count:t,dataTestId:a,isLive:r,onAlertClick:n,type:o}=e;const s={"data-testid":`${a?`${a}-alertIndicator`:"alertIndicator"}-${o}`};return r?{...s,...t&&{flavour:"critical"===o?"error":"warning"},...t&&n&&{onClick:()=>n(o)},text:l(t)}:s},d={created:"Unseen",reachable:"Live",stale:"Stale",unreachable:"Offline"},u=e=>d[e]||d.stale,m=e=>"created"===e?"Pending":"Completed",g=e=>e?{flavour:"success",label:"ON",status:"ON"}:{flavour:"warning",label:"OFF",status:"OFF"},p=e=>!e||"unknown"===e,h=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" \u2022 ";return p(e)?s:`${e}${a}${t}`},f=(e,t)=>p(e)?s:t?`${e} ${t}`:e,y={HZ:1,KHz:1e3,MHz:1e6,GHz:1e9,THz:1e12,PHz:1e15,EHz:1e18},v=e=>{if(p(e))return s;const t=Object.keys(y).find((t=>1e3>e/y[t]));return`${(e/=y[t]).toFixed(2)} ${t||""}`},A={B:1,KiB:1024,MiB:1048576,GiB:1073741824,TiB:1099511627776,PiB:0x4000000000000,EiB:0x1000000000000000},b=e=>{if(p(e))return s;const t=Object.keys(A).find((t=>1024>e/A[t]));return`${(e/=A[t]).toFixed(2)} ${t||""}`},S=(e,t,a,n,o)=>{const s={Live:r.createElement(r.Fragment,null,"is currently connected"),Offline:r.createElement(r.Fragment,null,"is currently not connected"),Stale:r.createElement(r.Fragment,null,"is currently not connected and has only historical data")},i={actionObsolete:r.createElement(r.Fragment,null,"Delete Node"),actionRemove:r.createElement(r.Fragment,null,"Remove Node from room"),alerts:r.createElement(r.Fragment,null,"The current Critical and Warning alerts for ",n),cloudInfo:r.createElement(r.Fragment,null,n," cloud information:",r.createElement("br",null),"Cloud Provider \u2022 Instance Type"),connectivity:t in s?r.createElement(r.Fragment,null,n," ",s[t]):null,info:r.createElement(r.Fragment,null,"View node information"),k8s:r.createElement(r.Fragment,null,n," runs on Kubernetes cluster"),kernel:r.createElement(r.Fragment,null,"Kernel information of ",n),ml:r.createElement(r.Fragment,null,"Machine Learning status of ",n," is: ",a),fn:r.createElement(r.Fragment,null,"Functions capability of ",n," is: ",a),functions:r.createElement(r.Fragment,null,n," functions"),systemInfo:r.createElement(r.Fragment,null,n," hardware information:",r.createElement("br",null),"O/S \u2022 CPU Frequency \u2022 CPU Cores \u2022 Architecture \u2022 Memory \u2022 Hard Disk Space"),type:r.createElement(r.Fragment,null,"The type of ",n," is: ",o)};return e in i?i[e]:""},k={none:!0,null:!0,unknown:!0},I=e=>!!e&&!k[e],w={container:"container","container-other":"container",other:"container"},E={"$(systemd-detect-virt -v)":"vm","$(systemd-detect-virt -v) docker-compose up":"vm","${VIRTUALIZATION}":"vm","(systemd-detect-virt -v)":"vm","detect-virt -v":"vm",lxc:"vm","none #vmware":"vmware",other:"vm","systemd-detect-virt -v":"vm",unknown:"vm","vm-other":"vm","VMware Virtual Platform":"vmware"},x=(e,t)=>I(e)?{icon:"container",label:w[e]||e}:I(t)?{icon:"cluster",label:E[t]||t}:{icon:"ram",label:"Bare Metal"},C=async e=>{let{cacheKeyPrefix:t,nodeIds:a,roomId:r,spaceId:s}=e;const i=`${t}${(0,n.u)({id:r,spaceId:s})}`;await(0,o.y)({key:i,handleResults:e=>e.results.filter((e=>!a.includes(e.id)))})},T=async e=>{let{cacheKeyPrefix:t,nodeIds:a,roomIds:r,spaceId:s}=e;const i=e=>e.results.filter((e=>!a.includes(e.id)));r.map((async e=>{const a=`${t}${(0,n.u)({id:e,spaceId:s})}`;await(0,o.y)({key:a,handleResults:i})}))}},11128:(e,t,a)=>{"use strict";a.d(t,{Oj:()=>I,PF:()=>w,Pt:()=>c,QY:()=>h,_e:()=>E,a7:()=>S,eO:()=>A,qr:()=>v,u7:()=>k,w7:()=>b});a(74648),a(17333),a(3064),a(9920),a(41393),a(14905),a(8159),a(98992),a(23215),a(54520),a(72577),a(3949),a(81454),a(8872),a(37550);var r=a(47444),n=a(27467),o=a(67990),s=a(69765),i=a(47762);const l=e=>(t,a)=>!Array.isArray(a)||!a.length||`${a}`.includes(t[e]),c=e=>{const t=(e||[]).find((e=>{let[t]=e;return"nodeLabels"==t}));return((2==t?.length?t[1]:[])||[]).reduce(((e,t)=>{const[a,r]=t.split("|");return e[a]||(e[a]=[]),e[a].push(r),e}),{})},d={nodeStatuses:l("nodeStatus"),nodeLabels:function(e,t){let{byLabel:a={}}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return!((!Array.isArray(t)||t.length)&&t)||(!Object.keys(a).length||Object.keys(a).every((t=>!Array.isArray(a[t])||!a[t].length||`${a[t]}`.includes(e.labels[t]))))},nodeCapabilities:l("capabilityKeys"),nodeVersions:l("version")},u={excludedNodeIds:l("id")},m=[],g=(0,r.K0)({key:"nodesFilters",get:e=>{let{extraKey:t,key:a,omit:r,merge:o}=e;return e=>{let{get:s}=e;const i=r&&r.split(":::"),l=t?s(h({key:a,merge:!1})):[],c=!t&&!!i&&!i.includes("selectedNodeIds"),m=i&&i.includes("selectedNodeIds")||t&&o?l:s((0,n.GA)({key:a,extraKey:t,flavour:"arr",param:"selectedNodeIds"}))||[];let g=[];const p=s((0,n.GA)({key:a,extraKey:t,flavour:"arr",merge:o}));return Object.keys(p).forEach((e=>{const r=!!i&&i.includes(e);(d[e]||u[e])&&p[e]?.length&&(r||g.push([e,r?[]:p[e]]),o&&t&&g.push([e,s((0,n.GA)({key:a,flavour:"arr",param:e}))||[]]))})),[g,m,l,c]}},set:e=>{let{extraKey:t,key:a}=e;return(e,r)=>{let{get:o,set:s}=e,{param:i,removedValue:l}=r;const c=o((0,n.GA)({key:a,extraKey:t,param:i,flavour:"arr"}));s((0,n.GA)({key:a,extraKey:t,param:i,flavour:"arr"}),Array.isArray(l)?l:c.filter((e=>e!==l)))}}}),p=(0,r.K0)({key:"nodesFiltered",get:e=>{let{key:t,extraKey:a,omit:r,keepAll:o=!1,merge:s}=e;return e=>{let{get:l}=e;const[m,p,h,f]=l(g({key:t,extraKey:a,omit:r,merge:s})),y=l((0,i.kr)(t));if(!m.length&&!p?.length)return y;const v=((e,t)=>{let{selectedNodeIds:a,excludedNodeIds:r,globalNodeIds:n,omittedNonNodeFilter:o}=t;const s=a.reduce(((e,t)=>(e[t]=!r||r.includes(t),e)),{}),i=n.reduce(((e,t)=>(e[t]=!r||r.includes(t),e)),{}),l=c(e);return t=>!(n.length&&!i[t.id])&&(!(!a.length||!s[t.id])||!(!o&&!e.length&&a&&a.length)&&!e.some((e=>{let[a,r]=e;return u[a]?u[a](t,r):!!d[a]&&!d[a](t,r,{byLabel:l})})))})(m,{selectedNodeIds:p,excludedNodeIds:l((0,n.GA)({key:t,extraKey:a,flavour:"arr",param:"excludedNodeIds"})),globalNodeIds:h,omittedNonNodeFilter:f});return o?y.map((e=>v(e)?e:{...e,hidden:!0})):y.filter(v)}}}),h=(0,r.K0)({key:"nodeIdsFiltered",get:e=>{let{key:t,extraKey:a,omit:r,keepAll:n,emptyIfAll:s=!0,merge:i,scoped:l}=e;return e=>{let{get:c}=e;const d=c(p({key:t,extraKey:a,omit:r,keepAll:n,merge:i}));return s&&c((0,o.dT)({id:t,key:"ids"})).length===d.length?l?c(h({key:t,extraKey:a,omit:r,keepAll:n,emptyIfAll:!1,merge:!0})):m:d.map((e=>{let{id:t,hidden:a}=e;return n?[t,!a]:t}))}}}),f={Live:0,Stale:1,Offline:2},y=["_aclk_available","_aclk_ng_new_cloud_protocol","_aclk_proxy"],v={nodeStatuses:(e,t)=>f[e.id]-f[t.id],selectedNodeIds:(e,t)=>f[e.id]-f[t.id],nodeLabels:(e,t)=>y.includes(e.id)?1:y.includes(t.id)?-1:v.default(e,t),nodeVersions:(e,t)=>t.id.localeCompare(e.id,void 0,{sensitivity:"accent",ignorePunctuation:!0}),default:(e,t)=>e.id.localeCompare(t.id,void 0,{sensitivity:"accent",ignorePunctuation:!0})},A=function(){let{key:e,extraKey:t,omit:a,keepAll:n=!1,merge:o=!0,roomSlug:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const l=(0,s.ID)(i);return(0,r.vc)(p({extraKey:t,key:e||l,omit:a,keepAll:n,merge:o}))},b=function(){let{key:e,extraKey:t,omit:a,keepAll:n=!1,emptyIfAll:o=!0,merge:i=!1,scoped:l=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const c=(0,s.ID)();return(0,r.vc)(h({extraKey:t,key:e||c,omit:a,keepAll:n,emptyIfAll:o,merge:i,scoped:l}))},S=function(){let{key:e,extraKey:t,merge:a=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=(0,s.ID)();return(0,n.rW)("selectedNodeIds",{key:e||r,extraKey:t,flavour:"arr",merge:a,defaultValue:m})},k=function(){let{key:e,extraKey:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=(0,s.ID)();return(0,n.rI)("selectedNodeIds",{key:e||a,extraKey:t,flavour:"arr"})},I=function(){let{key:e,extraKey:t,merge:a=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[S({key:e,extraKey:t,merge:a}),k({key:e,extraKey:t})]},w=function(){let{key:e,extraKey:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=function(){let{key:e,extraKey:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=(0,s.ID)();return(0,n.rW)("excludedNodeIds",{key:e||a,extraKey:t,flavour:"arr",defaultValue:m})}({key:e,extraKey:t}),r=function(){let{key:e,extraKey:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=(0,s.ID)();return(0,n.rI)("excludedNodeIds",{key:e||a,extraKey:t,flavour:"arr"})}({key:e,extraKey:t});return[a,r]},E=function(){let{key:e,extraKey:t,omit:a,merge:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const o=(0,s.ID)();return(0,r.L4)(g({key:e||o,extraKey:t,omit:a,merge:n}))}},47762:(e,t,a)=>{"use strict";a.d(t,{BQ:()=>S,BU:()=>_,Du:()=>A,GE:()=>L,GN:()=>k,Gn:()=>z,Gt:()=>C,Ig:()=>U,TG:()=>M,Ux:()=>H,Y7:()=>w,Zl:()=>Z,d3:()=>J,dN:()=>j,gl:()=>G,iY:()=>y,je:()=>b,kr:()=>x,nl:()=>q,no:()=>B,ss:()=>W,th:()=>E,xY:()=>I,yN:()=>N});a(17333),a(41393),a(14905),a(98992),a(54520),a(81454),a(8872);var r=a(96540),n=a(47444),o=a(47767),s=a(64454),i=a(65570),l=a(3914),c=a(56639),d=a(69765),u=a(54308),m=a(67990),g=a(41739),p=a(9224);const h=(0,n.K0)({key:"nodeInfoState",get:e=>{let{nodeId:t,spaceId:a,roomId:r}=e;return async()=>{try{return(await(0,p.VP)(a,r,t)).data}catch(e){}}}}),f=(0,n.K0)({key:"checkProgressSelector",get:e=>{let{roomId:t,transactionId:a}=e;return()=>new Promise((e=>setTimeout(e,1e3))).then((()=>(0,p.E3)(t,a)))}}),y=e=>{const t=(0,d.ID)(),a=(0,n.xf)(f({roomId:t,transactionId:e})),r=(0,n.RH)(f({roomId:t,transactionId:e}));return{loaded:"loading"!==a.state,value:{progress:a.contents?.data?.progress||100,ms:(a.contents?.data?.age_ut||1)/1e3},hasError:"hasError"===a.state,refresh:r}},v=(0,n.K0)({key:"preferredNodes",get:e=>()=>e?(0,p.F)(e):Promise.resolve()}),A=()=>{const e=(0,l.vt)(),t=(0,n.xf)(v(e)),a=(0,n.RH)(v(e));return{loaded:"loading"!==t.state,nodes:t.contents?.data||[],hasError:"hasError"===t.state,refresh:a}},b=()=>{const e=(0,l.vt)();return t=>(0,p.ih)(e,t)},S=(e,t,a)=>(0,n.xf)(h({nodeId:a,spaceId:e,roomId:t})),k=(0,n.K0)({key:"nodeState",get:e=>{let{id:t,key:a}=e;return e=>{let{get:r}=e;const n=r(g.A)[t]||(0,g.q)();return a?n[a]:n}},set:e=>{let{id:t,key:a}=e;return(e,r)=>{let{set:n}=e;return a?"function"===typeof r?n(g.A,(e=>{const n=e[t]||(0,g.q)();return{...e,[t]:{...n,[a]:r(n[a])}}})):void n(g.A,(e=>{const n=e[t]||(0,g.q)();return{...e,[t]:{...n,[a]:r}}})):n(g.A,(e=>({...e,[t]:{...(0,g.q)(),...r}})))}},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),I=(e,t)=>(0,n.vc)(k({id:e,key:t})),w=()=>(0,n.Zs)((e=>{let{snapshot:t}=e;return(e,a)=>t.getLoadable(k({id:e,key:a})).contents}),[]),E=(0,n.K0)({key:"nodesState",get:e=>t=>{let{get:a}=t;const r=a(g.A);return e.map((e=>r[e]||(0,g.q)()))},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),x=(0,n.K0)({key:"nodesState",get:e=>t=>{let{get:a}=t;if(!e){const t=a(c.Li),r=a((0,c.aR)(t)),n=a(u.yz);e=a((0,u.x4)([r,n]))}const r=a((0,m.dT)({id:e,key:"ids"}));return a(E(r))},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),C=e=>{const t=(0,m.CK)();return(0,n.vc)(E(e||t))},T=(0,n.K0)({key:"cloudNodeIdsSelector",get:e=>t=>{let{get:a}=t;const r=a(g.A);return e.reduce(((e,t)=>r[t]?.nd?[...e,r[t].nd]:e),[])},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),N=e=>(0,n.vc)(T(e||[])),R=(0,n.K0)({key:"queryableNodeIdsState",get:e=>t=>{let{get:a}=t;const r=a(g.A);return e.filter((e=>r[e]?.isLive||"stale"===r[e]?.state))},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),M=e=>{const t=(0,m.CK)();return(0,n.vc)(R(e||t))},D=(0,n.K0)({key:"liveNodeIdsState",get:e=>t=>{let{get:a}=t;const r=a(g.A);return e.filter((e=>r[e]?.isLive))},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),_=e=>{const t=(0,m.CK)();return(0,n.vc)(D(e||t))},P=(0,n.K0)({key:"staleNodeIdsState",get:e=>t=>{let{get:a}=t;const r=a(g.A);return e.filter((e=>"stale"===r[e]?.state))},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),U=e=>{const t=(0,m.CK)();return(0,n.vc)(P(e||t))},$=(0,n.K0)({key:"offlineNodeIdsState",get:e=>t=>{let{get:a}=t;const r=a(g.A);return e.filter((e=>r[e]?.isOffline))},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),L=e=>{const t=(0,m.CK)();return(0,n.vc)($(e||t))},K=(0,n.K0)({key:"unseenNodeIdsState",get:e=>t=>{let{get:a}=t;const r=a(g.A);return e.filter((e=>r[e]?.isUnseen))},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),B=e=>{const t=(0,m.CK)();return(0,n.vc)(K(e||t))},F=(0,n.K0)({key:"needUpdateNodeIdsState",get:e=>{let{ids:t,severities:a=["warning","critical"]}=e;return e=>{let{get:r}=e;const n=r(g.A);return t.filter((e=>a.includes(n[e]?.updateSeverity)))}},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),z=function(){let{ids:e,severity:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=_();return(0,n.vc)(F({ids:e||a,...t&&{severities:[t]}}))},O=(0,n.K0)({key:"fnNodeIdsState",get:e=>t=>{let{get:a}=t;const r=a(g.A);return e.filter((e=>r[e]?.capabilities.funcs?.enabled))},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),j=e=>{const t=(0,m.CK)();return(0,n.vc)(O(e||t))},G=(0,n.gD)({key:"nodesState/initialize",get:e=>{let{get:t}=e;return t(g.A)},set:(e,t)=>{let{set:a}=e,{values:r,merge:n}=t;return a(g.A,(e=>{const t=n?(0,s.A)(e,r):r;return(0,i.Ay)(t,e)?e:t}))}}),W=()=>(0,n.vc)(G),V=()=>{const e=(0,d.r9)();return e&&`${e}/nodes`},Z=e=>`${V()}/${e}`,H=()=>{const e=V();return t=>`${e}/${t}`},J=function(e){let{alertId:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=(()=>{const e=(0,o.Zp)(),t=V();return(0,r.useCallback)(((a,r)=>{e(`${t}/${a}`,r?{state:r}:"")}),[t,e])})();return(0,r.useCallback)((()=>a(e,{alertId:t})),[a])},q=()=>(0,o.RQ)("/spaces/:spaceSlug/rooms/:roomSlug/nodes/:nodeId")?.params?.nodeId},49389:(e,t,a)=>{"use strict";a.d(t,{ID:()=>s,fe:()=>l,sH:()=>i,su:()=>n});a(41393),a(81454);var r=a(78969);const n=e=>1===e?"Node":"Nodes",o=[1,26],s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;if(!e||"unknown"===e)return!1;const[a,r,n]=(e=>e.replace(/^v/,"").split("."))(e).map((e=>Number(e)));return!(a&&!isNaN(a)&&!isNaN(r))||(a<t[0]||!(a>t[0])&&(r<t[1]||!(r>t[1])&&n<t[2]))},i={docker:"https://learn.netdata.cloud/docs/agent/packaging/installer/update#docker",mac:"https://learn.netdata.cloud/docs/agent/packaging/installer/update#macos",binpkg:"https://learn.netdata.cloud/docs/agent/packaging/installer/update#issues-with-older-binpkg-installs",default:"https://learn.netdata.cloud/docs/agent/packaging/installer/update#updates-for-most-systems"},l=e=>{let{container:t,os:a,_install_type:n,version:o}=e;const l=s(o,r.x7);if(!t&&!a&&!n)return i.default;return i["docker"===t?"docker":"mac"===a?"mac":"binpkg"===n&&l?"binpkg":"default"]}},71856:(e,t,a)=>{"use strict";a.d(t,{C4:()=>m,D_:()=>h,HA:()=>i,N4:()=>l,Oh:()=>c,PT:()=>r,WB:()=>o,a$:()=>s,dZ:()=>g,fF:()=>u,r7:()=>n,rx:()=>p,w8:()=>d});const r={label:"All rooms",value:""},n={plan:"Your plan does not support this configuration.",role:"You do not have permission to change Global Notification configurations."},o="You do not have permission to add configurations. Contact a space administrator to add this configuration.",s={Discord:{name:"integrationDiscordColored"},Webhook:{name:"integrationWebhookColored"},Email:{name:"integrationEmailColored"},Ilert:{name:"integrationIlertColored"},MobilePush:{color:"successLite",name:"mobilePushNotifications"},PagerDuty:{name:"integrationPagerdutyColored"},Slack:{name:"integrationSlackColored"},Splunk:{name:"integrationSplunk"},Opsgenie:{name:"integrationOpsgenieColored"},Mattermost:{name:"integrationMattermostColored"},RocketChat:{name:"integrationRocketChatColored"},MobileApp:{name:"integrationMobileAppColored"},AwsSns:{name:"integrationAWSSNSColored"},MicrosoftTeams:{name:"integrationTeamsColored"},Telegram:{name:"integrationTelegramColored"},VictorOps:{name:"integrationVictorOpsColored"}},i={PERSONAL:{icon:"userPress",tooltip:"Notification methods whose destination will be a user-specific attribute, e.g. user's e-mail."},SYSTEM:{icon:"systemOverviewPress",tooltip:"Notification methods that the destination will be a target that usually isn't specific to a single user, e.g. Slack channel."}},l={ALARMS_SETTING_ALL:{value:"ALARMS_SETTING_ALL",label:"All Alerts and unreachable"},ALARMS_SETTING_ALL_BUT_UNREACHABLE:{value:"ALARMS_SETTING_ALL_BUT_UNREACHABLE",label:"All Alerts"},ALARMS_SETTING_CRITICAL:{value:"ALARMS_SETTING_CRITICAL",label:"Critical only"},ALARMS_SETTING_UNREACHABLE:{value:"ALARMS_SETTING_UNREACHABLE",label:"Unreachable only"}},c={label:"User defined",value:"USER_DEFINED"},d={...l,USER_DEFINED:c},u={...l,ALARMS_SETTING_NONE:{value:"ALARMS_SETTING_NONE",label:"No notifications"}},m={"^.*$":"input"},g={string:"input"},p=/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)/g,h="607bfd3c-02c1-4da2-b67a-0d01b518ce5d"},88982:(e,t,a)=>{"use strict";a.d(t,{A:()=>s,n:()=>o});a(3064),a(41393),a(98992),a(72577),a(81454);var r=a(71856),n=a(14994);const o=e=>{const t=(0,n.DL)().find((e=>{let{name:t}=e;return"All nodes"==t}));return t?e?t[e]:t:null},s=function(){let{all:e,internal:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=(0,n.DL)().map((e=>{let{id:t,name:a}=e;return{label:a,value:t}})),o=[];return t&&o.push(r.Oh),e&&o.push(r.PT),o.push(...a),o}},27467:(e,t,a)=>{"use strict";a.d(t,{GA:()=>b,r$:()=>x,l6:()=>w,N9:()=>I,rW:()=>S,Fw:()=>E,rI:()=>k});var r={};a.r(r),a.d(r,{global:()=>d,specific:()=>f});var n={};a.r(n),a.d(n,{global:()=>y,specific:()=>m});a(14905),a(98992),a(8872);var o=a(47444),s=a(69765);const i={arr:"arr",bool:"bool",int:"int",val:"val",obj:"obj",arrobj:"arrobj",dec:"dec"};a(41393),a(81454);var l=a(38819),c=a(82838);const d=()=>[e=>{let{onSet:t}=e;t(((e,t)=>{let{after:a,before:r,correlation:n,utc:o,forcePlay:s,...i}=e,{correlation:d,forcePlay:u,...m}=t;r=a<0?0:r;const{offset:g=""}=(0,c.Md)("default",o||m.utc),p=(h=i.modalParams||m.modalParams)?Object.keys(h).map((e=>`${e}=${h[e]}`)).join(","):"";var h;const{highlight:f,...y}={...m,...i,after:a,before:r,offset:g,metrics_correlation:"undefined"===typeof n?d:n,force_play:"undefined"===typeof s?u:s,utc:o,modalParams:p};f.after?(0,l.Z8)({highlight_after:f.after,highlight_before:f.before,...y}):((0,l.Z8)(y),(0,l.Pg)(["highlight_after","highlight_before"]))}))}],u={default:e=>e?e.split(","):[],[i.arr]:e=>e?e.split(","):[],[i.bool]:e=>"true"===e,[i.int]:e=>e?parseInt(e,10):0,[i.val]:e=>e,[i.dec]:e=>e?parseFloat(e):0,[i.obj]:e=>{try{return JSON.parse(decodeURIComponent(e))}catch(t){return{}}},[i.arrobj]:e=>{try{return JSON.parse(decodeURIComponent(e))}catch(t){return[]}}},m=e=>{let{key:t,extraKey:a=""}=e;if(!t&&!a)return{};const r=`${t}-${a}-`,n=(0,l.PP)();let o=[];const s=Object.keys(n).reduce(((e,t)=>{if(!t.startsWith(r))return e;if(t.startsWith(r+r))return o.push(t),e;const a=t.replace(r,""),[s]=a.split("-").reverse(),l=i[s]?u[s]:u[a]||u.default;return e[a]=l(n[t]),e}),{});return(0,l.Pg)(o),s},g=e=>e.toString(),p={default:e=>Array.isArray(e)?e.join(","):(e||"").toString(),[i.arr]:e=>Array.isArray(e)?e.join(","):(e||"").toString(),[i.bool]:g,[i.int]:g,[i.val]:g,[i.dec]:g,[i.obj]:e=>encodeURIComponent(JSON.stringify(e||{})),[i.arrobj]:e=>encodeURIComponent(JSON.stringify(e||[]))},h=e=>Array.isArray(e)?i.arr:"boolean"===typeof e?i.bool:"number"===typeof e?e%1===0?i.int:i.dec:e&&"object"===typeof e?i.obj:i.val,f=e=>{let{key:t,extraKey:a=""}=e;const r=`${t}-${a}-`;return[e=>{let{setSelf:r,trigger:n,node:o,getLoadable:s}=e;if("get"===n){if(Object.keys(s(o).contents).length)return;const e=(0,l.PP)();if(Object.keys(e).length)return;setTimeout((()=>r(m({key:t,extraKey:a}))))}},e=>{let{onSet:t}=e;t((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=[],n=Object.keys(e).reduce(((n,o)=>{const s=o.split("-").reverse()[0];let l=s;if(i[l]||(i[l]||(l=h(e[o])),i[l]||(l=h(t[o]))),"undefined"===typeof e[o])return a.push(r+o),delete n[o],n;const c=p[l]||p[o]||p.default,d=`${r}${o}${i[s]?"":`-${l}`}`;return n[d]=c(e[o]),n[d]||a.push(d),n}),{});(0,l.Z8)(n),(0,l.Pg)(a)}))}]},y=()=>{const{after:e=-900,before:t=0,utc:a="default",highlight_after:r,highlight_before:n,metrics_correlation:o=!1,timezoneName:s,modal:i="",modalTab:d="",modalParams:u,force_play:m}=(0,l.PP)(),{offset:g=0,utc:p,text:h=""}=(0,c.Md)("default",a),f=s&&"undefined"!==s?s:h,y={after:isNaN(Number(r))?null:Number(r),before:isNaN(Number(n))?null:Number(n)},v=isNaN(Number(e))?-900:Number(e),A={after:v,before:v<0?0:isNaN(Number(t))?v+900:Number(t),utc:p,offset:g,timezoneName:f,modal:i,modalTab:d};return y.after?(0,l.Z8)({highlight_after:y.after,highlight_before:y.before,metrics_correlation:o,...A}):(0,l.Z8)({metrics_correlation:o,...A}),{highlight:y,correlation:"true"===o,forcePlay:"true"===m,...A,modalParams:(b=u,b&&b.split(",").reduce(((e,t)=>{const[a,r]=t.split("=");return e[a]=r,e}),{}))};var b},v=(0,o.Iz)({key:"paramsAtom",default:e=>(n[e.key||"global"]||m)(e),effects:e=>(r[e.key||"global"]||f)(e)}),A=(e,t,a)=>{if("global"===e)return t;const[r]=t.split("-").reverse();return i[r]?t:i[a]?`${t}-${a}`:t},b=(0,o.K0)({key:"paramsState",get:e=>{let{key:t="global",extraKey:a,param:r,flavour:n,merge:o}=e;return e=>{let{get:s}=e,l=s(v({key:t,extraKey:a}));if(a&&o&&(l=Object.keys(l).reduce(((e,t)=>("undefined"===typeof l[t]||Array.isArray(l[t])&&!l[t].length||null===l[t]||(e[t]=l[t]),e)),{...s(v({key:t,extraKey:void 0}))})),r){const e=A(t,r,n);return n||"global"===t?e in l?l[e]:l[r]:(console.warn("Will use val as flavour for",r),l[A(t,r,"val")])}return Object.keys(l).reduce(((e,a)=>(e[((e,t,a)=>{if("global"===e)return t;const[r,...n]=t.split("-").reverse();return i[a||r]&&i[r]?n.reverse().join("-"):t})(t,a,n)]=l[a],e)),{})}},set:e=>{let{key:t="global",extraKey:a,param:r,flavour:n}=e;return(e,o)=>{let{set:s}=e;r&&(r=A(t,r,n)),s(v({key:t,extraKey:a}),(e=>"function"===typeof o?r?{...e,[r]:o(e[r])}:{...e,...o(e)}:r?{...e,[r]:o}:{...e,...Object.keys(o).reduce(((e,a)=>(e[A(t,a,n)]=o[a],e)),{})}))}}}),S=function(e){let{key:t,extraKey:a,flavour:r,defaultValue:n,merge:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=(0,o.vc)(b({key:t,param:e,extraKey:a,flavour:r,merge:s}));return"undefined"===typeof i?n:i},k=function(e){let{key:t,extraKey:a,flavour:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.lZ)(b({key:t,param:e,extraKey:a,flavour:r}))},I=function(e){let{key:t,extraKey:a,flavour:r,defaultValue:n,merge:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return[S(e,{key:t,extraKey:a,flavour:r,defaultValue:n,merge:o}),k(e,{key:t,extraKey:a,flavour:r})]},w=(e,t)=>{let{extraKey:a,defaultValue:r,flavour:n,merge:o}=t;const i=(0,s.ID)();return S(e,{key:i,extraKey:a,defaultValue:r,flavour:n,merge:o})},E=(e,t)=>{let{extraKey:a,flavour:r}=t;const n=(0,s.ID)();return k(e,{key:n,extraKey:a,flavour:r})},x=(e,t)=>{let{extraKey:a,defaultValue:r,flavour:n,merge:o}=t;return[w(e,{extraKey:a,defaultValue:r,flavour:n,merge:o}),E(e,{extraKey:a,flavour:n})]}},1522:(e,t,a)=>{"use strict";a.d(t,{DH:()=>g,e8:()=>b,eY:()=>S,j_:()=>A,n2:()=>h,rp:()=>k,th:()=>v,y5:()=>y,yK:()=>f,z2:()=>p});a(17333),a(98992),a(54520);var r=a(71835),n=a(61649),o=a(22292),s=a(3914),i=a(69765),l=a(12800),c=a(5169),d=a(29662),u=a(63129),m=a(46902);const g=function(e){let{silent:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=(0,i.wz)(e,"spaceId"),[l,c]=(0,r.A)(),d=(0,o.uW)("isAnonymous"),m=(0,s.dg)();return(0,n.A)((function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(d||m)return Promise.resolve().then((()=>!t&&l({header:"Rooms",text:"Connect to cloud to be able to save your settings!"})));const n=(0,u.xX)(a,e,r);return n.then((()=>!t&&l({header:"Rooms",text:"Room successfully updated!"}))).catch((e=>!e.isCancel&&c(e))),n}),[e,d,m,a])},p=(e,t)=>{const[a,o]=(0,r.A)(),s=(0,i.wz)(t,"name");return(0,n.A)((()=>{const r=(0,u.HN)(e,t);return r.then((()=>a({header:"Rooms",text:`Room ${s} was successfully deleted!`}))).catch((e=>!e.isCancel&&o(e))),r}),[t,e])},h=(e,t)=>{const[,a]=(0,r.A)(),s=(0,o.NJ)(),l=(0,n.A)((()=>{const r=(0,u.cx)(e,t,s);return r.catch((e=>!e.isCancel&&a(e))),r}),[e,t,s]),[c,...d]=(0,m.ES)(t,"ids"),g=p(e,t),h=(0,i.wz)(t,"untouchable");return d.length||c!==s||h?l:g},f=e=>{const[t,a]=(0,r.A)();return(0,n.A)((function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=(0,u.ab)(e,r);return n.then((()=>t({header:"Rooms",text:`Room ${r.name} was successfully created!`}))).catch((e=>!e.isCancel&&a(e))),n}),[e])},y=(e,t)=>{const[a,o]=(0,r.A)();return(0,n.A)((r=>{const n=(0,u.pD)(e,t,r);return n.then((()=>a({header:"Rooms",text:`Member${r.length>1?"s":""} successfully added!`}))).catch((e=>!e.isCancel&&o(e))),n}),[e])},v=function(e,t){let{onSuccess:a,onFail:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const l=(0,o.NJ)(),[c,d]=(0,r.A)(),m=(0,i.a8)(t);return(0,n.A)((()=>{const r=(0,u.pD)(e,t,[l]);return r.then((()=>{m({isMember:!0}),c({header:"Rooms",text:"Successfully joined the room"}),a?.()})).catch((e=>{!e.isCancel&&d(e),s?.()})),r}),[t,m,e])},A=(e,t)=>{const a=(0,c.t)(),[o,s]=(0,r.A)();return(0,n.A)((r=>{const n=(0,u.cx)(e,t,r);return n.then((()=>{(async e=>{let{cacheKeyPrefix:t,memberIds:a,spaceId:r,roomId:n}=e;const o=`${t}${(0,d.E)(r,n)}`;await(0,l.y)({key:o,handleResults:e=>e.results.filter((e=>!a.includes(e.id)))})})({cacheKeyPrefix:a,memberIds:r,spaceId:e,roomId:t}),o({header:"Rooms",text:`Member${r.length>1?"s":""} successfully removed!`})})).catch((e=>!e.isCancel&&s(e))),n}),[t,e])},b=(e,t)=>{const[a,o]=(0,r.A)();return(0,n.A)((function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=(0,u.lW)(e,t,r);return n.then((()=>a({header:"Rooms",text:"Nodes successfully added!"}))).catch((e=>!e.isCancel&&o(e))),n}),[t,e])},S=e=>{const[t,a]=(0,r.A)();return(0,n.A)((function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const n=(0,u.Xm)(e,r);return n.then((()=>t({header:"Rooms",text:"Node successfully deleted!"}))).catch((e=>!e.isCancel&&a(e))),n}),[e])},k=(e,t)=>{const[a,o]=(0,r.A)();return(0,n.A)((r=>{const n=(0,u.if)(e,t,r);return n.then((()=>a({header:"Rooms",text:"Nodes successfully removed!"}))).catch((e=>!e.isCancel&&o(e))),n}),[t,e])}},51074:(e,t,a)=>{"use strict";a.d(t,{t:()=>s,s:()=>i});var r=a(47444),n=a(69765);const o={ids:(0,r.Iz)({key:"roomAlertIds",default:[]}),error:(0,r.Iz)({key:"roomAlertError",default:null}),updatedAt:(0,r.Iz)({key:"roomAlertsUpdatedAt",default:""}),loaded:(0,r.Iz)({key:"roomAlertsLoaded",default:!1})},s=(0,r.K0)({key:"roomAlertState",get:e=>{let{id:t,key:a}=e;return e=>{let{get:r}=e;return r(o[a](t))}},set:e=>{let{id:t,key:a}=e;return(e,r)=>{let{set:n}=e;n(o[a](t),r)}}}),i=e=>((e,t)=>(0,r.vc)(s({id:e,key:t})))((0,n.ID)(),e)},63129:(e,t,a)=>{"use strict";a.d(t,{HN:()=>S,K8:()=>A,SJ:()=>y,TM:()=>R,Xm:()=>E,a9:()=>h,ab:()=>v,cx:()=>I,hn:()=>D,if:()=>x,jt:()=>P,lW:()=>w,pD:()=>k,uP:()=>T,uQ:()=>g,xX:()=>b});a(41393),a(14905),a(98992),a(81454),a(8872);var r=a(31629),n=a(49286),o=a(81048),s=a(78969),i=a(49389),l=a(9224),c=a(37618),d=a(73865),u=a(82432);const m=function(){let{isVirtual:e,preferredNodes:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a=>{let{nodes:r=[]}=a;return r.map((a=>{let{nm:l,capabilities:c,v:m,...g}=a;const p=g.nd||g.mg,h=e?!(Array.isArray(t)&&r.length>(0,d.f)().maxNodes)||t.includes(p):g.isPreferred;return{name:l,version:m,hasAccessibleData:o.iy[g.state],isOffline:g.state===o.j8.offline,isUnseen:g.state===o.j8.unseen,isLive:o.c1[g.state],updateSeverity:(y=m,(0,i.ID)(y,s.Wd)?"critical":(0,i.ID)(y,s.x7)?"warning":null),capabilities:c.reduce(((e,t)=>(e[t.name]=t,e)),{}),capabilityKeys:c.map((e=>e.name)),...(0,n.bn)(g),labels:g.labels||{},labelKeys:Object.keys(g.labels||{}),id:p,nodeStatus:(f=g.state,f===o.j8.offline?"Offline":f===o.j8.unseen?"Unseen":f===o.j8.stale?"Stale":o.c1[f]?"Live":"Unknown"),isPreferred:h,technology:(0,u.Pg)(g?.hw?.container,g?.hw?.virtualization)?.label};var f,y}))}},g=e=>{let{roomId:t,spaceId:a}=e;if((0,c.tB)(t)){const e=e=>r.A.get("/api/v3/nodes",{baseURL:window.envSettings.agentApiUrl,transform:m({isVirtual:!0,preferredNodes:e})});return(0,l.F)(a).then((t=>{let{data:a}=t;return e(a)})).catch((()=>e()))}return r.A.post(`/api/v3/spaces/${a}/rooms/${t}/nodes`,{scope:{nodes:[]}},{transform:m()})},p=e=>{let{context:t,chartType:a="",...r}=e;return{id:t,name:t,context:t,chartType:a,...r}},h=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],{after:o,before:s}=arguments.length>3?arguments[3]:void 0;return(0,c.tB)(t)?r.A.get(`/api/v2/contexts?scope_nodes=${a.join("|")||"*"}`,{baseURL:window.envSettings.agentApiUrl,transform:e=>{let{contexts:t={},versions:a={}}=e;return{results:Object.keys(t).map((e=>p({...(0,n.bn)(t[e]),id:e,context:e}))),versions:(0,n.bn)(a)}}}):r.A.post(`/api/v3/spaces/${e}/rooms/${t}/contexts`,{scope:{contexts:["*"],nodes:a},selectors:{contexts:[],nodes:[]},window:{after:o,before:s}},{transform:e=>{let{contexts:t={},versions:a={}}=e;return{results:Object.keys(t).map((e=>p({...(0,n.bn)(t[e]),id:e,context:e}))),versions:(0,n.bn)(a)}}})},f=(e,t)=>a=>{let{results:r}=a;return{results:r.map((a=>({...a,spaceId:e,roomId:t})))}},y=(e,t)=>r.A.get(`/api/v1/spaces/${e}/rooms/${t}/dashboards`,{transform:f(e,t)}),v=(e,t)=>r.A.post(`/api/v1/spaces/${e}/rooms`,t),A=(e,t)=>r.A.get(`/api/v1/spaces/${e}/rooms/${t}`),b=(e,t,a)=>r.A.patch(`/api/v1/spaces/${e}/rooms/${t}`,a),S=(e,t)=>r.A.delete(`/api/v1/spaces/${e}/rooms/${t}`),k=(e,t,a)=>r.A.post(`/api/v1/spaces/${e}/rooms/${t}/members`,a),I=(e,t,a)=>r.A.delete(`/api/v1/spaces/${e}/rooms/${t}/members?account_ids=${a}`),w=(e,t,a)=>r.A.post(`/api/v1/spaces/${e}/rooms/${t}/claimed-nodes`,a),E=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return r.A.delete(`/api/v1/spaces/${e}/nodes`,{data:{node_ids:t}})},x=(e,t,a)=>r.A.delete(`/api/v1/spaces/${e}/rooms/${t}/claimed-nodes?node_ids=${a}`),C=e=>(0,n.bn)(e,{depth:3}),T=(e,t)=>r.A.get(`/api/v3/spaces/${e}/rooms/${t}/parent-child-stats`,{allow401:!0,transform:C}),N=e=>{const t=(0,n.bn)(e);return t.stability=t.stability?.reduce(((e,t)=>{let{nodeId:a,isStable:r}=t;return{...e,[a]:{isStable:r}}}),{}),t},R=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return r.A.post(`/api/v3/spaces/${e}/rooms/${t}/nodes/stability`,{scope:{nodes:a}},{transform:N})},M=e=>(0,n.bn)(e,{depth:3}),D=function(e,t){let{sort:a="",start:n="",end:o=""}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.A.get(`/api/v2/spaces/${e}/rooms/${t}/alerts_stats?sort=${a}&start=${n}&end=${o}`,{transform:M})},_=e=>(0,n.bn)(e),P=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return r.A.post(`/api/v3/spaces/${e}/rooms/${t}/charts/stats`,{scope:{nodes:a}},{transform:_})}},54308:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>l,x4:()=>i,yz:()=>s});var r=a(47444),n=a(37618),o=a(38280);const s=(0,r.eU)({key:"currentRoomSlug",default:null}),i=(0,r.Iz)({key:"roomIdBySlug",default:"",effects:e=>{let[t,a]=e;return(0,n.Az)(t)&&a===n.Iy?[e=>{let{setSelf:t,trigger:a}=e;"get"===a&&t(n.gB)}]:[]}}),l=(0,r.Iz)({key:"room",default:o.A,effects:e=>(0,n.tB)(e)?[e=>{let{setSelf:t,trigger:a}=e;"get"===a&&t(n.hq)}]:[]})},81048:(e,t,a)=>{"use strict";a.d(t,{Q8:()=>r,c1:()=>s,iy:()=>o,j8:()=>i,mL:()=>n});const r="All nodes",n="all-nodes",o={created:!1,reachable:!0,stale:!0,unreachable:!1},s={created:!0,reachable:!0,stale:!1,unreachable:!1},i={offline:"unreachable",unseen:"created",stale:"stale",live:"reachable"}},21591:(e,t,a)=>{"use strict";a.d(t,{z_:()=>d,hZ:()=>p,wt:()=>h,q:()=>m,RQ:()=>g});a(25509),a(65223),a(60321),a(41927),a(11632),a(64377),a(66771),a(12516),a(68931),a(52514),a(35694),a(52774),a(49536),a(21926),a(94483),a(16215);var r=a(47444),n=a(66245),o=a.n(n),s=a(68980),i=a(69765),l=a(37618);const c={ids:(0,r.Iz)({key:"roomDashboardIds",default:[],effects:e=>l.gB===e?[e=>{let{onSet:t,trigger:a,setSelf:r}=e;"get"===a&&r([l.LA]),t((e=>{r([l.LA,...e])}))}]:[]}),loaded:(0,r.Iz)({key:"roomDashboardsLoaded",default:!1,effects:e=>l.gB===e?[e=>{let{trigger:t,setSelf:a}=e;"get"===t&&a(!0)}]:[]})},d=(0,r.K0)({key:"roomDashboardState",get:e=>{let{id:t,key:a}=e;return e=>{let{get:r}=e;return r(c[a](t))}},set:e=>{let{id:t,key:a}=e;return(e,r)=>{let{set:n}=e;return n(c[a](t),r)}}}),u=(e,t)=>(0,r.vc)(d({id:e,key:t})),m=()=>{const e=(0,i.ID)();return u(e,"ids")},g=()=>{const e=(0,i.ID)();return u(e,"loaded")},p=(0,r.K0)({key:"roomDashboardsState/add",set:e=>(t,a)=>{let{set:r,get:n}=t;const o=e=>n((0,s.Qx)({id:e,key:"name"}));r(c.ids(e),(e=>[...new Set([...e,a.id])].sort(((e,t)=>o(e).localeCompare(o(t),void 0,{sensitivity:"accent",ignorePunctuation:!0})))))}}),h=(0,r.K0)({key:"roomDashboardsState/remove",set:e=>(t,a)=>{let{set:r}=t;r(c.ids(e),(e=>o()(e,a)))}})},38280:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});const r={loaded:!1,fullyLoaded:!1,id:null,isMember:!1,name:"",memberCount:null,nodeCount:null,description:"",private:!1,slug:"",spaceId:null,createdAt:"",untouchable:!0}},46902:(e,t,a)=>{"use strict";a.d(t,{x2:()=>d,n:()=>h,lb:()=>m,di:()=>g,zC:()=>y,ES:()=>u});a(25509),a(65223),a(60321),a(41927),a(11632),a(64377),a(66771),a(12516),a(68931),a(52514),a(35694),a(52774),a(49536),a(21926),a(94483),a(16215);var r=a(47444),n=a(66245),o=a.n(n),s=a(70716),i=a(69765);const l={ids:(0,r.Iz)({key:"roomMemberIds",default:[]}),error:(0,r.Iz)({key:"roomMembersError",default:null}),updatedAt:(0,r.Iz)({key:"roomMembersUpdatedAt",default:""}),loaded:(0,r.Iz)({key:"roomMembersLoaded",default:!1})};var c=a(1522);const d=(0,r.K0)({key:"roomMemberState",get:e=>{let{id:t,key:a}=e;return e=>{let{get:r}=e;return r(l[a](t))}},set:e=>{let{id:t,key:a}=e;return(e,r)=>{let{set:n}=e;n(l[a](t),r)}}}),u=(e,t)=>(0,r.vc)(d({id:e,key:t})),m=()=>{const e=(0,i.ID)();return u(e,"ids")},g=()=>{const e=m();return(0,s.Uv)(e)},p=(0,r.K0)({key:"roomMembersState/add",set:e=>(t,a)=>{let{set:r,get:n}=t;const o=e=>n((0,s.m)({id:e,key:"name"}));r(l.ids(e),(e=>[...new Set([...e,...a])].sort(((e,t)=>o(e).localeCompare(o(t),void 0,{sensitivity:"accent",ignorePunctuation:!0})))))}}),h=function(e,t){let{onSuccess:a,onFail:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=(0,c.y5)(e,t);return(0,r.Zs)((e=>{let{set:r}=e;return e=>{try{o(e),r(p(t),e),a&&a(e)}catch(s){n&&n(e)}}}),[o,e,a,n])},f=(0,r.K0)({key:"roomMembersState/remove",set:e=>(t,a)=>{let{set:r}=t;return r(l.ids(e),(e=>o()(e,a)))}}),y=function(e,t){let{onSuccess:a,onFail:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=(0,c.j_)(e,t);return(0,r.Zs)((e=>{let{set:r}=e;return e=>{try{o(e),r(f(t),e),a&&a(e)}catch(s){n&&n(e)}}}),[o,e,t,a,n])}},21204:(e,t,a)=>{"use strict";a.d(t,{lM:()=>g,gV:()=>A,uB:()=>m,e6:()=>u,tY:()=>y,Vw:()=>h,tQ:()=>v,XH:()=>f});a(17333),a(9920),a(41393),a(98992),a(54520),a(3949),a(81454);var r=a(47444),n=a(33829),o=a(1522);const s=[{id:"system.cpu",context:"system.cpu",dimensions:[],enableAllDimensions:!0,hidden:!1,title:"Total CPU",unit:"percentage"},{id:"system.load",context:"system.load",dimensions:[{id:"load15",name:"load15"}],enableAllDimensions:!1,hidden:!1,title:"Load 15",unit:"load"},{id:"mem.available",context:"mem.available",dimensions:[],enableAllDimensions:!0,hidden:!1,title:"Mem Available",unit:"MiB"},{id:"mem.swap",context:"mem.swap",dimensions:[{id:"free",name:"free"}],enableAllDimensions:!1,hidden:!1,title:"Swap Free",unit:"MiB"},{id:"system.io-in",context:"system.io",dimensions:[{id:"in",name:"in"}],enableAllDimensions:!1,hidden:!1,title:"Disk Reads",unit:"KiB/s"},{id:"system.io-out",context:"system.io",dimensions:[{id:"out",name:"out"}],enableAllDimensions:!1,hidden:!1,title:"Disk Writes",unit:"KiB/s"},{id:"system.net-received",context:"system.net",dimensions:[{id:"InOctets",name:"received"}],enableAllDimensions:!1,hidden:!1,title:"Network In",unit:"kilobits/s"},{id:"system.net-sent",context:"system.net",dimensions:[{id:"OutOctets",name:"sent"}],enableAllDimensions:!1,hidden:!1,title:"Network Out",unit:"kilobits/s"}].reduce(((e,t)=>({...e,[t.id]:t})),{}),i={id:null,title:"",context:"",unit:"",dimensions:[],enableAllDimensions:!1,hidden:!1},l=(0,r.Iz)({key:"roomMetricIds",default:Object.keys(s)}),c=(0,r.Iz)({key:"roomMetrics",default:e=>{let{id:t}=e;return s[t]||{}}}),d=(0,r.K0)({key:"roomMetricState",get:e=>{let{id:t,roomId:a,key:r}=e;return e=>{let{get:n}=e;const o=n(c({id:t,roomId:a}));return r?o[r]:o}},set:e=>{let{id:t,roomId:a,key:r}=e;return(e,n)=>{let{set:o}=e;return r?"function"===typeof n?o(c({id:t,roomId:a}),(e=>({...e,[r]:n(e[r])}))):void o(c({id:t,roomId:a}),(e=>({...e,[r]:n}))):o(c({id:t,roomId:a}),"function"===typeof n?n:{...i,...n})}}}),u=(e,t,a)=>(0,r.vc)(d({id:t,roomId:e,key:a})),m=(e,t)=>(0,r.E0)(c({id:t,roomId:e})),g=(0,r.K0)({key:"roomMetricIdsState",get:e=>t=>{let{get:a}=t;return a(l(e))},set:e=>(t,a)=>{let{set:r}=t;r(l(e),a.map((e=>e.id))),a.forEach((t=>r(c({roomId:e,id:t.id}),t)))}}),p=(0,r.K0)({key:"roomMetricsState",get:e=>t=>{let{get:a}=t;return a(g(e)).map((t=>a(c({id:t,roomId:e}))))}}),h=e=>(0,r.vc)(p(e)),f=function(e){let{shouldPersist:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=(0,o.DH)(e,{silent:!0});return(0,r.Zs)((r=>{let{set:n,snapshot:o}=r;return async function(r){for(var s=arguments.length,i=new Array(s>1?s-1:0),l=1;l<s;l++)i[l-1]=arguments[l];const[c,u]=1===i.length?[i[0]]:i;if(n(d({roomId:e,id:r,key:c}),u),t)try{const t=await o.map((t=>{let{set:a}=t;return a(d({roomId:e,id:r,key:c}),u)})).getPromise(p(e));await a({metrics:t})}catch(m){n(d({roomId:e,id:r,key:c}),await o.getPromise(d({roomId:e,id:r,key:c})))}}}),[e])},y=e=>[h(e),f(e)],v=e=>{const t=(0,o.DH)(e);return(0,r.Zs)((a=>{let{set:r,snapshot:o}=a;return async a=>{const s="new"===a.id,i=(await o.getPromise(p(e))).filter((e=>e.id!==a.id)),c=s?{...a,id:(0,n.A)()}:a,u=[...i,c];await t({metrics:u}),r(d({roomId:e,id:c.id}),c),s&&r(l(e),(e=>[...e,c.id]))}}),[e])},A=e=>{const t=(0,o.DH)(e,{silent:!0});return(0,r.Zs)((a=>{let{set:r,reset:n,snapshot:o}=a;return async a=>{const s=(await o.getPromise(p(e))).filter((e=>e.id!==a));await t({metrics:s}),r(l(e),(e=>e.filter((e=>e!==a)))),n(c({roomId:e,id:a}))}}),[e])}},67990:(e,t,a)=>{"use strict";a.d(t,{dT:()=>u,$6:()=>g,Hx:()=>A,CK:()=>f,nj:()=>y,nl:()=>k,vV:()=>I,gr:()=>m,vv:()=>h});a(9920),a(41393),a(14905),a(98992),a(3949),a(81454),a(8872),a(25509),a(65223),a(60321),a(41927),a(11632),a(64377),a(66771),a(12516),a(68931),a(52514),a(35694),a(52774),a(49536),a(21926),a(94483),a(16215);var r=a(47444),n=a(66245),o=a.n(n),s=a(47762),i=a(69765),l=a(1522);const c={ids:(0,r.Iz)({key:"roomNodeIds",default:[]}),error:(0,r.Iz)({key:"roomNodesError",default:null}),updatedAt:(0,r.Iz)({key:"roomNodesUpdatedAt",default:""}),loaded:(0,r.Iz)({key:"roomNodesLoaded",default:!1})},d={nodes:(0,r.Iz)({key:"roomNodesOptions",default:[]}),error:(0,r.Iz)({key:"roomNodesOptionsError",default:null}),loaded:(0,r.Iz)({key:"roomNodesOptionsLoaded",default:!1})},u=(0,r.K0)({key:"roomNodeState",get:e=>{let{id:t,key:a}=e;return e=>{let{get:r}=e;return r(c[a](t))}},set:e=>{let{id:t,key:a}=e;return(e,r)=>{let{set:n}=e;return n(c[a](t),r)}}}),m=(e,t)=>(0,r.vc)(u({id:e,key:t})),g=(0,r.K0)({key:"roomNodesOptions",get:e=>{let{id:t,key:a}=e;return e=>{let{get:r}=e;return r(d[a](t))}},set:e=>{let{id:t,key:a}=e;return(e,r)=>{let{set:n}=e;n(d[a](t),r)}}}),p=(0,r.K0)({key:"roomsNodesOptions",get:e=>t=>{let{get:a}=t;return e?.length?e.reduce(((e,t)=>{const r=e.map((e=>{let{value:t}=e;return t}));return a(g({id:t,key:"nodes"})).forEach((t=>{r.includes(t.value)||e.push(t)})),e}),[]):[]}}),h=e=>(0,r.vc)(p(e)),f=()=>{const e=(0,i.ID)();return m(e,"ids")},y=()=>{const e=(0,i.ID)();return m(e,"loaded")},v=(0,r.K0)({key:"roomNodesState/add",get:()=>()=>null,set:e=>(t,a)=>{let{set:r,get:n}=t;const o=e=>n((0,s.GN)({id:e,key:"name"}));r(c.ids(e),(e=>[...new Set([...e,...a])].sort(((e,t)=>o(e).localeCompare(o(t),void 0,{sensitivity:"accent",ignorePunctuation:!0}))))),r(c.updatedAt(e),"")}}),A=function(e,t){let{onSuccess:a,onFail:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=(0,l.e8)(e,t);return(0,r.Zs)((e=>{let{set:r}=e;return async function(e){let{makeCallback:s=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const n=await o(e);n&&e.reduce(((e,t,a)=>n[a]?.errorCode?e:[...e,t]),[]),r(v(t),e),s&&a&&a(e)}catch(i){s&&n&&n(e)}}}),[o,e,a,n])},b=(0,r.K0)({key:"roomNodesState/obsolete",get:()=>()=>null,set:e=>{let{roomId:t,nodeIds:a}=e;return e=>{let{set:r}=e;r(c.ids(t),(e=>o()(e,a))),r(c.updatedAt(t),"")}}}),S=(0,r.K0)({key:"roomNodesState/remove",get:()=>()=>null,set:e=>(t,a)=>{let{set:r}=t;r(c.ids(e),(e=>o()(e,a))),r(c.updatedAt(e),"")}}),k=(e,t)=>{const a=(0,l.eY)(e);return(0,r.Zs)((e=>{let{set:r}=e;return async function(e){let{onSuccess:n,onFail:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{await a(e),e.map((e=>{r((0,s.GN)({id:e,key:"state"}),"deleted")})),t.map((t=>{r(b({roomId:t,nodeIds:e}))})),n&&n(e)}catch(i){o&&o()}}}),[a,e])},I=function(e,t){let{onSuccess:a,onFail:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=(0,l.rp)(e,t);return(0,r.Zs)((e=>{let{set:r}=e;return async function(e){let{onSuccess:s,onFail:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{await o(e),r(S(t),e),a&&a(e),s&&s()}catch(l){n&&n(e),i&&i()}}}),[o,e,t,a,n])}},69765:(e,t,a)=>{"use strict";a.d(t,{If:()=>A,LS:()=>b,NG:()=>I,At:()=>U,ID:()=>D,r9:()=>P,QW:()=>C,XA:()=>_,pr:()=>M,HX:()=>x,NQ:()=>E,J_:()=>N,GJ:()=>R,wz:()=>S,A2:()=>T,a8:()=>k});a(17333),a(98992),a(54520);var r=a(47444),n=a(14994),o=a(3914),s=a(81048),i=a(56820),l=a(54308),c=a(38280),d=a(1522),u=a(82265),m=a(21204),g=a(96540),p=a(5169),h=a(87633),f=a(12800);const y=e=>{const t=`${(0,p.t)()}${(0,h.e)(e)}`;return(0,g.useCallback)((e=>(0,f.y)({key:t,handleResults:t=>t.results.concat(e)})),[t])};var v=a(37618);const A=(0,r.K0)({key:"roomInitialize",get:e=>t=>{let{get:a}=t;return a((0,l.Ay)(e))},set:e=>(t,a)=>{let{set:r}=t;const{settings:n,metrics:o,...s}=a;r((0,l.Ay)(e),(e=>({...c.A,...e,...s}))),r((0,l.x4)([s.spaceId,s.slug]),e),n&&r((0,u.A)(e),(e=>({...e,...n}))),o&&r((0,m.lM)(e),o)}}),b=(0,r.K0)({key:"roomState",get:e=>{let{id:t,key:a}=e;return e=>{let{get:r}=e;const n=r((0,l.Ay)(t));return a?n[a]:n}},set:e=>{let{id:t,key:a}=e;return(e,r)=>{let{set:n}=e;n((0,l.Ay)(t),a?"function"!==typeof r?e=>({...e,[a]:r}):e=>({...e,[a]:r(e[a])}):{...c.A,...r})}},reset:e=>{let{id:t,key:a}=e;return(e,r)=>{let{reset:n,set:o}=e;a?o((0,l.Ay)(t),"function"!==typeof r?e=>({...e,[a]:r}):e=>({...e,[a]:r(e[a])})):n((0,l.Ay)(t))}},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),S=(e,t)=>(0,r.vc)(b({id:e,key:t})),k=function(e){let{key:t,shouldPersist:a,onSuccess:n,onFail:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=(0,r.lZ)(b({id:e,key:t})),i=(0,d.DH)(e);return(0,r.Zs)((r=>{let{snapshot:l}=r;return async r=>{const c=t?{[t]:r}:r;if(s((e=>({...e,...c}))),!a)return;const d=await l.getPromise(b({id:e}));try{await i(c),n&&n(r)}catch(u){s(t?d[t]:d),o&&o(r)}}}),[e,t,a,n,o])},I=function(e){let{onSuccess:t,onFail:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=(0,d.yK)(e),s=y(e);return(0,r.Zs)((r=>{let{set:i}=r;return async r=>{try{const{data:a}=await o(r),l={...r,spaceId:e,...a,loaded:!0};await s(l),i(A(l.id),l),i((0,n.Jz)(e),l),t&&t(l)}catch(l){a&&a(r)}}}),[o,e,t,a,s])},w=function(e,t){let{onSuccess:a,onFail:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=(0,r.E0)(b({id:e})),c=S(e,"spaceId");return(0,r.Zs)((r=>{let{snapshot:d,set:u,reset:m}=r;return async()=>{const r=await d.getPromise(b({id:e})),g=await d.getPromise((0,n.YB)({id:r.spaceId})),p=(0,i.Pb)(g.filter((t=>t.id!==e)));try{await t(),m((0,l.x4)([c,r.slug])),u(l.yz,p),u((0,n.Oy)(c),r.id),s(),a&&a(r)}catch(h){o&&o(r)}}}),[t,c,e,a,o])},E=(e,t)=>{const a=S(e,"spaceId"),r=(0,d.n2)(a,e);return w(e,r,t)},x=(e,t)=>{const a=S(e,"spaceId"),r=(0,d.z2)(a,e);return w(e,r,t)},C=()=>(0,r.vc)(l.yz),T=e=>(0,r.lZ)(l.yz,e),N=(e,t)=>(0,r.vc)((0,l.x4)([e,t])),R=()=>(0,v.tB)(D()),M=()=>{const e=(0,n.DL)(),t=(0,o.dg)(),a=R(),r=t||a?v.hq?.slug:s.mL;return e.filter((e=>{let{slug:t}=e;return t===r}))[0]||{id:""}},D=e=>{const t=(0,o.vt)(),a=C(),r=(0,o.dg)()?v.hq?.slug:s.mL;return N(t,e||a||r)},_=e=>{const t=D();return S(t,e)},P=()=>{const e=(0,o.bq)(),t=C();return e&&t&&`/spaces/${e}/rooms/${t}`},U=()=>{const{id:e=""}=M();return"member"===(0,o.ap)("roleInSpace")&&!!e}},82265:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});const r=(0,a(47444).Iz)({key:"roomSettings",default:{groupMode:""}})},29662:(e,t,a)=>{"use strict";a.d(t,{A:()=>d,E:()=>c});var r=a(83957),n=a(54702),o=a(70716),s=a(35273),i=a(46902),l=a(46741);const c=(e,t)=>`spaces.${e}.rooms.${t}.members`,d=function(e,t){let{polling:a=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const d=(0,l.JT)("room:ReadUsers");(0,r.A)((()=>({key:c(e,t),autorun:!!e&&!!t&&d,fetch:()=>(0,n.D4)(e,t),polling:a,association:{getError:()=>(0,i.x2)({id:t,key:"error"}),getIds:()=>(0,i.x2)({id:t,key:"ids"}),getLoaded:()=>(0,i.x2)({id:t,key:"loaded"}),getUpdatedAt:()=>(0,i.x2)({id:t,key:"updatedAt"})},sort:(e,t)=>e.name.localeCompare(t.name,void 0,{sensitivity:"accent",ignorePunctuation:!0}),getResource:e=>(0,o.m)({id:e}),getResourceInitialState:()=>s.u,pollingOptions:{pollingInterval:18e4}})),[e,t])}},87860:(e,t,a)=>{"use strict";a.d(t,{A:()=>f,u:()=>h});var r=a(96540),n=a(63950),o=a.n(n),s=a(71847),i=a(37618),l=a(83957),c=a(47762),d=a(41739),u=a(46741),m=a(63129),g=a(67990),p=a(92138);const h=i.Ay?e=>{let{id:t}=e;return`rooms.${t}.nodes`}:e=>{let{id:t,spaceId:a}=e;return`spaces.${a}.rooms.${t}.nodes`},f=e=>{let{id:t,spaceId:a,pollingInterval:n=63e3,polling:i=!0,keepPolling:f,onNodeIdsChange:y=o()}=e;const v=(0,g.gr)(t,"ids"),[A,b]=(0,r.useState)((()=>v?.length||0)),S=(0,g.gr)(t,"loaded"),k=(0,u.JT)("room:Read"),I=(0,p.A)(v);(0,r.useEffect)((()=>{S&&y({loaded:S,nodeIds:v,prevNodeIds:I})}),[v,I,S]),(0,r.useEffect)((()=>{S&&A!==v.length&&((0,s.H)("node-count",`node-count-changed-from-${A}-to-${v.length}`,"","","","node-count-change"),b(v.length))}),[v.length,A,S]),(0,l.A)((()=>({key:h({id:t,spaceId:a}),autorun:!!k&&!!a&&!!t,fetch:()=>(0,m.uQ)({roomId:t,spaceId:a}),polling:i,association:{getError:()=>(0,g.dT)({id:t,key:"error"}),getIds:()=>(0,g.dT)({id:t,key:"ids"}),getLoaded:()=>(0,g.dT)({id:t,key:"loaded"}),getUpdatedAt:()=>(0,g.dT)({id:t,key:"updatedAt"})},sort:(e,t)=>e.name.localeCompare(t.name,void 0,{sensitivity:"accent",ignorePunctuation:!0}),getResource:e=>(0,c.GN)({id:e}),getResourcesInitializer:()=>c.gl,getResourceInitialState:d.q,pollingOptions:{pollingInterval:n},maxCacheAge:900,force:!0,keepPolling:f})),[a,t,n])}},82428:(e,t,a)=>{"use strict";a.d(t,{p:()=>r});const r=(e,t)=>t.untouchable?1:e.untouchable?-1:e.name.localeCompare(t.name,void 0,{sensitivity:"accent",ignorePunctuation:!0})},7484:(e,t,a)=>{"use strict";a.d(t,{EL:()=>i,Q9:()=>g,RM:()=>h,XD:()=>l,Yk:()=>m,bz:()=>d,cN:()=>c,qi:()=>u,wy:()=>y,xq:()=>f});a(41393),a(14905),a(98992),a(81454),a(8872);var r=a(31629),n=a(49286),o=a(78969),s=a(91069);const i=()=>r.A.get(o._9,{transform:e=>e.map((e=>{let{permissions:t,...a}=e;return{...a,permissions:t.reduce(((e,t)=>({...e,[t]:t})),{})}}))}),l=e=>r.A.get(`/api/v3/spaces/slug/${e}`),c=e=>r.A.delete(`/api/v1/spaces/${e}`),d=e=>r.A.post("/api/v1/spaces",{name:e}),u=(e,t)=>r.A.post("/api/v1/spaces/default",{email:t},{headers:{"Netdata-Account-Id":e}}),m=(e,t)=>r.A.patch(`/api/v1/spaces/${e}`,t),g=e=>r.A.get(`/api/v3/spaces/slug?slug=${e}`,{transform:e=>(0,n.bn)(e)}),p=e=>t=>t.map((t=>({...(0,n.bn)(t),spaceId:e}))),h=function(e){let{defaultParam:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.A.get((0,s.t)({spaceId:e}),{params:{default:t},transform:p(e)})},f=e=>r.A.get(`/api/v3/spaces/${e}/host-label-keys`),y=(e,t)=>r.A.get(`/api/v3/spaces/${e}/host-label-keys/${t}/values`)},56639:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>l,Li:()=>s,aR:()=>i,ue:()=>o});var r=a(47444),n=a(37618);const o={createdAt:"",description:"",iconURL:"",id:"",error:null,loaded:!1,name:"",slug:""},s=(0,r.eU)({key:"currentSpaceSlug",default:null}),i=(0,r.Iz)({key:"spaceIdBySlug",default:"",effects:e=>n.Ay&&e===n.z0?[e=>{let{setSelf:t,trigger:a}=e;"get"===a&&t(n.Z2)}]:[]}),l=(0,r.Iz)({key:"space",default:o,effects:e=>(0,n.ES)(e)?[e=>{let{setSelf:t,trigger:a}=e;"get"===a&&t(n.yu)}]:[]})},36712:(e,t,a)=>{"use strict";a.d(t,{$t:()=>S,FN:()=>b,MQ:()=>p,O0:()=>v,PE:()=>m,U2:()=>y,fn:()=>A,n$:()=>u,pZ:()=>f,td:()=>h,ue:()=>l});a(9920),a(14905),a(98992),a(3949),a(8872);var r=a(31629),n=a(63950),o=a.n(n),s=a(49286),i=a(88116);const l={id:null,name:"",description:"",commitment:!1,pricing:[],enrolledAt:null,currentPeriodFrom:null,currentPeriodTo:null,committedNodes:0,billingEmail:"",balance:{amount:0,currency:"usd"}},c=e=>{const t=i.Nw[e.class],a=(0,s.bn)(e),r=Array.isArray(a.pricing)?a.pricing.reduce(((e,t)=>({...e,[t.type]:t})),{}):{},n=i.uC[t]?.[e.version];return{...l,...a,planLimitations:n,pricing:r,slug:t}},d=e=>(0,s.bn)(e),u=e=>r.A.get(`/api/v2/spaces/${e}/billing/plans`,{transform:e=>{let{plans:t}=e;const a=t.reduce(((e,t)=>{const a=c(t),r=e[a.slug]||[];return"year"===a.interval?r.unshift(a):r.push(a),e[a.slug]=r,e}),{});return Object.entries(a).forEach((e=>{let[t,r]=e;const n=r.reduce(((e,t)=>{const{version:a}=t;return e[a]?e[a]=[...e[a],t]:e[a]=[t],e}),{});a[t]=n})),a}}),m=e=>r.A.get(`/api/v2/spaces/${e}/billing/plan`,{allow401:!0,transform:c}),g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"update";return function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="update"==e?r.A.put:r.A.post;return"function"!==typeof n?o():n(`/api/v2/spaces/${t}/billing/plan`,(0,s.Jz)(a),{transform:e=>{let{url:t}=e;return t}})}},p=(e,t)=>g("checkout")(e,t),h=(e,t)=>g()(e,t),f=(e,t)=>r.A.get(`/api/v2/spaces/${e}/billing/portal?redirect_url=${encodeURIComponent(t)}`,{transform:e=>{let{url:t}=e;return t}}),y=(e,t)=>{let{after:a,before:n}=t;return r.A.get(`/api/v2/spaces/${e}/billing/node-count?from=${a}&to=${n}`)},v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.A.put(`/api/v2/spaces/${e}/billing/plan/preview`,(0,s.Jz)(t),{transform:d})},A=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.A.get(`/api/v2/spaces/${e}/billing/plan/quote`,{transform:d,params:(0,s.Jz)(t)})},b=function(e){let{email:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.A.post(`/api/v2/spaces/${e}/billing/trial`,{email:t})},S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.A.post(`api/v2/spaces/${e}/billing/promo-code/check`,(0,s.Jz)(t))}},19673:(e,t,a)=>{"use strict";a.d(t,{og:()=>N,L_:()=>x,D:()=>M,JN:()=>I,Qh:()=>w,lU:()=>f,qW:()=>A,Tr:()=>S,i5:()=>T,M4:()=>C});var r=a(96540),n=a(47444);const o=(0,n.eU)({key:"billingPlanCancelling",default:!1});var s=a(63950),i=a.n(s),l=a(3914),c=a(36712),d=a(88116),u=a(29848),m=a(46741),g=a(37618);const p=[],h=(0,n.K0)({key:"plans",get:e=>()=>(0,c.n$)(e)}),f=()=>{const e=(0,l.vt)(),t=(0,n.xf)(h(e));return{loaded:"loading"!==t.state,value:t.contents?.data||p,hasError:"hasError"===t.state}},y=(0,n.K0)({key:"previewPlan",get:e=>{let{spaceId:t,payload:a}=e;return()=>a?(0,c.O0)(t,a):Promise.resolve({data:{noRequest:!0}})},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),v=e=>d.aT[e?.response?.data?.errorMsgKey],A=(e,t)=>{const a=(0,l.vt)(),r=(0,n.xf)(y({spaceId:a,payload:e,forceFetch:t}));return{loading:"loading"===r.state,value:r.contents?.data||{},hasError:"hasError"===r.state,promoCodeError:"hasError"===r.state?v(r.contents):void 0}},b=(0,n.K0)({key:"planQuoteSelector",get:e=>{let{spaceId:t,payload:a}=e;return()=>a?(0,c.fn)(t,a):Promise.resolve({data:{noRequest:!0}})},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),S=(e,t)=>{const a=(0,l.vt)(),r=(0,n.xf)(b({spaceId:a,payload:e,forceFetch:t}));return{loading:"loading"===r.state,value:r.contents?.data||{},promoCodeError:"hasError"===r.state?v(r.contents):void 0}},k=(0,n.K0)({key:"currentPlan",get:e=>{let{spaceId:t,canFetchPlan:a}=e;return()=>a&&t&&!(0,g.ES)(t)?(0,c.PE)(t):Promise.resolve()}}),I=()=>{const e=(0,l.vt)(),t=(0,m.JT)("billing:ReadBasic"),a=(0,n.xf)(k({spaceId:e,canFetchPlan:t})),r=(0,n.RH)(k({spaceId:e,canFetchPlan:t}));return{loaded:"loading"!==a.state,value:a.contents?.data||c.ue,hasError:"hasError"===a.state,refresh:r}},w=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;const[t,a]=(0,r.useState)(!1),n=(0,l.vt)();return[(0,r.useCallback)((()=>{a(!0),(0,c.pZ)(n,e).then((e=>{let{data:t}=e;return location.href=t})).finally((()=>a(!1)))}),[n,e]),t]},E=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.td;const t=(0,l.vt)(),a=I(),r=(0,u.ly)();return!a.loaded||a.hasError?i():n=>e(t,n).then((e=>{a.refresh(),r(),e?.data&&(location.href=e.data)}))},x=()=>E(c.MQ),C=()=>E(),T=()=>{const e=(0,l.vt)();return t=>(0,c.FN)(e,t)},N=()=>{const[e,t]=(0,n.L4)(o);return{cancelling:e,startCancelling:(0,r.useCallback)((()=>t(!0)),[]),stopCancelling:(0,r.useCallback)((()=>t(!1)),[])}},R=(0,n.K0)({key:"couponCheck",get:e=>{let{spaceId:t,...a}=e;return()=>a.promotionCode?(0,c.$t)(t,a):Promise.resolve({})}}),M=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,l.vt)(),a=(0,n.xf)(R({spaceId:t,...e}));return{loading:"loading"===a.state,discount:a.contents?.data?.percent_off||0,promoCodeError:"hasError"===a.state?v(a.contents):void 0}}},88116:(e,t,a)=>{"use strict";a.d(t,{FJ:()=>i,HR:()=>l,KV:()=>g,Nw:()=>n,VH:()=>r,aT:()=>d,jS:()=>u,rY:()=>c,tD:()=>o,uC:()=>m});const r={pro:"pro",free:"free",earlyBird:"earlyBird",business:"business",homelab:"homelab"},n={Pro:r.pro,Professional:r.pro,Community:r.free,EarlyBird:r.earlyBird,Business:r.business,Homelab:r.homelab},o=[r.business],s=[{text:"Unlimited Metrics & Logs"},{text:"Unlimited Nodes"},{text:"Unlimited Custom Dashboards"},{text:"Unlimited Data Retention"},{text:"1-second granularity for every metric"},{text:"Role-based access control (RBAC)"},{text:"Single Sign-On (SSO)"},{text:"Configure everything from the UI (Dynamic Configuration)"},{text:"Enterprise Notification Integrations (Slack, PagerDuty etc.)"}],i={free:{level:0,title:"Community",features:{2023.11:[{text:"Unlimited Metrics & Logs"},{text:"Community Notification Integrations"},{text:"1-second granularity for every metric"},{text:"Max 5 Active Connected Nodes",icon:"warning_triangle",iconColor:"warning"},{text:"Max 1 Active Custom Dashboard per Room",icon:"warning_triangle",iconColor:"warning"},{text:"No support for Role-based access control",icon:"x",iconColor:"error"},{text:"No support for Single Sign-On",icon:"x",iconColor:"error"},{text:"No access to Dynamic Configuration from UI",icon:"x",iconColor:"error"}]},showAnnualPrice:!1},business:{level:20,title:"Business",features:{2023.02:s,2024.03:s},showAnnualPrice:!1},homelab:{title:"Homelab"}},l=["year","month"],c={year:"yearly",month:"monthly"},d={ErrInvalidPromotionCode:"Promotion code is invalid",ErrInactivePromotionCode:"Promotion code is inactive",ErrInvalidPromotionCodePlan:"Promotion code cannot be applied to this plan"},u="planEnrolmentError",m={free:{2023.11:{maxNodes:5,maxDashboards:1}}},g={ErrNodeIsNotPreferred:"This node has not been selected as a preferred node.",ErrWindowsAgentIsNotSupported:"Windows agent is not supported.",default:"This node is not eligible."}},73865:(e,t,a)=>{"use strict";a.d(t,{A:()=>m,f:()=>u});var r=a(96540),n=a(22292),o=a(47762),s=a(69765),i=a(69418),l=a(19673),c=a(93155),d=a(3914);const u=()=>({maxNodes:window.localNetdataRegistry.limitations?.limit||5,maxDashboards:window.localNetdataRegistry.limitations?.customDashboardsLimit||1,allowLocalWindows:window.localNetdataRegistry.limitations?.windowsSupport||!1}),m=()=>{const e=(0,s.GJ)(),t=(0,d.dg)(),a=(0,n.uW)("isAnonymous"),m=t,[,,g]=(0,i.A)(),p=(0,o.Y7)(),{loaded:h,nodes:f,hasError:y,refresh:v}=(0,o.Du)(),{loaded:A,value:b,hasError:S}=(0,l.JN)(),k=c.bO&&!!b?.planLimitations,I=k||m,{maxNodes:w,maxDashboards:E,allowLocalWindows:x}=k&&b?.planLimitations?b.planLimitations:m?u():{},C=(0,r.useCallback)((a=>{if(!a)return{restricted:!1};if(!h||!A)return{restricted:!1};if(!I)return{restricted:!1};const r=p(a);if(!r.name)return{restricted:!1};const{eligibility:n,os:o}=r,{isEligible:s,key:i}=n||{};if(!e)return{restricted:!s,reason:i};return"windows"==(o?.kernel?.nm||"").toLowerCase()&&("free"===b.slug||t&&!x)?{restricted:!0,reason:"ErrWindowsAgentIsNotSupported"}:window.localNetdataRegistry.nd===a?{restricted:!1}:w<g&&!f.includes(a)?{restricted:!0,reason:"ErrNodeIsNotPreferred"}:{restricted:!1}}),[h,f,A,p,e,m,a,b,w,g]);return{loaded:h&&A,hasError:y||S,currentPlan:b,hasLimitations:I,maxNodes:w,nodesCount:g,maxDashboards:E,preferredNodes:f,isNodeRestricted:C,refreshPreferredNodes:v,isNewUser:!b.paymentProvider}}},50503:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(96540),n=a(88116);const o=()=>{const[e,t]=(0,r.useState)(localStorage.getItem(n.jS));return{isFailure:e,setFailure:(0,r.useCallback)((()=>{t(!0),localStorage.setItem(n.jS,!0)}),[]),reset:(0,r.useCallback)((()=>{t(!1),localStorage.removeItem(n.jS)}),[])}}},55189:(e,t,a)=>{"use strict";a.d(t,{dy:()=>s,eA:()=>n,pz:()=>o,sh:()=>i});var r=a(96540);const n="SPACE_NOT_FOUND",o=5,s=20,i={delete:r.createElement(r.Fragment,null,"Cannot delete last space of account.",r.createElement("br",null),"You can delete your account instead."),leave:r.createElement(r.Fragment,null,"Cannot leave last space of account.",r.createElement("br",null),"You can delete your account instead.")}},48849:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});const r=(0,a(47444).eU)({key:"publicSpacesAtom",default:[]})},14994:(e,t,a)=>{"use strict";a.d(t,{Is:()=>d,YB:()=>f,$e:()=>c,Jz:()=>p,Oy:()=>h,DL:()=>v,WW:()=>g,Y7:()=>m,CB:()=>y,sC:()=>u});a(17333),a(9920),a(41393),a(98992),a(54520),a(3949),a(81454),a(25509),a(65223),a(60321),a(41927),a(11632),a(64377),a(66771),a(12516),a(68931),a(52514),a(35694),a(52774),a(49536),a(21926),a(94483),a(16215);var r=a(47444),n=a(69765),o=a(3914),s=a(37618);const i={ids:(0,r.Iz)({key:"spaceRoomIds",default:[],effects:e=>(0,s.Az)(e)?[e=>{let{onSet:t,trigger:a,setSelf:r}=e;"get"===a&&r([s.gB]),t((e=>{r([s.gB,...e])}))}]:[]}),updatedAt:(0,r.Iz)({key:"spaceRoomsUpdatedAt",default:""}),loaded:(0,r.Iz)({key:"spaceRoomsLoaded",default:!1,effects:e=>(0,s.Az)(e)?[e=>{let{trigger:t,setSelf:a}=e;"get"===t&&a(!0)}]:[]})};var l=a(82428);const c=(0,r.K0)({key:"spaceRoomState",get:e=>{let{id:t,key:a}=e;return e=>{let{get:r}=e;return r(i[a](t))}},set:e=>{let{id:t,key:a}=e;return(e,r)=>{let{set:n}=e;n(i[a](t),r)}}}),d=(e,t)=>{Object.values(i).forEach((a=>e(a(t))))},u=(e,t)=>(0,r.vc)(c({id:e,key:t})),m=e=>{const t=(0,o.vt)();return u(t,e)},g=()=>{const e=(0,o.vt)();return u(e,"ids")},p=(0,r.K0)({key:"spaceRoomsState/add",get:()=>()=>null,set:e=>(t,a)=>{let{set:r,get:o}=t;const s=e=>o((0,n.LS)({id:e}));r(c({id:e,key:"ids"}),(e=>[...new Set([...e,a.id])].sort(((e,t)=>(0,l.p)(s(e),s(t)))))),r(c({id:e,key:"loaded"}),!0),r(c({id:e,key:"updatedAt"}),"")}}),h=(0,r.K0)({key:"spaceRoomsState/remove",get:()=>()=>null,set:e=>(t,a)=>{let{set:r}=t;r(c({id:e,key:"ids"}),(e=>e.filter((e=>e!==a)))),r(c({id:e,key:"loaded"}),!0),r(c({id:e,key:"updatedAt"}),"")}}),f=(0,r.K0)({key:"spaceFullRooms",get:e=>{let{id:t,key:a}=e;return e=>{let{get:r}=e;return r(c({id:t,key:"ids"})).map((e=>r((0,n.LS)({id:e,key:a}))))}},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),y=(e,t)=>(0,r.vc)(f({id:e,key:t})),v=e=>{const t=(0,o.vt)();return y(t,e)}},3914:(e,t,a)=>{"use strict";a.d(t,{EG:()=>g,Jn:()=>m,U2:()=>u,nC:()=>c,Pk:()=>y,vt:()=>b,bq:()=>v,ap:()=>k,jw:()=>I,hX:()=>A,Ak:()=>f,dg:()=>S,ns:()=>p,UV:()=>h});a(9920),a(41393),a(98992),a(3949),a(81454),a(25509),a(65223),a(60321),a(41927),a(11632),a(64377),a(66771),a(12516),a(68931),a(52514),a(35694),a(52774),a(49536),a(21926),a(94483),a(16215);var r=a(47444),n=a(37618),o=a(76689);const s={ids:(0,r.eU)({key:"spaceIds",default:[],effects:n.Ay?[e=>{let{onSet:t,trigger:a,setSelf:r}=e;"get"===a&&r([n.Z2]),t((e=>{r([n.Z2,...e])}))}]:[]}),error:(0,r.eU)({key:"spacesError",default:null}),updatedAt:(0,r.eU)({key:"spacesUpdatedAt",default:""}),loaded:(0,r.eU)({key:"spacesLoaded",default:!1,effects:[e=>{let{trigger:t,setSelf:a,getLoadable:r}=e;r(o.A).contents?.isAnonymous&&"get"===t&&a(!0)}]})};var i=a(56639),l=a(48849);const c=(0,r.K0)({key:"spacesState",get:e=>t=>{let{get:a}=t;return a(s[e])},set:e=>(t,a)=>{let{set:r}=t;r(s[e],a)}}),d=(0,r.gD)({key:"availableSpaceIds",get:e=>{let{get:t}=e;const a=t(c("ids")),r=t(l.A);return[...new Set([...a,...r])]}}),u=(0,r.K0)({key:"spaceState",get:e=>{let{id:t,key:a}=e;return e=>{let{get:r}=e;const n=r((0,i.Ay)(t));return a?n[a]:n}},set:e=>{let{id:t,key:a}=e;return(e,r)=>{let{set:n}=e;n((0,i.Ay)(t),a?"function"!==typeof r?e=>({...e,[a]:r}):e=>({...e,[a]:r(e[a])}):{...i.ue,...r})}}}),m=(0,r.K0)({key:"spaceIdBySlugState",get:e=>t=>{let{get:a}=t;return a((0,i.aR)(e))},set:()=>(e,t)=>{let{set:a}=e;t.forEach((e=>{a((0,i.aR)(e.slug),e.id)}))}}),g=(0,r.gD)({key:"currentSpaceIdState",get:e=>{let{get:t}=e;const a=t(i.Li);return t(m(a))}}),p=(e,t)=>(0,r.vc)(u({id:e,key:t})),h=e=>(0,r.vc)(c(e)),f=e=>(0,r.vc)(m(e)),y=()=>(0,r.vc)(d),v=()=>(0,r.vc)(i.Li),A=e=>(0,r.lZ)(i.Li,e),b=()=>(0,r.vc)(g),S=()=>(0,n.ES)(b()),k=e=>{const t=b();return p(t,e)},I=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,r.Zs)((t=>{let{snapshot:a}=t;return()=>e.map((e=>a.getLoadable(u({id:e})).contents))}))()}},48388:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var r=a(3914),n=a(90709),o=a(55189),s=a(37618);const i=()=>{const e=(0,n.U)(),t=(0,r.Ak)(e),a=(0,r.ns)(t||o.eA),i=(0,r.UV)("error");return(0,s.ES)(t)?{isFetching:!1,hasAccess:!0}:{isFetching:!!e&&!a.loaded&&!i&&!a.error,hasAccess:a.loaded&&!i&&!a.error}}},90709:(e,t,a)=>{"use strict";a.d(t,{A:()=>f,U:()=>h});a(14905),a(98992),a(8872),a(25509),a(65223),a(60321),a(41927),a(11632),a(64377),a(66771),a(12516),a(68931),a(52514),a(35694),a(52774),a(49536),a(21926),a(94483),a(16215);var r=a(47444),n=a(47767),o=a(7484),s=a(96540),i=a(3914);const l="/spaces/:spaceSlug/*";var c=a(22292),d=a(46741),u=a(48849),m=a(55189),g=a(94355),p=a(37618);const h=()=>(0,n.RQ)(l)?.params?.spaceSlug,f=()=>{const e=(()=>{const e=(0,n.RQ)(l),{spaceSlug:t}=e?.params||{},a=(0,i.hX)(),r=(0,i.bq)(),o=(0,i.UV)("loaded");return(0,s.useEffect)((()=>{o&&r!==t&&a(t)}),[r,t,o]),t})(),[t,a]=(0,s.useState)(null),h=(0,c.uW)("isAnonymous"),f=(0,r.Zs)((r=>{let{set:n}=r;return async()=>{try{const{data:t}=await(0,o.XD)(e),{id:a,permissions:r,...s}=t;n((0,d.Dk)(a),r.reduce(((e,t)=>({...e,[t]:t})),{})),n((0,i.U2)({id:a}),(e=>({...e,...s,loaded:!0}))),n((0,i.Jn)(),[{id:a,slug:e}]),n(u.A,(e=>[...new Set([...e,a])])),h&&n((0,i.nC)("loaded"),!0)}catch(t){n((0,i.U2)({id:m.eA}),(a=>({...a,error:(0,g.A)(t)}))),a(t)}}}),[h,e]);return(0,s.useEffect)((()=>{p.Ay&&e===p.z0||e&&f()}),[f,e]),t}},87633:(e,t,a)=>{"use strict";a.d(t,{A:()=>d,e:()=>c});var r=a(83957),n=a(69765),o=a(7484),s=a(14994),i=a(82428),l=a(37618);const c=e=>`spaces.${e}.rooms`,d=function(e){let{autorun:t=!0,polling:a=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.A)((()=>({key:c(e),autorun:t&&!!e,polling:a,fetch:()=>(0,o.RM)(e),association:{getIds:()=>(0,s.$e)({id:e,key:"ids"}),getLoaded:()=>(0,s.$e)({id:e,key:"loaded"}),getUpdatedAt:()=>(0,s.$e)({id:e,key:"updatedAt"})},sort:i.p,getResource:n.If,pollingOptions:{pollingInterval:69e3},force:!l.Ay})),[e])}},47731:(e,t,a)=>{"use strict";a.d(t,{J:()=>n});var r=a(45463);const n=()=>(0,r.A)("(max-width: 767px)")},18061:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(96540);const n=()=>{},o=(e,t)=>{const{fetch:a,enabled:o=!0,initialValue:s,onFail:i=n,onSettle:l=n,onSuccess:c=n,isDefaultLoading:d=!1}=(0,r.useMemo)(e,t),[u,m]=(0,r.useState)(s),[g,p]=(0,r.useState)(d),[h,f]=(0,r.useState)(null),y=(0,r.useRef)(!0);return(0,r.useEffect)((()=>{if(!o)return;m(s),p(!0),f(null);const e=a();return e.then((e=>{let{data:t}=e;y.current&&(m(t),c(t))})).catch((e=>{y.current&&(e.isCancel||(f(e),i(e)))})).finally((()=>{y.current&&(p(!1),l())})),()=>e?.cancel?.()}),t),(0,r.useEffect)((()=>()=>y.current=!1),[]),[u,g,h]}},69418:(e,t,a)=>{"use strict";a.d(t,{A:()=>l,Q:()=>i});a(14905),a(98992),a(8872);var r=a(47767),n=a(3914),o=a(14994),s=a(37618);const i=()=>{const{pathname:e}=(0,r.zy)();return{isIntegrationsPath:/\/integrate-anything(\/|$)/.test(e)}},l=()=>{const e=(0,n.vt)(),t=(0,o.CB)(e,"nodeCount").reduce(((e,t)=>t>e?t:e),0),a=(0,o.Y7)("loaded"),r=(0,s.ES)(e),i=!r&&(!e||!a);return[!i&&!r&&0===t,i,t]}},61649:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var r=a(96540);const n=(e,t)=>{const a=(0,r.useRef)();return(0,r.useCallback)((function(){return a.current&&a.current.cancel?.(),a.current=e(...arguments),a.current}),t)}},86723:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(96540);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const a=localStorage.getItem(e);return a?JSON.parse(a):t},o=(e,t)=>{const[a,o]=(0,r.useState)((()=>n(e,t)));return(0,r.useEffect)((()=>localStorage.setItem(e,JSON.stringify(a))),[a]),[a,o]}},45463:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(96540);const n=e=>"function"===typeof window?.matchMedia&&window.matchMedia(e).matches,o=e=>{const[t,a]=(0,r.useState)((()=>n(e)));function o(){a(n(e))}return(0,r.useEffect)((()=>{if("function"!==typeof window.matchMedia)return;const t=window.matchMedia(e);return o(),t.addListener?t.addListener(o):t.addEventListener("change",o),()=>{t.removeListener?t.removeListener(o):t.removeEventListener("change",o)}}),[e]),t}},80862:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var r=a(96540);const n=()=>{const e=(0,r.useRef)(!1);return(0,r.useEffect)((()=>(e.current=!0,()=>e.current=!1)),[]),e}},71835:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});a(9920),a(98992),a(3949);var r=a(96540),n=a(78217),o=a(13871);const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";const t=(0,r.useRef)({}),a=(0,r.useCallback)((a=>{const r=(0,o.UI)({...a,success:!0});t.current[e]&&n.A.dismiss(t.current[e]),t.current[e]=n.A.success(r)}),[]),s=(0,r.useCallback)((a=>{const r=a?.response?.data,s=(0,o.gi)(r?.errorMessage?r:{errorMessage:a.message,errorMsgKey:a.message,...a});t.current[e]&&n.A.dismiss(t.current[e]),t.current[e]=n.A.error(s)}),[]),i=(0,r.useCallback)((e=>e.forEach(s)),[]),l=(0,r.useCallback)((a=>{const r=(0,o.UI)({...a,warning:!0});t.current[e]&&n.A.dismiss(t.current[e]),t.current[e]=n.A.warning(r)}),[]);return[a,s,i,l]}},76201:(e,t,a)=>{"use strict";a.d(t,{A:()=>s,F:()=>o});var r=a(96540),n=a(47767);const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:location.href;window.posthog?.__loaded&&window.posthog.capture("$pageview",{$current_url:e})},s=()=>{const{pathname:e}=(0,n.zy)();(0,r.useEffect)((()=>{o()}),[e])}},92138:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var r=a(96540),n=a(2404),o=a.n(n),s=a(80862);const i=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o();const n=(0,r.useRef)(),i=(0,r.useRef)(e);return!(0,s.A)().current||t&&a(i.current,e)||(n.current=i.current,i.current=e),n.current}},66627:(e,t,a)=>{"use strict";a.d(t,{A:()=>o,h:()=>n});const r=(0,a(63457).A)("netdata"),n=86400,o=function(e,t){let a,{maxAge:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=()=>{if(!a)return;const e=new Error("rejected");throw e.isCancel=!0,e},s=r.get(e,{maxAge:n}).then((e=>{if(o(),e)return t(e)})).then((()=>(o(),t=>r.set(e,t))));return s.abort=()=>{a=!0},s}},12800:(e,t,a)=>{"use strict";a.d(t,{y:()=>n});var r=a(66627);const n=async e=>{let t,{key:a,handleResults:n}=e;return(await(0,r.A)(a,(e=>(t={updatedAt:"",results:n(e)},t))))(t)}},5169:(e,t,a)=>{"use strict";a.d(t,{t:()=>n});var r=a(22292);const n=()=>`user.${(0,r.NJ)()}.`},83957:(e,t,a)=>{"use strict";a.d(t,{A:()=>A});a(17333),a(9920),a(41393),a(14905),a(98992),a(54520),a(3949),a(81454),a(8872),a(25509),a(65223),a(60321),a(41927),a(11632),a(64377),a(66771),a(12516),a(68931),a(52514),a(35694),a(52774),a(49536),a(21926),a(94483),a(16215);var r=a(96540),n=a(47444),o=a(65570),s=a(83488),i=a.n(s),l=a(18300),c=a(80925),d=a(94355),u=a(68831),m=a(22292),g=a(66627),p=a(5169),h=a(71835);const f=(0,n.eU)({key:"subscriptionsLatestError",default:0}),y=(0,n.K0)({key:"useSubscribe/updateState",get:()=>()=>null,set:()=>(e,t)=>{let{get:a,set:r}=e,{results:n,wasDiff:s,updatedAt:l,getResource:c,getResourcesInitializer:d,getResourceInitialState:u,getUpdatedAt:m,getLoaded:g,getIds:p,getError:h,sort:f,saveToCache:y,restored:v=!1,polling:A=!0}=t;n=n||[],h&&r(h(),null);const b=()=>{r(m(),l),r(g(),!v||"restored")};if(0===n.length&&s)return void b();const{effected:S,deleted:k,byId:I}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i();return e.reduce(((e,a)=>(a.loaded=!0,"deleted"===a.state||a.isDeleted?e.deleted.push(a.id):(e.byId[a.id]={...t(a),...a},e.effected.push(a.id)),e)),{deleted:[],effected:[],byId:{}})}(n,u),w=e=>e in I?I[e]:a(c(e));let E=[];r(p(),(e=>!s&&A||!A?(E=S.length?S:E,f&&E.sort(((e,t)=>f(w(e),w(t)))),E):(k.length&&(E=e.filter((e=>!k.includes(e)))),s&&S.length&&(E=[...new Set([...e,...S])],f&&E.sort(((e,t)=>f(w(e),w(t))))),(0,o.Ay)(E,e)?e:E))),d?r(d(),{values:I,merge:!0}):S.forEach((e=>r(c(e),(t=>({...t,loaded:!0,...I[e]}))))),b(),y&&y({results:E.map(w),updatedAt:l})}}),v=e=>{const t=(0,c.eg)(),a=(0,r.useMemo)((()=>t?t.getRoot():null),[t]),[,o]=(0,l.A)(),[,s]=(0,h.A)(e.key),i=(0,n.Zs)((t=>{let{snapshot:a,set:r}=t;return async(t,n)=>{let{getError:o,onFail:i}=n;const l=Date.now(),c=await a.getPromise(f);if(t.isCancel||!e.throwAllErrors&&c+1e4>l)throw t;throw o&&r(o(),(0,d.A)(t)),r(f,l),i?i(t):s(t),t}}),[e]),m=(0,n.Zs)((e=>{let{snapshot:t,set:a}=e;return async(e,r)=>{let{fetchResources:n,onReceive:o,getUpdatedAt:s,getError:l,clearRef:c,onFail:d,...u}=r;const g=await t.getPromise(s());return(c.promise=n(g),c.promise.catch((async e=>i(e,{onFail:d,getError:l})))).then((function(){let{data:e={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e=>{const t=Array.isArray(e),r=t?e:e.results,i=t?"":e.updatedAt;return o?.({...t?{results:r}:{results:[],...e},lastUpdated:g}),a(y(),{fetchResources:n,results:r,wasDiff:!!g,updatedAt:i,getUpdatedAt:s,getError:l,clearRef:c,onFail:d,...u}),new Promise((e=>setTimeout(e,0)))})(e)})).catch((t=>{if(t.isCancel||1===e)throw t;return m(--e,{fetchResources:n,onReceive:o,getUpdatedAt:s,getError:l,clearRef:c,onFail:d,...u})}))}}),[e]);return(0,r.useCallback)((t=>{const{polling:r=!0,fetch:n,association:s,pollingOptions:i,keepPolling:l,...c}=e,d={timeoutId:null,animationFrameId:null,promise:null,killed:!1},g=()=>m(2,{fetchResources:n,saveToCache:t,polling:r,clearRef:d,...s,...c}),p=()=>{d.killed||(d.timeoutId=setTimeout((()=>{d.animationFrameId=requestAnimationFrame((()=>!l&&a&&(a.getAttribute("hovering")||a.getAttribute("paused"))?p():l||o.current||a&&a.getAttribute("autofetchOnWindowBlur")?void g().then(p).catch((e=>!e.isCancel&&p())):p()))}),i?.pollingInterval||u.A.pollingInterval))};return g().then(r?p:null).catch((e=>r&&!e.isCancel&&p())),()=>{d.killed=!0,d.promise?.cancel?.(),cancelAnimationFrame(d.animationFrameId),clearTimeout(d.timeoutId)}}),[e])},A=(e,t)=>{const a=(0,p.t)(),o=(0,m.uW)("isAnonymous"),s=(0,r.useMemo)((()=>{const{key:t,...r}=e();return{key:`${a}${t}`,...r}}),[e,...t,o]),i=v(s),l=(0,n.Zs)((e=>{let{set:t}=e;return e=>{let{results:a=[],updatedAt:r=""}=e;const n=(Array.isArray(a)&&a.length)>0;return s.onReceive?.({results:a,lastUpdated:""}),t(y(),{results:a,updatedAt:n?r:"",...s,...s.association,restored:n}),new Promise((e=>setTimeout(e,0)))}}),t),c=(0,n.Zs)((e=>{let{snapshot:t}=e;return()=>{const{association:{getLoaded:e},key:a,cache:r=!0,maxCacheAge:n,skip:o}=s,c=t.getLoadable(e()).contents;if(!o&&(c||!r))return i();const d=(0,g.A)(a,l,{maxAge:n||g.h});let u;return d.then((e=>{u=i(e)})).catch((()=>{})),()=>{o||(d.abort(),u?.())}}}),t);return(0,r.useEffect)((()=>{const{autorun:e=!0,force:t=!1,skip:a=!1}=s;if((!o||t)&&!a&&e)return c()}),[o,c]),i}},87659:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var r=a(96540);const n=function(e){let{on:t,off:a,toggle:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[o,s]=(0,r.useState)(!!e);return[o,(0,r.useCallback)((e=>s((r=>{const o="boolean"===typeof e?e:!r;return n&&n(o),t&&o&&t(),a&&!o&&a(),o}))),[n,t,a]),(0,r.useCallback)((()=>{s(!0),t&&t()}),[t]),(0,r.useCallback)((()=>{s(!1),a&&a()}),[a])]}},45467:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(96540),n=a(80862);const o=(e,t)=>{const a=(0,n.A)();(0,r.useEffect)((()=>{if(a.current)return e()}),t)}},56820:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>S,Pb:()=>b,z1:()=>f});a(8159),a(98992),a(37550);var r=a(96540),n=a(47767),o=a(45588),s=a(3914),i=a(14994),l=a(48388),c=a(81048),d=a(21591),u=a(69765),m=a(68980),g=a(68831),p=a(24198),h=a(37618);const f=e=>{const t=(0,n.Zp)(),a=(0,n.g)(),o=(0,u.r9)(),s=(0,m.zi)(e||a.dashboardSlug),i=(0,d.RQ)(),l=(0,r.useRef)(!1);(0,r.useEffect)((()=>{!0===i&&(s?l.current=!0:(t(`${o}/dashboards`),l.current||(0,p.$j)()))}),[i,s])},{demoSlug:y,demoDefaultRoomViews:v,defaultRoomView:A}=g.A,b=e=>e.length?e.some((e=>{let{slug:t}=e;return t===c.mL}))?c.mL:e[0]?.slug:null,S=()=>{(0,n.zy)();const e=(0,n.Zp)(),t=(0,n.RQ)({path:"/spaces/:spaceSlug/*"}),a=(0,n.RQ)({path:"/spaces/:spaceSlug/rooms/:roomSlug/*"}),c=(0,n.RQ)({path:"/*"}),d=a?.params||t?.params||c?.params,m=!!(0,n.RQ)({path:"/spaces/:spaceSlug/settings/*"}),g=(0,s.Ak)(d.spaceSlug),p=(0,s.UV)("loaded"),f=(0,u.J_)(g,d.roomSlug),S=(0,i.Y7)("loaded"),[k]=(0,s.Pk)(),I=(0,s.ns)(k,"slug"),{isFetching:w}=(0,l.A)(),E=(0,i.DL)(),x=(0,s.hX)(),C=(0,s.bq)();(0,r.useEffect)((()=>{if(w)return;if(!h.Ay&&(!p||"restored"===p))return;if(m&&g)return;if(g&&C!==d.spaceSlug)return void x(d.spaceSlug);if(g&&!S)return;if(g&&f)return;const t=g?d.spaceSlug:I,a=f?d?.roomSlug:b(E);e(g&&S&&!a?(0,o.tW)("/spaces/:spaceSlug/no-rooms",{spaceSlug:t}):((e,t)=>{if(!t)return(0,o.tW)("/spaces/:spaceSlug/",{spaceSlug:e});const a=y===e?v[t]||v.default:!h.Ay||e!==h.z0&&t!==h.Iy?A:h.kG;return(0,o.tW)(`/spaces/:spaceSlug/rooms/:roomSlug/${a}`,{spaceSlug:e,roomSlug:t})})(t,a),{replace:!0})}),[m,w,d.roomSlug,d.spaceSlug,f,S,!!E.length,p,g,I,C])}},18300:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var r=a(96540);const n=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const[t,a]=(0,r.useState)(e),n=(0,r.useRef)(t);return(0,r.useEffect)((()=>{const e=()=>{n.current=!1,a(!1)};window.addEventListener("blur",e);const t=()=>{n.current=!0,a(!0)};return window.addEventListener("focus",t),()=>{window.removeEventListener("blur",e),window.removeEventListener("focus",t)}}),[]),[t,n]}},85919:(e,t,a)=>{"use strict";var r=a(96540),n=a(39225),o=a(5338),s=a(47444),i=a(84976),l=a(47767),c=a(20900),d=a(86829),u=a(80925),m=a(55337),g=a(24266),p=a(47731),h=a(28738),f=a(37618);const y=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function v(e,t){navigator.serviceWorker.register(e).then((e=>{a.g.registration=e,e.onupdatefound=()=>{const a=e.installing;null!=a&&(a.onstatechange=()=>{"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((e=>{console.error("Error during service worker registration:",e)}))}var A=a(57971);const b=(e,t)=>(t.search=t.pathname===e.location.pathname?t.search:t.search||e.location.search,t.hash=t.hash||e.location.hash,t);function S(e){if(f.sA&&"/"!==f.sA&&e.startsWith(f.sA)){const t=f.sA+e.slice(f.sA.length).replace(new RegExp(`^${f.sA}`,"g"),"/");e=t}return e=e.replace(/\/+/g,"/")}const k=e=>"string"===typeof e?{pathname:S(e)}:{...e,pathname:S(e.pathname)},I=(0,A.zR)({window:window}),w=I.push,E=I.replace;I.push=(e,t)=>w.apply(I,[b(I,k(e)),t]),I.replace=(e,t)=>{E.apply(I,[b(I,k(e)),t])};const x=I,C=JSON.parse('{"UU":"cloud-frontend","rE":"7.28.2"}'),T=(0,n.A)((()=>a.e(7840).then(a.bind(a,17840))),"Redirects"),N=(0,n.A)((()=>Promise.all([a.e(7208),a.e(5596)]).then(a.bind(a,75596))),"SignIn"),R=(0,n.A)((()=>a.e(3350).then(a.bind(a,73350))),"Trust"),M=(0,n.A)((()=>a.e(9818).then(a.bind(a,89818))),"MobileApp"),D=(0,n.A)((()=>a.e(7529).then(a.bind(a,67529))),"AuthTokenCallback"),_=(0,n.A)((()=>Promise.all([a.e(7208),a.e(1418)]).then(a.bind(a,11418))),"MagicLinkSent"),P=(0,n.A)((()=>a.e(1876).then(a.bind(a,41876))),"SignUpVerification"),U=(0,n.A)((()=>a.e(3621).then(a.bind(a,63621))),"CheckAuth"),$=(0,n.A)((()=>Promise.all([a.e(1396),a.e(7471)]).then(a.bind(a,86147))),"App"),L=(0,n.A)((()=>a.e(3736).then(a.bind(a,63736))),"GlobalStyles"),K=(0,n.A)((()=>a.e(683).then(a.bind(a,683))),"Notifications"),B=(0,n.A)((()=>Promise.all([a.e(9334),a.e(5794),a.e(8784)]).then(a.bind(a,38784)).then((e=>({default:e.AssistantAlerts})))),"AssistantAlerts"),F=(0,n.A)((()=>Promise.all([a.e(9334),a.e(5794),a.e(8784)]).then(a.bind(a,38784)).then((e=>({default:e.AssistantChat})))),"AssistantChat"),z=(0,n.A)((()=>a.e(7146).then(a.bind(a,57146))),"Webviews"),O=(0,n.A)((()=>a.e(813).then(a.bind(a,30813))),"Attribution");window.envSettings.tracking?setTimeout((()=>{c.T({dsn:"https://43a4669badb04eee941ec8b242991df7@o382276.ingest.sentry.io/5210883",maxBreadcrumbs:100,release:`${C.UU}@${C.rE}`,debug:!1,tracesSampleRate:.4,environment:window.envSettings.isAgent?"agent":window.envSettings.nodeEnv||"agent",denyUrls:[/.*translate\.google(apis)?.*/i],autoSessionTracking:!1,beforeSend(e,t){let{originalException:a={}}=t;if(!/netdata\.cloud/.test(e?.request?.headers?.Referer))return null;if(!a)return e;const{response:r={},isCancel:n=!1}=a;if(n)return null;const{status:o}=r;return 400===o||422===o?e:o>=400&&o<=599?null:e},ignoreErrors:["Non-Error exception captured","Non-Error promise rejection captured","Request aborted",/ResizeObserver/,"timeout exceeded","this.get_config is not a function",/IndexSizeError/,"Invalid time value","not_found",/A mutation operation was attempted on a database that did not allow mutations/,/No data for this period/,/Network Error/]}),window.addEventListener("beforeunload",(function(){try{d.B().getClient().getOptions().enabled=!1}catch(e){}}))}),500):console.log("Running in development mode version:",C.UU,C.rE);const j=(0,m.g)(g.H4,"light"),G=()=>null,W=()=>{const e=(0,p.J)();return r.createElement(s.bi,null,r.createElement(r.Suspense,{fallback:""},r.createElement(m.A,null,r.createElement(u.Ay,null,r.createElement(g.Ay,{fallback:j},r.createElement(r.Suspense,{fallback:""},r.createElement(L,{isScreenSmall:e}),r.createElement(K,null),r.createElement(B,null),r.createElement(F,null),r.createElement(O,null),r.createElement(i.rI,{className:"router",history:x,basename:f.Ay?f.sA:"/"},r.createElement(l.BV,null,r.createElement(l.qh,{path:"/webviews/*",element:r.createElement(G,null)}),r.createElement(l.qh,{path:"*",element:r.createElement(U,null)})),r.createElement(r.Suspense,{fallback:r.createElement(h.A,null)},r.createElement(l.BV,null,!f.Ay&&r.createElement(r.Fragment,null,r.createElement(l.qh,{path:"/sign-in",element:r.createElement(N,null)}),r.createElement(l.qh,{path:"/trust",element:r.createElement(R,null)}),r.createElement(l.qh,{path:"/sign-up",element:r.createElement(l.C5,{to:"/sign-in",replace:!0})}),r.createElement(l.qh,{path:"/sign-up/verify",element:r.createElement(P,null)}),r.createElement(l.qh,{path:"/sign-in/magic-link-sent",element:r.createElement(_,null)}),r.createElement(l.qh,{path:"/sign-in/mobile-app",element:r.createElement(M,null)}),r.createElement(l.qh,{path:"/webviews/*",element:r.createElement(z,null)})),r.createElement(l.qh,{path:"/cloud/origin/callback",element:r.createElement(D,null)}),r.createElement(l.qh,{path:"/redirects",element:r.createElement(T,null)}),r.createElement(l.qh,{path:"/spaces/test-form",element:r.createElement(P,null)}),r.createElement(l.qh,{path:"*",element:r.createElement($,null)}))))))))))};var V;(0,o.H)(document.getElementById("app")).render(r.createElement(W,null)),document.body.classList.remove("netdata-splash"),"serviceWorker"in navigator&&window.addEventListener("load",(()=>{const e=`${window.envSettings.webpackPublicPath}/sw.js`;y?(function(e,t){fetch(e).then((a=>{const r=a.headers.get("content-type");404===a.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((e=>{e.unregister().then((()=>{console.log("Service worker not found. Page is reloaded."),window.location.reload()}))})):v(e,t)})).catch((()=>{console.log("No internet connection found. App is running in offline mode.")}))}(e,V),navigator.serviceWorker.ready.then((()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")}))):v(e,V)}))},27752:(e,t,a)=>{a.p=window.envSettings.isAgent&&!window.envSettings.webpackPublicPath?window.envSettings.agentApiUrl+"/v3/":`${window.envSettings.webpackPublicPath||""}/`.replace(/([^:]\/)\/+/g,"$1")},98439:(e,t,a)=>{window.envSettings.tracking&&(window.posthog={},a.e(5476).then(a.bind(a,55476)).then((e=>{window.posthog=e.default,window.posthog.init(window.envSettings.posthogToken,{api_host:"https://app.posthog.com"})})),function(e,t,a,r,n){e[r]=e[r]||[],e[r].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var o=t.getElementsByTagName(a)[0],s=t.createElement(a);s.async=!0,s.src="https://www.googletagmanager.com/gtm.js?id=GTM-N6CBMJD",o.parentNode.insertBefore(s,o)}(window,document,"script","dataLayer"))},91069:(e,t,a)=>{"use strict";a.d(t,{t:()=>n});var r=a(78969);const n=e=>{let{spaceId:t}=e;return`${r.P8}/spaces/${t}/rooms?show_all=true`}},42634:()=>{}},e=>{e.O(0,[3524],(()=>{[3621,1396,7471].map(e.E)}),5);var t=t=>e(e.s=t);e.O(0,[3975,4292,2981,6375],(()=>(t(27752),t(98439),t(85919))));e.O()}]);