!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="d5a09aaa-5dce-4ed9-a051-2da170f5ff15",e._sentryDebugIdIdentifier="sentry-dbid-d5a09aaa-5dce-4ed9-a051-2da170f5ff15")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"c87aa722cb3cb6eb3ac10b8f2032443089be80ba"},(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[4002],{79304:(e,t,n)=>{n.d(t,{A:()=>r});const r=e=>(e||"").replace(/[\s:|().&/]/g,"_")},82700:(e,t,n)=>{n.d(t,{Ay:()=>f,H5:()=>y,V$:()=>g,b1:()=>p});var r=n(58168),a=(n(17333),n(41393),n(14905),n(8159),n(98992),n(54520),n(81454),n(8872),n(37550),n(96540)),o=n(63950),l=n.n(o),s=n(8711),i=n(27467),c=n(65336),d=n(54924),u=n(29217);const m=e=>e?e[0].toUpperCase()+e.slice(1):"Unknown",p=(0,s.default)(c.Flex).attrs((e=>({as:"li",role:"option",padding:[1,2],gap:1,justifyContent:"between",width:"100%",...e}))).withConfig({displayName:"checkboxes__ItemContainer",componentId:"sc-1vef46u-0"})(["cursor:",";opacity:",";align-items:",";"," ",""],(e=>{let{disabled:t}=e;return t?"default":"pointer"}),(e=>{let{stale:t,disabled:n,selected:r}=e;return!t&&!n||r?1:.6}),(e=>{let{alignItems:t}=e;return t||"center"}),(e=>{let{multi:t,selected:n,theme:r}=e;return!t&&n&&`\n    background-color: ${(e=>{let{theme:t}=e;const{name:n}=t;return("Dark"===n?(0,c.getRgbColor)(["green","green20"]):(0,c.getRgbColor)(["green","green170"]))({theme:t})})({theme:r})};\n  `}),(e=>{let{multi:t,selected:n,disabled:r,theme:a}=e;return!t&&!n&&!r&&`\n    &:hover {\n      background-color: ${(0,c.getColor)("secondaryHighlight")({theme:a})};\n    }\n  `})),g=(0,s.default)(c.MenuDropdown).attrs((e=>({background:"transparent",hideShadow:!0,height:{max:"300px"},width:{max:"600px"},overflow:"auto",...e}))).withConfig({displayName:"checkboxes__CheckboxesContainer",componentId:"sc-1vef46u-1"})([""]),h=e=>e,y={itemProps:{padding:[1,.5],multi:!0},itemsProps:{head:{textColor:"textLite"},row:{textColor:"text"}},Item:e=>{let{item:t,onItemClick:n,itemProps:o,...s}=e;const{value:i,disabled:g,onClick:h,label:y,selected:f,excluded:v,indeterminate:x,textColor:b,iconName:I,count:E,countLabel:A="results",actualCount:C,actualCountLabel:k,pill:w,info:S,level:P=0,stale:K,...N}=t,{capitalized:F}=o,{multi:_}=o,T=g||!_&&f,M=e=>{g||(h&&h(e),n({value:i,label:y,checked:!f,item:t}))};return a.createElement(p,(0,r.A)({"aria-selected":f,selected:f,disabled:T,stale:0===E||"0"===E||K||v},N,s,o,{"data-testid":`${o.testIdPrefix}-filters-item`}),a.createElement(c.Flex,{gap:2,alignItems:"center",padding:[0,0,0,4*P],width:"100%",overflow:"hidden"},_?a.createElement(c.Checkbox,{"data-testid":`${o.testIdPrefix}-filters-checkbox-${y}`,checked:f,disabled:T,indeterminate:x,onChange:M,label:a.createElement(c.Flex,{gap:1,alignItems:"center",width:"100%"},I&&a.createElement(c.Icon,{name:I,size:"small",color:"textLite"}),a.createElement(d.default,{Component:c.TextSmall,text:"string"===typeof y&&F?m(y):y.toString(),color:b}))}):a.createElement(c.Flex,{flex:!0,gap:1,padding:[0,1],alignItems:"center",onClick:f?l():M,"data-testid":`${o.testIdPrefix}-filters-item-${y}`},a.createElement(d.default,{Component:c.TextSmall,text:"string"===typeof y&&F?m(y):y.toString(),color:b}))),(!isNaN(E)||/%/.test(E||"")||w)&&a.createElement(u.A,{align:"top",content:S||(C?`${C} ${k} aggregated in ${E} ${A}`:`${E} ${A}`)},a.createElement(c.Pill,{flavour:"neutral",hollow:!0,"data-testid":`${o.testIdPrefix}-filters-${y}-count`,size:"small"},!!C&&a.createElement(c.TextSmall,null,C," \u2283\xa0"),(w||E).toString())))},getValue:h,getLabel:h},f=(0,a.memo)((e=>{let{baseKey:t,extraKey:n,paramFlavour:o="arr",param:l,Item:s=y.Item,testIdPrefix:c,collection:d,getValue:u=y.getValue,getLabel:m=y.getLabel,itemsProps:p=y.itemsProps,itemProps:h=y.itemProps,capitalized:f=!0,multi:v=!0,merge:x=!1,...b}=e;const[I,E]=(0,i.N9)(l,{defaultValue:[],key:t,extraKey:n,flavour:o,merge:x});(0,a.useEffect)((()=>{if(!d.length||!I.length)return;const e=I.filter((e=>d.some((t=>u(t)===e))));e.length!==I.length&&E(e)}),[d.length,E]);const A=(0,a.useCallback)((e=>{let{value:t,checked:n}=e;E(v?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(t)?n?t:[]:n?[...e,t]:e.filter((e=>e!==t))}:()=>n?[t]:[])}),[E]),C=(0,a.useMemo)((()=>(e=>{let{collection:t,selected:n,getValue:r,getLabel:a,itemsProps:o,multi:l}=e;if(!t.length)return[];const s=l&&t.length<=n.length,i=l&&!s&&!!n.length;return t.reduce(((e,t)=>{const l=n.includes(r(t));return[...e,{...o.row,...t,value:r(t),label:a(t),selected:l}]}),l?[{...o.head,label:"Select all",value:t.map(r),selected:s,indeterminate:i}]:[])})({collection:d,selected:I,getValue:u,getLabel:m,itemsProps:p,multi:v})),[I,d]);return a.createElement(g,(0,r.A)({"data-testid":`${c}-filter-selections`,items:C,Item:s,onItemClick:A,value:I,"data-value":I.join(",")||"all-selected",hasSearch:d.length>5,searchMargin:[0,0,1],itemProps:{...h,testIdPrefix:c,capitalized:f,multi:v}},b))}),((e,t)=>e.baseKey===t.baseKey&&e.extraKey===t.extraKey&&e.multi===t.multi&&e.collection===t.collection))},59846:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(58168),a=n(96540),o=n(65336),l=n(27467),s=n(87659),i=n(29217);const c=e=>{let{margin:t,title:n,testIdPrefix:c,baseKey:d,extraKey:u,param:m,paramFlavour:p="arr",children:g,multi:h=!0,defaultIsOpen:y=!0,border:f={side:"bottom",color:"borderSecondary"},required:v=!1,configElements:x,showCounter:b=!0,help:I,collapsible:E=!0,merge:A=!1,...C}=e;const[k,w]=(0,l.N9)(m,{key:d,extraKey:u,flavour:p,merge:A}),[S,P]=(0,s.A)(y||!!k?.length);return a.createElement(o.Flex,(0,r.A)({"data-testid":`${c}-filter`,column:!0,padding:[2,0,0],border:f},C),a.createElement(o.Flex,{justifyContent:"between",margin:!E||S?t:[0],gap:2,onClick:E?P:void 0,cursor:"pointer"},a.createElement(o.Flex,{alignItems:"center",gap:1,height:4.5},v&&!k?.length&&a.createElement(o.Icon,{color:"error",name:"error",size:"small"}),a.createElement(o.Flex,{alignItems:"center",gap:.5},a.createElement(o.TextSmall,{strong:!0},n),!!I&&a.createElement(i.A,{align:"top",content:I},a.createElement(o.Flex,null,a.createElement(o.Icon,{name:"question",color:"textLite",width:"12px",height:"12px"})))),b&&!!k?.length&&a.createElement(o.Pill,{flavour:"neutral",hollow:!0,"data-testid":`${c}-selected-count`,tiny:!0},k?.length)),a.createElement(o.Flex,{gap:1,alignItems:"center"},E&&a.createElement(o.Icon,{name:"chevron_left",size:"small",color:"textLite",rotate:S?1:3}))),a.createElement(o.Collapsible,{open:!E||S,height:"100%"},a.createElement(o.Flex,{alignItems:"center",justifyContent:"end",gap:2},!v&&h&&!!k?.length&&a.createElement(o.Button,{padding:[0],flavour:"borderless",onClick:e=>{e.stopPropagation(),w([])},"data-testid":`${c}-filter-resetAll`,label:"Reset",small:!0}),"function"===typeof x?x({isOpen:S,collapsible:E}):x),g))}},20859:(e,t,n)=>{n.d(t,{Ay:()=>W,Ii:()=>L});var r=n(58168),a=(n(17333),n(14905),n(8159),n(98992),n(54520),n(8872),n(37550),n(25509),n(65223),n(60321),n(41927),n(11632),n(64377),n(66771),n(12516),n(68931),n(52514),n(35694),n(52774),n(49536),n(21926),n(94483),n(16215),n(96540)),o=n(65336),l=n(66245),s=n.n(l),i=n(89935),c=n.n(i),d=n(84976),u=n(47762),m=n(11128),p=n(54924),g=n(4659),h=n(88494),y=n(37019),f=n(82700),v=n(73865),x=n(47130),b=n(88116),I=(n(41393),n(81454),n(8711)),E=n(45123),A=n(87791),C=n(87659),k=n(29217),w=n(50466),S=n(92155);const P=(0,I.default)(o.Flex).attrs({column:!0,round:1,background:"dropdown"}).withConfig({displayName:"nodeButton__Dropdown",componentId:"sc-1viran0-0"})(["box-shadow:0 4px 4px rgba(0,0,0,0.25);"]),K=(0,S.A)(E.A),N=e=>{let{children:t,Component:n=o.TextSmall,tooltip:l,truncate:s,textColor:i="text",nodeId:c,...d}=e;const g=(0,a.useRef)(),[h,y,,f]=(0,C.A)(),x=(0,a.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),y()}),[]),b=function(e){let{closeMenu:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(0,u.Zl)(e),{isNodeRestricted:r}=(0,v.A)(),{restricted:o,reason:l}=r(e),s=((0,u.xY)(e),(0,a.useCallback)((t=>{setSidebarOpen(!0),setSidebarTab(t),setNodeInfoId(e)}),[e])),i=((0,a.useCallback)((()=>s("alerts")),[s]),(0,a.useCallback)((()=>s("info")),[s]),(0,w.Id)()),[c,d]=((0,w.gD)(),(0,m.Oj)({merge:!1})),p=c.includes(e);return(0,a.useMemo)((()=>[{to:n,onClick:()=>{t()},label:"Go to node metrics",testid:"go-to-node"},{onClick:()=>{d([e]),t()},label:"Select only this node",testid:"global-select-node"},{onClick:()=>{d((t=>p?t.filter((t=>t!==e)):[...new Set([...t,e])])),t()},label:p?"Remove from filters":"Include in filters",isDisabled:p,testid:"global-include-node"},{hasSeparator:!0,justDesc:!0,description:"Go to this node's functions"},{onClick:()=>{i(e,"processes"),t()},label:"Top",testid:"go-to-functions-top"},{hasSeparator:!0,justDesc:!0,description:"Go to this node's logs"},{onClick:()=>{i(e,"systemd-journal"),t()},label:"Systemd Journal",testid:"go-to-functions-logs"}]),[e,p])}(c,{closeMenu:f});return a.createElement(a.Fragment,null,"string"===typeof t?a.createElement(p.default,(0,r.A)({Component:n,text:t,color:i,truncate:s,tooltip:l,noTooltip:!l,onClick:x,ref:g},d)):a.Children.map(t,(e=>(0,a.cloneElement)(e,{ref:g,onClick:x,textColor:i,truncate:s,tooltip:l,...d}))),g.current&&h&&a.createElement(o.Drop,{target:g.current,width:"160px",stretch:!1,zIndex:80,onClickOutside:f},a.createElement(P,{padding:[0,0,2,0],height:{max:"80vh"}},b.map(((e,t)=>{let{hasSeparator:n,label:l,icon:s,description:i,justDesc:d,...u}=e;return a.createElement(a.Fragment,{key:t},n&&a.createElement(A.c,null),a.createElement(K,(0,r.A)({round:1,payload:{description:`Node menu - Click ${c}`},Wrapper:o.Flex,gap:1},u),!!l&&a.createElement(o.Text,null,!!s&&a.createElement(o.Icon,{width:"14px",height:"14px",svg:s}),l),!!i&&(d?a.createElement(o.TextMicro,{color:"textLite"},i):a.createElement(k.A,{content:i,zIndex:9999999},a.createElement("div",null,a.createElement(o.Icon,{name:"information",height:"14px",width:"14px"}))))))})))))};var F=n(93155);const _=(0,x.A)(p.default),T=(0,x.A)(o.Flex),M="By selecting a parent node, you apply your changes to all it's children nodes too.",L={Live:{head:{label:"Live nodes",textColor:"textLite",iconName:"connectivityStatusLive",hasML:!1,hasParentNode:!0,hasAlerts:!0,hasFn:!1},node:{textColor:"textFocus",showAlerts:!0,showMl:!1,showFn:!1,showParentNode:!0}},Stale:{head:{label:"Stale nodes",textColor:"textLite",iconName:"connectivityStatusStale"},node:{textColor:"textFocus"}},Offline:{head:{label:"Offline nodes",textColor:"textLite",iconName:"connectivityStatusOffline"},node:{textColor:"textLite"}}},D=e=>{let{toggle:t,expanded:n}=e;return a.createElement(o.Flex,{cursor:"pointer",role:"button",padding:[.5],gap:.5,onClick:e=>{e.preventDefault(),e.stopPropagation(),t(),setTimeout((()=>e.target.scrollIntoView({behavior:"smooth",block:"nearest"})))}},a.createElement(o.TextNano,{color:"textLite"},n?"Collapse":"Expand"),a.createElement(o.Icon,{name:"chevron_down",width:"10px",height:"10px",color:"textLite",rotate:n?2:null}))},B=($=e=>{let{iconName:t,label:n,textColor:r,value:l,nodePath:s,nodeId:i,onAnchorClick:c,isParentNode:u,isParent:m,showParentNode:p,onToggleHidden:h,itemsHidden:y,status:f,restricted:v,reason:x}=e;const I=(0,a.useMemo)((()=>!m&&v?b.KV[x]||b.KV.default:p&&u?M:null),[p,u,v,x]);return a.createElement(o.Flex,{gap:2,alignItems:"center"},t&&a.createElement(o.Icon,{name:t,size:"small",color:"textLite"}),a.createElement(_,{Component:o.TextSmall,text:n,color:r,truncate:!0,tooltip:I}),"Offline"!==f&&!Array.isArray(l)&&(F.Rj?a.createElement(N,{nodeId:l},a.createElement(o.Icon,{name:"gear",height:"10px",width:"10px",color:"textLite"})):a.createElement(g.A,{as:d.N_,to:s,state:{nodeId:i},"data-testid":"filterNodes-item-gta",color:"textLite",hoverColor:"text",onClick:c},a.createElement(o.Icon,{name:"nav_arrow_goto",height:"10px",width:"10px"}))),!!h&&a.createElement(D,{toggle:h,expanded:!y}))},e=>{let{restricted:t,...n}=e;return t&&Array.isArray(n.value)?a.createElement($,n):a.createElement(o.Checkbox,{"data-testid":`filterNodes-checkbox-${n.label}`,checked:n.selected,disabled:n.isDisabled,indeterminate:n.indeterminate,onChange:n.onSelect,label:a.createElement($,n)})});var $;const z=e=>{let{item:{value:t,disabled:n,onClick:l,label:s,nodeId:i,selected:m,excluded:x,stale:b,status:I,indeterminate:E,textColor:A,iconName:C,hasAlerts:k,hasML:w,hasParentNode:S,hasFn:P,showAlerts:K,showMl:N,showParentNode:F,showFn:_,requireML:L,requireFn:$,capabilities:z,count:O,multi:q=!0,checkIsDisabled:R=c(),onToggleHidden:V,itemsHidden:j,isParent:H,isParentNode:W,hasExtraInfo:U,flavour:G,...Z},onItemClick:Q,itemProps:Y,close:J,...X}=e;const ee=(0,u.Zl)(i),{isNodeRestricted:te}=(0,v.A)(),{restricted:ne,reason:re}=te(i),ae=(0,a.useMemo)((()=>!_||!z||z.funcs?.enabled),[_]),oe=(0,a.useMemo)((()=>!_||!z||z.ml?.enabled),[_]),le=n||!H&&ne||L&&!oe||$&&!ae||!q&&m||R(i),se=e=>{le||(l&&l(e),Q({value:t,checked:!m,status:I}))},ie=e=>{e.stopPropagation(),J?.()},ce=x||b,de={status:I,restricted:ne,iconName:C,isDisabled:le,indeterminate:E,label:s,textColor:A,value:t,nodePath:ee,nodeId:i,onAnchorClick:ie,onSelect:se,isStale:ce,excluded:x,selected:m,isParent:H,isParentNode:W,showParentNode:F,itemProps:Y,onToggleHidden:V,itemsHidden:j,flavour:G};return a.createElement(f.b1,(0,r.A)({"aria-selected":m,selected:m,disabled:le,stale:ce||0===O||"0"===O},Z,X,Y,{"data-testid":`filterNodes-item-${s}`,multi:q}),a.createElement(o.Flex,(0,r.A)({gap:2,alignItems:"center",flex:!0},H?{}:{padding:[0,0,0,1.5]}),q?a.createElement(B,(0,r.A)({},de,ne?{iconName:"padlock",help:re}:{},{restricted:ne,reason:re})):a.createElement(o.Flex,{gap:1,padding:[0,1],alignItems:"center",onClick:se,"data-testid":`filterNodes-item-${s}`,flex:!0},a.createElement(p.default,{Component:o.TextSmall,text:s,color:A}),"Offline"!==I&&!Array.isArray(t)&&a.createElement(g.A,{as:d.N_,to:ee,state:{nodeId:i},"data-testid":"filterNodes-item-gta",color:"textLite",hoverColor:"text",onClick:ie},a.createElement(o.Icon,{name:"nav_arrow_goto",height:"10px",width:"10px"})),!!V&&a.createElement(D,{toggle:V,expanded:!j}))),U&&a.createElement(o.Flex,{gap:1},K&&a.createElement(o.Flex,{gap:1,justifyContent:"center",width:17},a.createElement(y.A,{id:t,isLive:!0,name:s})),N&&a.createElement(o.Flex,{gap:1,justifyContent:"center",width:10},a.createElement(h.A,{badge:"ml","data-testid":"nodes-indicator-machine-learning",enabled:oe,name:s})),F&&a.createElement(T,{gap:1,justifyContent:"center",width:14,tooltip:W?M:null},W?a.createElement(o.Icon,{name:"check",color:"primary"}):null),_&&a.createElement(o.Flex,{gap:1,justifyContent:"center",width:10},a.createElement(h.A,{badge:"fn","data-testid":"nodes-indicator-fn",enabled:ae,name:s})),k&&a.createElement(o.Flex,{gap:1,justifyContent:"center",width:17},a.createElement(o.Icon,{name:"alarm",size:"small",color:"textLite"}),a.createElement(o.TextSmall,{strong:!0,color:"textLite"},"Alerts")),w&&a.createElement(o.Flex,{gap:1,justifyContent:"center",width:10},a.createElement(o.Icon,{name:"anomaliesLens",size:"small",color:"textLite"}),a.createElement(o.TextSmall,{strong:!0,color:"textLite"},"ML")),S&&a.createElement(o.Flex,{gap:1,justifyContent:"center",width:14},a.createElement(o.TextSmall,{strong:!0,color:"textLite"},"Parent")),P&&a.createElement(o.Flex,{gap:1,justifyContent:"center",width:10},a.createElement(o.Icon,{name:"functions",size:"small",color:"textLite"}),a.createElement(o.TextSmall,{strong:!0,color:"textLite"},"Fn")),!isNaN(O)&&a.createElement(o.Pill,{flavour:"neutral",hollow:!0,"data-testid":`${Y.testIdPrefix}-filters-${s}-count`,size:"small"},O.toString())))},O=["dyncfg"],q=e=>{let{ids:t,status:n,selectedIds:r,excludedIds:a,filteredIds:o,nodesById:l,statusProps:s,multi:i=!0,nodeCounts:c,checkIsDisabled:d,setHidden:u,hidden:m,extraKey:p,flavour:g}=e;if(!t.length)return[];const h=i&&!t.some((e=>!r.includes(e))),y=i&&r.length&&!h&&t.some((e=>r.includes(e))),f=i&&!t.some((e=>!a.includes(e))),v=i&&a.length&&!f&&t.some((e=>a.includes(e))),x=!p||O.includes(p);return t.reduce(((e,t)=>{if(m[n])return e;const{name:u,capabilities:p,labels:h,ni:y,eligibility:f}=l[t];if("dyncfg"==g&&!p?.dyncfg?.enabled)return e;const v=r.includes(t),b=!!a.length&&a.includes(t),I=i&&!o.includes(t)&&("dyncfg"==g||!!o.length),E=0==y||"true"==h?._is_parent;return[...e,{value:t,label:u,nodeId:t,selected:v,excluded:b,stale:I,status:n,capabilities:p,...s[n].node,multi:i,checkIsDisabled:d,count:c?c[t]||0:NaN,hasExtraInfo:x,isParentNode:E,flavour:g,eligibility:f}]}),[{value:t,selected:h,indeterminate:y,disabled:!i,status:n,...s[n].head,multi:i,onToggleHidden:()=>u((e=>({...e,[n]:!m[n]}))),itemsHidden:m[n],excluded:f,someExcluded:v,isParent:!0,hasExtraInfo:x}])},R=e=>e,V=(e,t)=>e.isParentNode&&!t.isParentNode?-1:t.isParentNode&&!e.isParentNode?1:0,j=e=>{const t=e.filter((e=>e.isParent)),n=e.filter((e=>!e.isParent)).sort(V);return t.length>0?[t[0],...n]:n},H=e=>{let{baseKey:t,extraKey:n,statusProps:o=L,multi:l=!0,useFilteredIds:i=R,nodeCounts:c,checkIsDisabled:d,flavour:p,...g}=e;const[h,y]=(0,a.useState)((()=>({Stale:!0,Offline:!0}))),v=(0,m.w7)({extraKey:n,omit:"selectedNodeIds",merge:!0,emptyIfAll:!1}),x=(0,m.w7)({extraKey:n,merge:!1}),[b,I]=(0,m.Oj)({key:t,extraKey:n,merge:!1}),[E,A]=(0,m.PF)({key:t,extraKey:n,merge:!1}),C=i(v),k=(0,u.BU)(n?C:void 0),w=(0,u.Ig)(n?C:void 0),S=(0,u.GE)(n?C:void 0),P=(0,a.useCallback)((e=>{let{value:t,checked:n,excluded:r}=e;if("undefined"!==typeof r){if(!l)return void A((()=>n?[t]:[]));A((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(t)?n?[...new Set([...e,...t])]:s()(e,t):n?[...e,t]:e.filter((e=>e!==t))}))}I(l?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(t)?n?[...new Set([...e,...t])]:s()(e,t):n?[...new Set([...e,t])]:e.filter((e=>e!==t))}:()=>n?[t]:[])}),[b,I]),K=(0,u.ss)(),N=(0,a.useMemo)((()=>{const e=q({ids:k,status:"Live",selectedIds:b,excludedIds:E,filteredIds:x,nodesById:K,statusProps:o,multi:l,nodeCounts:c,checkIsDisabled:d,setHidden:y,hidden:h,extraKey:n,flavour:p}),t=q({ids:w,status:"Stale",selectedIds:b,excludedIds:E,filteredIds:x,nodesById:K,statusProps:o,multi:l,nodeCounts:c,checkIsDisabled:d,setHidden:y,hidden:h,extraKey:n,flavour:p}),r=q({ids:S,status:"Offline",selectedIds:b,excludedIds:E,filteredIds:x,nodesById:K,statusProps:o,multi:l,nodeCounts:c,checkIsDisabled:d,setHidden:y,hidden:h,extraKey:n,flavour:p});return"dyncfg"==p?j(e):j(e).concat(t,r)}),[b,E.length,C.length,x.length,c,d,h,p]);return a.createElement(f.V$,(0,r.A)({"data-testid":"filterNodes-drop",items:N,Item:z,onItemClick:P,value:b,"data-value":b.join(",")||"all-nodes",hasSearch:!0},g))},W=(0,a.memo)(H,((e,t)=>e.baseKey===t.baseKey&&e.extraKey===t.extraKey&&e.statusProps===t.statusProps&&e.multi===t.multi&&e.nodeCounts===t.nodeCounts&&e.useFilteredIds===t.useFilteredIds&&e.checkIsDisabled===t.checkIsDisabled))},93615:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(58168),a=n(96540),o=n(65336),l=n(64473);const s=e=>{let{onToggle:t,icon:n="node_hollow",isOpen:s,title:i,...c}=e;return a.createElement(l.A,(0,r.A)({dataTestId:"collapsed-header",iconClose:s?"arrow_w_line_right":"arrow_w_line_left",onClick:t},c),s&&a.createElement(o.Flex,{gap:2,alignItems:"center","data-testid":"sidebar-nodeName"},a.createElement(o.Icon,{name:n,color:"text",size:"small"}),a.createElement(o.TextSmall,{strong:!0},i)))},i=(0,a.memo)(s)},30577:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(58168),a=(n(41393),n(81454),n(96540)),o=n(65336);const l=e=>{let{iconName:t,label:n,onClick:l,containerStyles:s,textStyles:i}=e;return a.createElement(o.Flex,(0,r.A)({"data-testid":"sidebar-icon-item"},s,{column:!0,margin:[2,0],alignItems:"center"}),a.createElement(o.Flex,{"data-testid":"sidebar-icon-item-wrapper",margin:[0,0,.5,0],alignItems:"center",onClick:l,cursor:"pointer"},a.createElement(o.Icon,{name:t,color:"textLite",width:"18px",height:"18px"})),a.createElement(o.TextMicro,(0,r.A)({color:"text"},i),n))},s=e=>{let{onClickTab:t,availableTabs:n,tabsToShow:s,...i}=e;return a.createElement(o.Flex,(0,r.A)({"data-testid":"collapsed-sidebar",column:!0,justifyContent:"center"},i),s.map(((e,r)=>{const{iconName:o,label:s}=n[e];return a.createElement(l,{containerStyles:{border:{size:"2px",type:"solid",color:"mainBackground",side:"left"}},textStyles:{color:"textLite"},key:o,onClick:()=>t(r),iconName:o,label:s})})))},i=(0,a.memo)(s)},64473:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(58168),a=n(96540),o=n(65336),l=n(29217);const s=e=>{let{children:t,onClick:n,iconClose:s="x",icon:i,dataTestId:c,title:d,help:u,...m}=e;return a.createElement(o.Flex,(0,r.A)({"data-testid":c,height:12,alignItems:"center",justifyContent:"between",border:{side:"bottom",color:"borderSecondary"},padding:[0,2],flex:!1},m),d?a.createElement(o.Flex,{gap:2,alignItems:"center","data-testid":"sidebar-nodeName"},a.createElement(o.Icon,{name:i,color:"text",size:"small"}),a.createElement(o.TextSmall,{strong:!0},d),!!u&&a.createElement(l.A,{align:"top",content:u},a.createElement(o.Flex,null,a.createElement(o.Icon,{name:"question",color:"textLite",width:"12px",height:"12px"})))):t,a.createElement(o.Icon,{"data-testid":"sidebarHeader-icon",name:s,color:"textLite",onClick:n,cursor:"pointer"}))}},81638:(e,t,n)=>{n.d(t,{Ay:()=>l});var r=n(58168),a=n(96540),o=n(65336);const l=(0,a.memo)((e=>{let{children:t,collapsedComponent:n,isOpen:l,header:s,width:i=90,...c}=e;const d=!!n;return a.createElement(o.Collapsible,(0,r.A)({open:l,column:!0,closedValue:d?48:0,persist:d,direction:"horizontal",border:{side:"left",color:"borderSecondary"},width:i,flex:!0,basis:i},c),(e=>a.createElement(a.Fragment,null,s,e?t:n)))}))},92136:(e,t,n)=>{n.d(t,{A:()=>P});var r=n(58168),a=n(96540),o=n(67602),l=n(65336),s=n(64118),i=n(15327),c=n(74618),d=n(40267),u=n(5871),m=n(28738),p=n(11164),g=n(52768);const h=(0,a.memo)((e=>{let{id:t}=e;const{fullyLoaded:n,nodeId:r,instance:o,lastStatusChangeValue:l,lastStatusChange:i,units:c,context:d,value:u,lastUpdated:m,status:h}=(0,s.JL)(t),y=(0,g.J4)(u,c),f=(0,g.J4)(l,c);return a.createElement(p.A,{instance:o,context:d,formattedLastValue:y,formattedLastStatusChangeValue:f,lastStatusChange:i,lastUpdated:m,isFormattedValueLoaded:"clear"===h||n,nodeId:r,status:h,testid:"alertDetailsModal"})}));var y=n(3914),f=n(69765),v=n(47767),x=n(50876);const b=e=>{let{alertId:t,testid:n}=e;const r=`/spaces/${(0,y.bq)()}/rooms/${(0,f.QW)()}/alerts/${t}`,o=(0,v.Zp)(),{sendButtonClickedLog:s,isReady:i}=(0,x.A)(),c=(0,a.useCallback)((e=>{e.preventDefault(),s({dataGa:`${n}::view-alert-button`}).finally((()=>{o(r)}))}),[o,r,i]);return a.createElement(l.Button,{as:"a","data-testid":`${n}-view-alert-button`,"data-ga":`${n}::view-alert-button`,href:r,onClick:c,label:"View alert page",width:"224px"})};var I=n(43407),E=n(7660),A=n(4974),C=n(85686),k=n(73865),w=n(63314);const S=e=>{let{alertId:t,onClose:n}=e;const{isNodeRestricted:r}=(0,k.A)(),{name:o="unknown alert",status:p,fullyLoaded:g,info:y,nodeId:f}=(0,s.JL)(t);(0,s.yk)(t);const{restricted:v}=r(f);return a.createElement(w.Ay,{mode:"AlertDetailsModal"},a.createElement(i.GO,{onClose:n},a.createElement(c.z,{onClose:n,title:o,"data-testid":"alertDetailsModal-alertName"},a.createElement(d.A,{flavour:p,icon:"alarm_bell","data-testid":"alertDetailsModal-alertPill"},p)),g?v?a.createElement(C.A,{flavour:"alert"}):a.createElement(a.Fragment,null,a.createElement(i.Yv,{overflow:{vertical:"auto"},hasModalTitle:!1,gap:2,hasFooter:!0},a.createElement(I.A,{iconName:"monitoring",iconSize:"20px"},"Time Values"),a.createElement(E.A,{alertId:t}),a.createElement(I.A,{iconName:"documentation"},"Alert Description"),a.createElement(l.Text,{"data-testid":"alertDetailsModal-info"},y),a.createElement(A.A,{alertId:t}),a.createElement(h,{id:t}),a.createElement(u.A,{id:t})),a.createElement(i.CG,null,a.createElement(b,{alertId:t,testid:"alertDetailsModal"}))):a.createElement(m.A,{title:"Loading alert..."})))},P=()=>{const[e,,t,n,l]=(0,o.A)("alertDetailsModal"),s=(0,a.useCallback)((e=>{let{alertId:n}=e;t("",{alertId:n})}),[]),i=(0,a.useMemo)((()=>a.createElement(S,(0,r.A)({onClose:n},l))),[l]);return[e,s,n,i]}},23452:(e,t,n)=>{n.d(t,{JO:()=>E,PP:()=>I,QD:()=>b,hv:()=>f,qr:()=>x});n(17333),n(41393),n(8159),n(98992),n(54520),n(81454),n(37550);var r=n(47444),a=n(27467),o=n(3914),l=n(69765),s=n(11128),i=n(96935),c=n(64118);const d=e=>(t,n)=>!Array.isArray(n)||!n.length||((e,t)=>{if(!e||!t)return!1;t=Array.isArray(t)?t:[t];for(let n=0;n<=t.length;n++){if(e.includes(t[n]))return!0;break}return!1})(n,t[e]),u={alertStatuses:d("status"),alertNames:d("name"),alertContexts:d("context"),alertClasses:d("class"),alertComponents:d("component"),alertTypes:d("type"),alertRoles:d("recipient"),alertTypeComponents:(e,t)=>!Array.isArray(t)||!t.length||t.includes(`${e.type}|${e.component}`),nodeIds:d("nodeId")},m=e=>t=>!e.some((e=>{let[n,r]=e;return!!u[n]&&!u[n](t,r)})),p={alertNames:d("name"),alertContexts:d("contexts"),alertClasses:d("classes"),alertComponents:d("components"),alertTypes:d("types"),alertRoles:d("recipients"),alertTypeComponents:(e,t)=>!Array.isArray(t)||!t.length||t.includes(`${e.type}|${e.component}`),nodeIds:d("nodeIds")},g=(0,r.K0)({key:"alertsFiltered",get:e=>{let{extraKey:t,roomId:n,omit:r,keepAll:o}=e;return e=>{let{get:l}=e;const i=l((0,a.GA)({key:n,extraKey:t,flavour:"arr"})),d=Object.keys(i).map((e=>[e,r&&r.split(":::").includes(e)?l((0,a.GA)({key:n,flavour:"arr",param:e})):i[e]]));if(!r||!r.includes("selectedNodeIds")){const e=l((0,s.QY)({key:n,extraKey:t,omit:r,keepAll:!1,merge:!1,scoped:!0}));e?.length&&d.push(["nodeIds",e])}const u=l((0,c.Yo)(n)),p=m(d);return o?u.map((e=>p(e)?e:{...e,hidden:!0})):u.filter(p)}}}),h=(0,r.K0)({key:"runningAlertsFiltered",get:e=>{let{extraKey:t,spaceId:n,roomId:r,omit:o,keepAll:l}=e;return e=>{let{get:c}=e;const d=c((0,a.GA)({key:r,extraKey:t,flavour:"arr"})),u=Object.keys(d).map((e=>[e,o&&o.split(":::").includes(e)?c((0,a.GA)({key:r,flavour:"arr",param:e})):d[e]]));if(!o||!o.includes("selectedNodeIds")){const e=c((0,s.QY)({key:r,extraKey:t,omit:o,keepAll:!1,merge:!1,scoped:!0}));e?.length&&u.push(["nodeIds",e])}const m=c((0,i.xz)({spaceId:n,roomId:r}));if(!m)return[];const g=(e=>t=>!e.some((e=>{let[n,r]=e;return!!p[n]&&!p[n](t,r)})))(u);return l?m.map((e=>g(e)?e:{...e,hidden:!0})):m.filter(g)}}}),y=(0,r.K0)({key:"alertInstancesFiltered",get:e=>{let{extraKey:t,alertName:n,nodeId:r,spaceId:o,roomId:l,omit:c,keepAll:d}=e;return e=>{let{get:u}=e;const p=u((0,a.GA)({key:l,extraKey:t,flavour:"arr"})),g=Object.keys(p).map((e=>[e,c&&c.split(":::").includes(e)?u((0,a.GA)({key:l,flavour:"arr",param:e})):p[e]]));if(!c||!c.includes("selectedNodeIds")){const e=u((0,s.QY)({key:l,extraKey:t,omit:c,keepAll:!1,merge:!1,scoped:!0}));e?.length&&g.push(["nodeIds",e])}const h=u((0,i._v)({spaceId:o,roomId:l,name:n})),y=r?h.filter((e=>e.nodeId===r)):h,f=m(g);return d?y.map((e=>f(e)?e:{...e,hidden:!0})):y.filter(f)}}}),f={alertStatuses:{critical:0,warning:0},alertClasses:{Errors:0,Latency:0,Utilization:0,Workload:0}},v={critical:0,warning:1},x={alertStatuses:(e,t)=>v[e.id]-v[t.id],default:(e,t)=>e.id.localeCompare(t.id,void 0,{sensitivity:"accent",ignorePunctuation:!0})},b=function(){let{extraKey:e,omit:t,keepAll:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=(0,l.ID)();return(0,r.vc)(g({extraKey:e,roomId:a,omit:t,keepAll:n}))},I=function(){let{extraKey:e,omit:t,keepAll:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=(0,o.vt)(),s=(0,l.ID)();return(0,r.vc)(h({extraKey:e,spaceId:a,roomId:s,omit:t,keepAll:n}))},E=e=>{let{extraKey:t,alertName:n,nodeId:a,omit:s,keepAll:i=!1}=e;const c=(0,o.vt)(),d=(0,l.ID)();return(0,r.vc)(y({extraKey:t,alertName:n,nodeId:a,spaceId:c,roomId:d,omit:s,keepAll:i}))}},81416:(e,t,n)=>{n.d(t,{Ay:()=>p,yD:()=>u,f_:()=>m});n(17333),n(41393),n(98992),n(54520),n(81454);var r=n(96540),a=n(27467),o=n(61427);const l=function(e){let{after:t,before:n}=e,{offset:r,limit:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{offset:6e4,limit:Date.now()};const o=((e,t)=>{let{offset:n,limit:r}=t;const a=n/2;return e+a<=r?a:r<e?0:r-e})(n,{offset:r,limit:a});return[t-(r-o),n+o]};var s=n(50876),i=n(67276);const c=(e,t)=>e||t?l({after:parseInt(e),before:parseInt(t)},(e=>{const t=Date.now();return{limit:t,offset:t-e<6e4?3e4:15e3}})(t)):d,d=[null,null],u=()=>{const{after:e,before:t,highlight:n}=(0,a.rW)();if(!n.after||!n.before)return d;if(e<0){const t=Date.now();if(n.before<t+e)return d;if(n.after>t)return d}else{if(n.before<e)return d;if(n.after>t)return d}return[n.after,n.before]},m=(e,t,n)=>{const[l,d]=(0,r.useState)(),[m,p]=(0,r.useState)(!1),{sendLog:g}=(0,s.A)();let[h,y]=(()=>{const e=u();return(0,r.useMemo)((()=>c(...e)),[...e])})();const{after:f,before:v}=(0,a.rW)(),[x]=(0,o.er)({nodeIds:n,flavour:"rhs"},e,t);return[async()=>{const e=((e,t)=>{if(e<0){const n=Date.now();e=1e3*Math.floor(n/1e3+e),t=1e3*Math.floor(n/1e3)}return{after:e,before:t}})(f,v);p(!0);try{await x({flavour:"rhs",highlightAfter:h||e.after,highlightBefore:y||e.before,baselineAfter:h?e.after:null,baselineBefore:y?e.before:null,method:"anomaly-rate",aggregation:"avg",group:"average",nodeIds:n,options:["raw","null2zero"],groupBy:["context"]}),p(!1),g({action:i.o1.elementViewed,feature:"AnomalyRates-TOC",isSuccess:!0},!0)}catch(t){if(t.isCancel)return;d(t),p(!1),g({action:i.o1.elementViewed,feature:"AnomalyRates-TOC",isFailure:!0},!0)}},m,l]},p=(e,t,n)=>{const[l,i]=(()=>{const[e,t]=(0,r.useState)(0);return[e,(0,r.useCallback)((()=>t((e=>e+1))),[])]})(),[c,d]=(0,r.useState)(),[m,p]=u(),{after:g,before:h}=(0,a.rW)(),{contexts:y,metadata:f,getWeights:v,loading:x}=(0,o.Yy)({nodeIds:n,flavour:"anomaly"},e,t),{sendLog:b,isReady:I}=(0,s.A)();(0,r.useEffect)((()=>{if(m&&p&&p&&m)try{b({feature:"AnomalyAdvisor",isStart:!0}),v({highlightAfter:m,highlightBefore:p,baselineAfter:g,baselineBefore:h,method:"anomaly-rate",aggregation:"avg",group:"average",nodeIds:n,options:["null2zero","raw"],groupBy:["dimension","instance","context"]})}catch(e){if(b({feature:"AnomalyAdvisor",isFailure:!0}),e.isCancel)return;d(e)}}),[n.length,p,m,l,I]);return[(0,r.useMemo)((()=>y.filter((e=>(f[e]?.weight||0)>0)).sort(((e,t)=>{const n=f[e].weight||0,r=f[t].weight||0;return n!=r?n>r?-1:1:0})).map((e=>{const t=e.split(",");return t.length>1?`${t[2]}::${t[1]}::${t[0]}`:e}))),[y,f]),y,f,x,c,i]}},55579:(e,t,n)=>{n.d(t,{sK:()=>v,Um:()=>f,Ad:()=>h,rq:()=>x});n(14905),n(98992),n(8872);var r=n(96540),a=n(47444),o=n(47767),l=n(23931),s=n(47762),i=n(69765),c=n(27467),d=(n(17333),n(41393),n(8159),n(54520),n(81454),n(37550),n(83488),n(17271)),u=n.n(d);const m=function(e,t){let{scoreFactor:n=.3,fuzzyFactor:r=.3}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u()(e,t,n)>r},p=(0,a.Iz)({key:"chartsFilterValue",default:{filteredChartsIds:[],filteredChartsCount:0,chartsCount:0}}),g=()=>{const e=(0,i.ID)(),t=(0,s.nl)();return(0,r.useMemo)((()=>({roomId:e,nodeId:t})),[t,e])},h=()=>{const e=g();return(0,a.vc)(p(e))},y=()=>{const e=(0,i.ID)(),{nodeID:t}=(0,o.g)();return[e,t||"overview"]},f=()=>{const[e,t]=y();return(0,c.rW)("tocSearch",{key:e,extraKey:t,defaultValue:"",flavour:"val"})},v=()=>{const[e,t]=y();return(0,c.N9)("tocSearch",{key:e,extraKey:t,defaultValue:"",flavour:"val"})},x=function(e,t,n){let{shouldHide:o=(()=>!1),force:s=!1,cacheKey:i}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const d=(0,c.rW)("after"),u=(0,c.rW)("before"),h=(()=>{const e=f();return"string"!==typeof e?"":e.trim().toLowerCase()})(),y=(0,l.w1)(n),[v,x,b]=(0,r.useMemo)((()=>{let n=0,r=0;const a=Date.now()/1e3;return[e.reduce(((e,t)=>{if(!e[t])return e;const{firstEntry:l,lastEntry:i,live:c}=e[t],p=!s&&e[t].visible||(d<0?c||a+d<i:!(d>1e3*i||u<1e3*l)),g=!p||!e[t]||!!h&&!m(e[t].context,h),y=!p||o(e[t]);return e[t]={...e[t],filteredOut:g,visible:p,hidden:y},g||!p||y||(n+=1),y||(r+=1),e}),{...t}),r,n]}),[h,e,d,u,s,i]),I=(()=>{const e=g();return(0,a.lZ)(p(e))})();return(0,r.useEffect)((()=>{y(v),I({filteredChartsCount:b,chartsCount:x})}),[v,x,b,n]),b}},82543:(e,t,n)=>{n.d(t,{A:()=>g,g:()=>p});var r=n(96540),a=n(65336),o=n(29217),l=n(47762),s=n(11128),i=n(69765),c=n(3914),d=n(81416),u=n(94944),m=n(50876);const p=()=>{const e=(0,l.nl)(),t=(0,s.w7)();return e?[e]:t},g=e=>t=>{const n=(0,c.vt)(),l=(0,i.ID)(),s=p(),{pause:g}=(0,u.A)(),{sendButtonClickedLog:h}=(0,m.A)(),[y,f]=(0,d.f_)(n,l,s);return r.createElement(a.Flex,{alignItems:"center",justifyContent:"between",width:"100%"},r.createElement(o.A,{content:"Overlay the maximum chart anomaly rate on each menu section.",align:"bottom",activateOn:"hover",isBasic:!0},r.createElement(a.Button,{tiny:!0,label:f?null:"Anomaly%",isLoading:f,flavour:"hollow",onClick:()=>{g(),y(),h({feature:"AnomalyRates-TOC",label:"Anomaly%",isStart:!0},!0)},textTransform:"uppercase","data-track":"menu-anomaly-rates::click-ar-button"})),r.createElement(a.Flex,{column:!0},r.createElement(e,t)))}},18713:(e,t,n)=>{n.d(t,{Js:()=>u,Ny:()=>i,Ud:()=>c,W2:()=>d});var r=n(96540),a=n(66814),o=n(55483);const l=(0,a.q6)(""),s=(0,a.q6)(""),i=e=>{let{menuId:t="",children:n}=e;const[a,o]=(0,r.useState)(t);return r.createElement(l.Provider,{value:o},r.createElement(s.Provider,{value:a},n))},c=()=>(0,o.A)(l),d=e=>(0,o.A)(s,e),u=e=>d((t=>e===t))},31438:(e,t,n)=>{n.d(t,{BK:()=>E,NF:()=>v,Tg:()=>b,aA:()=>y,dd:()=>f,i8:()=>u,qR:()=>x,uy:()=>I,vN:()=>g,yO:()=>A});var r=n(58168),a=(n(41393),n(81454),n(96540)),o=n(83488),l=n.n(o),s=n(66814),i=n(55483);const c=a.createContext({}),d=(0,s.q6)({}),u=(0,s.q6)({}),m=(0,s.q6)([]),p=(0,s.q6)({}),g=e=>{let{container:t,menuItemAttributesById:n,getObject:r,allElements:o,stickyIds:l,children:s}=e;return a.createElement(c.Provider,{value:t},a.createElement(d.Provider,{value:(0,a.useCallback)((e=>({...r(e),...n[e]})),[n,r])},a.createElement(u.Provider,{value:n},a.createElement(m.Provider,{value:o},a.createElement(p.Provider,{value:l},s)))))},h={},y=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l();return(0,i.A)(u,(n=>t(n[e]||h)))},f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l();return(0,i.A)(u,(n=>Array.isArray(e)?e.map(((e,r)=>t(n[e]||h,e,r))):[]))},v=()=>a.useContext(c),x=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l();return(0,i.A)(m,e)},b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l();return(0,i.A)(p,e)},I=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:l())(A()(e))},E=e=>(0,a.forwardRef)(((t,n)=>{let{id:o,...l}=t;const s=y(o),{chartId:i,contextScope:c}=s,d=I(i||o||c?.[0]);return a.createElement(e,(0,r.A)({ref:n,id:o,chart:d,menuChartAttributes:s},l))})),A=()=>(0,i.A)(d)},8320:(e,t,n)=>{n.d(t,{Cs:()=>l,Gr:()=>i,UH:()=>s});var r=n(96540);const a=(0,r.createContext)(),o=(0,r.createContext)(),l=e=>{let{children:t}=e;const[n,l]=(0,r.useState)();return r.createElement(a.Provider,{value:n},r.createElement(o.Provider,{value:l},t))},s=()=>(0,r.useContext)(a),i=()=>(0,r.useContext)(o)},17296:(e,t,n)=>{n.d(t,{BV:()=>d,Dv:()=>h,Qb:()=>y,aV:()=>p,b:()=>m,tu:()=>c,yy:()=>u});var r=n(58168),a=n(96540),o=n(83488),l=n.n(o),s=n(66814),i=n(55483);const c=(0,s.q6)({}),d=e=>{let{menuById:t,children:n}=e;return a.createElement(c.Provider,{value:t},n)},u=e=>(0,i.A)(c,e),m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l();return u((n=>t(n?.[e]||{})))},p=(e,t)=>n=>{let{id:o,...l}=n;const s=m(o,t);return a.createElement(e,(0,r.A)({_id:o},s,l))},g=(0,s.q6)([]),h=e=>{let{ids:t,children:n}=e;return a.createElement(g.Provider,{value:t},n)},y=e=>t=>{const n=(0,i.A)(g,o);var o;return a.createElement(e,(0,r.A)({menuIds:n},t))}},54475:(e,t,n)=>{n.d(t,{o:()=>B,A:()=>Z});var r=n(58168),a=(n(41393),n(81454),n(96540)),o=n(8711),l=n(20982),s=n(65336),i=n(18713),c=n(47762),d=n(29217),u=n(17296),m=n(76896);const p=e=>e&&"0"!==e?`${parseFloat(e).toFixed(2)}%`:"-";n(14905),n(98992),n(8872);var g=n(82543),h=n(61427);const y=e=>{let{contexts:t,weightKey:n,flavour:o="rhs",...l}=e;const[i,c,u]=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],{flavour:t,weightKey:n="weight"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=(0,g.g)(),{loaded:o,byContext:l}=(0,h.G9)({nodeIds:r,flavour:t});return(0,a.useMemo)((()=>{if(!o)return[!1,null,null];let t=null;const r=e.reduce(((e,r)=>{let a;if(/::/.test(r)){const e=r.split("::");r=e[0],a=e[1]}const[o,s]=a?((e,t,n,r)=>{let{max:a,maxWeightContext:o,weightKey:l}=r;const s=`${n},${t}`;return e[s]&&(e[s]?.[l]||0)>a?[e[s]?.[l]||0,t]:[a,o]})(l,r,a,{max:e,maxWeightContext:t,weightKey:n}):((e,t,n)=>{let{max:r,maxWeightContext:a,weightKey:o}=n;return e[t]&&(e[t][o]||0)>r?[e[t][o]||0,t]:[r,a]})(l,r,{max:e,maxWeightContext:t,weightKey:n});return t=s,o}),0);return[!0,r,t]}),[e,l])}(t,{flavour:o,weightKey:n});return i?a.createElement(d.A,{content:u,align:"top",enterDelay:200,activateOn:"hover"},a.createElement(s.Pill,(0,r.A)({hollow:!0,flavour:"neutral",tiny:!0,cursor:l.onClick?"pointer":"auto"},l),p(c))):null},f=(0,o.default)(s.IconButton).attrs((e=>({flavour:"borderless",cursor:"pointer",width:"12px",height:"12px",iconColor:"textLite",padding:[0],...e}))).withConfig({displayName:"config__ConfigButton",componentId:"sc-1q0bfbp-0"})([""]),v=(0,o.default)(s.Flex).withConfig({displayName:"menuSettings__SettingsContainer",componentId:"sc-1nq4zzt-0"})(["display:",";"],(e=>e.active&&!e.hasSubmenuActive?"flex":"none")),x=(0,o.css)(["","{display:flex;"," .button-icon__color{fill:"," !important;}}"],v,f,(0,s.getColor)("text")),b=e=>{let{id:t,chartIds:n,contexts:r,arFlavour:o,showAR:l=!0,showConfig:i,weightKey:c,active:d,hasSubmenuActive:u,extraKey:m}=e;return a.createElement(s.Flex,{gap:1,alignItems:"center"},!1,l&&a.createElement(y,{contexts:r,flavour:o,weightKey:c}))};var I=n(18925),E=n(6200);const A=(0,o.keyframes)(["0%{background-position:0% 50%;}100%{background-position:100% 50%;}"]),C=(0,o.css)(["background:linear-gradient( to right,"," 20%,"," 30%,"," 75%,"," 80% );-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;text-fill-color:transparent;background-size:500% auto;animation:",";"],(0,s.getColor)("text"),(0,s.getColor)("anomalyTextFocus"),(0,s.getColor)("accent"),(0,s.getColor)("anomalyTextFocus"),(0,o.css)([""," 6s ease-in-out infinite alternate"],A)),k=e=>{let{active:t,hasSubmenuActive:n}=e;return t||n?"primary":"text"},w=e=>{let{context:t,dimension:n,instance:r=""}=e;const[o,l]=r.split("@"),i=(0,c.xY)(l,"name");return a.createElement(s.Flex,{column:!0,gap:.5},r?a.createElement(a.Fragment,null,a.createElement(s.Text,null,a.createElement(s.Text,{strong:!0},n)," on ",a.createElement(s.Text,{strong:!0},t)),a.createElement(s.Text,null,"instance: ",a.createElement(s.Text,{strong:!0},o)),a.createElement(s.Text,null,"node: ",a.createElement(s.Text,{strong:!0},i))):n?a.createElement(s.Text,null,a.createElement(s.Text,{strong:!0},n)," on ",a.createElement(s.Text,{strong:!0},t)):a.createElement(s.Text,null,t))},S=e=>(0,a.forwardRef)(((t,n)=>{let{tooltip:o,tooltipProps:l,...s}=t;return o||l?a.createElement(d.A,{plain:!0,content:l?a.createElement(w,l):o,tooltipProps:l,isBasic:!0},a.createElement(e,(0,r.A)({},s,{ref:n}))):a.createElement(e,(0,r.A)({},s,{ref:n}))})),P=e=>{let{index:t,context:n,dimension:o,instance:l="",...i}=e;const[d,u]=l.split("@"),m=(0,c.xY)(u,"name");return a.createElement(s.Flex,{column:!0,gap:.5},l?a.createElement(a.Fragment,null,a.createElement(K,i,t?`${t}. `:"",a.createElement(K,(0,r.A)({strong:!0},i),o)," ","on"," ",a.createElement(K,(0,r.A)({strong:!0},i),n)),a.createElement(s.TextMicro,{color:"textLite"},"instance:"," ",a.createElement(s.TextMicro,{color:"textLite",strong:!0},d)),a.createElement(s.TextMicro,{color:"textLite"},"node:"," ",a.createElement(s.TextMicro,{color:"textLite",strong:!0},m))):o?a.createElement(K,i,t?`${t}. `:"",a.createElement(K,(0,r.A)({strong:!0},i),o)," ","on"," ",a.createElement(K,(0,r.A)({strong:!0},i),n)):a.createElement(K,i,t?`${t}. `:"",n))},K=(0,o.default)(s.TextSmall).attrs((e=>{let{active:t,hasSubmenuActive:n,small:r,...a}=e;return{whiteSpace:"normal",color:k({active:t,hasSubmenuActive:n}),wordWrap:"break-word",as:r?s.TextMicro:s.Text,...a}})).withConfig({displayName:"menuItem__StyledText",componentId:"sc-xun4x3-0"})(["&&&{text-decoration:none;}",""],(e=>e.important&&!e.active&&!e.hasSubmenuActive&&C)),N=(0,o.default)(K).attrs((e=>{let{id:t,name:n,shortName:r,children:a,active:o,hasDescendants:l,small:s,level:i,padding:c,...d}=e;return{children:a||r||n||t,truncate:!0,padding:s?[2,0,1]:c,strong:l||o||0==i,...d}})).withConfig({displayName:"menuItem__Label",componentId:"sc-xun4x3-1"})(["&&&{text-decoration:none;}",""],(e=>e.important&&!e.active&&!e.hasSubmenuActive&&C)),F=(0,o.default)(s.Flex).attrs((e=>({flex:!1,color:"text",width:6,alignItems:"center",justifyContent:"center",...e}))).withConfig({displayName:"menuItem__FaIcon",componentId:"sc-xun4x3-2"})([""]),_=(0,o.default)(s.Icon).attrs({name:"chevron_right",size:"small",color:"primary"}).withConfig({displayName:"menuItem__ChevronIcon",componentId:"sc-xun4x3-3"})(["visibility:",";flex:0 0 auto;"],(e=>e.visible?"visible":"hidden")),T=(0,o.css)(["&:hover{border-color:",";","{color:",";text-fill-color:",";-webkit-text-fill-color:",";}","{fill:",";svg,path{fill:",";}}","{fill:",";visibility:visible;}& ~ ","{border-color:",";}","}"],(0,s.getColor)("hoverHighlight"),N,(0,s.getColor)("hoverHighlight"),(0,s.getColor)("hoverHighlight"),(0,s.getColor)("hoverHighlight"),F,(0,s.getColor)("hoverHighlight"),(0,s.getColor)("hoverHighlight"),_,(0,s.getColor)("hoverHighlight"),m.A,(0,s.getColor)("hoverHighlight"),(e=>e.important&&x)),M=(0,o.default)(s.Flex).attrs((e=>{let{active:t,level:n,...r}=e;return{width:"98%",role:"listitem","aria-current":t,active:t,level:n,padding:0==n?[2,2,1,2]:[1,2],...r}})).withConfig({displayName:"menuItem__Container",componentId:"sc-xun4x3-4"})(["&&&{"," text-decoration:none;"," ","}"],(e=>`border-left: 1px solid ${(0,s.getColor)(e.level<2?"transparent":e.active||e.hasSubmenuActive?"primary":"border")(e)};`),(e=>!e.isPlaceholder&&"cursor: pointer;"),(e=>!e.isPlaceholder&&T)),L=(0,u.aV)(S((D=N,(0,a.forwardRef)(((e,t)=>{let{labelProps:n,...o}=e;return n?a.createElement(D,(0,r.A)({},o,{ref:t}),a.createElement(P,(0,r.A)({},n,o))):a.createElement(D,(0,r.A)({},o,{ref:t}))})))),(e=>{let{shortName:t,name:n,_id:r,level:a,tooltip:o,tooltipProps:l,labelProps:s,styleProps:i={}}=e;return{children:t||n||r,tooltip:t?o||n:o,tooltipProps:l,labelProps:s,...i,level:a}}));var D;const B=e=>{let{icon:t,active:n,hasSubmenuActive:o,small:i,containerProps:c}=e;return i||!t?null:a.createElement(F,(0,r.A)({color:k({active:n,hasSubmenuActive:o})},c),s.iconsList[t]?a.createElement(s.Icon,{name:t,size:"small",color:k({active:n,hasSubmenuActive:o})}):a.createElement(l.g,{icon:t}))},$=(0,u.aV)(B,(e=>{let{icon:t,level:n,families:r,styleProps:a={}}=e;return{icon:t,level:n,families:r,...a}})),z=(0,a.forwardRef)(((e,t)=>{let{_id:n,contexts:o,useItemsAreVisible:l,styleProps:s,...i}=e;const c=l(o);return i.forceVisibility||c?a.createElement(M,(0,r.A)({ref:t,as:"a",gap:2,alignItems:"center",justifyContent:"between","data-sidebar-menuid":n},s,i)):null})),O=(0,u.aV)(z,(e=>{let{_id:t,contexts:n,forceVisibility:r,styleProps:a={}}=e;return{_id:t,contexts:n,forceVisibility:r,...a}})),q=e=>{let{id:t,active:n,parentIsActive:o,hasSubmenuActive:l,hasDescendants:i,isPlaceholder:c,...d}=e;return a.createElement(O,(0,r.A)({id:t,active:!c&&n,parentIsActive:o,hasSubmenuActive:l},d),a.createElement(s.Flex,{alignItems:"start",gap:1},d.level<2&&a.createElement(_,{visible:!c&&(n||l)}),a.createElement($,{id:t,active:!c&&n,parentIsActive:o,hasSubmenuActive:!c&&l}),a.createElement(L,{id:t,active:!c&&n,parentIsActive:o,hasSubmenuActive:!c&&l,hasDescendants:i})),!c&&a.createElement(b,(0,r.A)({},d,{id:t})))},R=S(s.Icon),V=S(s.Text),j=(0,o.default)(s.Flex).attrs((e=>({alignItems:"center",justifyContent:"between",padding:[1,2,1,0],...e}))).withConfig({displayName:"menuItem__StyledFavItemContainer",componentId:"sc-xun4x3-5"})([".visible-on-hover{opacity:0;pointer-events:none;}&:hover{background:",";.visible-on-hover{opacity:1;pointer-events:inherit;}","{color:",";text-fill-color:",";-webkit-text-fill-color:",";}}"],(0,s.getColor)("panelBg"),s.Text,(0,s.getColor)("hoverHighlight"),(0,s.getColor)("hoverHighlight"),(0,s.getColor)("hoverHighlight")),H=e=>{let{id:t,settingsIdsByMenuId:n,shortName:r,name:o,parentMenus:l,onClick:i}=e;const c=(0,a.useMemo)((()=>(l||[]).map((e=>{let{name:t}=e;return t}))),[l]),d=(0,a.useMemo)((()=>[...c,r||o]),[c,r,o]),{name:u,tooltip:m}=(0,a.useMemo)((()=>(e=>{if(1===e.length)return{name:e[0]};const t=" > ";let n=0;const r=[],a=[...e].reverse();for(let l in a){const e=a[l];if(n+=e.length+3,l>0&&n>34)break;r.push(e)}const o=r.length<e.length;return{name:[...o?["..."]:[],...r.reverse()].join(t),tooltip:o?e.join(t):null}})(d)),[d]),p=(0,I.z2)(n[t]),{isDemo:g}=(0,E.A)();return a.createElement(j,{id:t},a.createElement(s.Flex,{gap:1,alignItems:"center"},a.createElement(s.Icon,{className:"visible-on-hover",name:"chevron_right",size:"small",color:"text"}),a.createElement(s.Flex,{width:"220px"},a.createElement(V,{onClick:i,cursor:"pointer",tooltip:m,truncate:!0},u))),g?null:a.createElement(R,{className:"visible-on-hover",name:"heart_broken",role:"button",color:"text",cursor:"pointer",onClick:p,tooltip:"Remove from your favourites"}))},W=e=>{let{ids:t,onMenuClick:n,useItemsAreVisible:o,parentGrouping:l,parentIsActive:s,hasBorder:i,...c}=e;return t.length?a.createElement(m.A,(0,r.A)({},c,i&&{border:{side:"left",color:s?"primary":"border",size:"1px"}}),t.map((e=>a.createElement(G,{key:e,id:e,onMenuClick:n,useItemsAreVisible:o,parentGrouping:l,parentIsActive:s})))):null},U=(0,o.default)(s.Flex).attrs((e=>({as:"li",column:!0,padding:"favourites"==e.flavour?[0]:[0,0,0,e.level*(e.level<=2?4.5:1.5)],...e}))).withConfig({displayName:"menuItem__MenuItemContainer",componentId:"sc-xun4x3-6"})(["&:empty{border:0;}"]),G=e=>{let{id:t,onMenuClick:n,showChildren:o=!0,useItemsAreVisible:l,parentGrouping:s=!1,parentIsActive:c,flavour:d,settingsIdsByMenuId:m,...p}=e;const g=(0,i.Js)(t),h=(0,u.b)(t),y=Array.isArray(h.descendantIds)&&!!h.descendantIds.length,f=(0,i.W2)((e=>y&&h.descendantIds.includes(e))),v=(0,a.useMemo)((()=>n&&(e=>n({id:t,event:e,flavour:d}))),[n,t,d]);if(!h)return null;const{grouping:x,isPlaceholder:b}=h.styleProps||{},I="favourites"==d,E=I?H:q;return a.createElement(U,(0,r.A)({},p,{flavour:d,level:h.level,"data-menuid":t,background:!I&&(g||f&&!c)&&y&&"panelBg",border:!I&&0===h.level&&y?{side:"top",color:"border",size:"1px"}:void 0}),a.createElement(E,(0,r.A)({},h,{id:t,flavour:d,settingsIdsByMenuId:m,onClick:v,active:g,hasSubmenuActive:f,useItemsAreVisible:l,parentGrouping:s,parentIsActive:c,hasDescendants:y,isPlaceholder:b})),o&&(g||f||x)?a.createElement(W,{id:t,onMenuClick:n,useItemsAreVisible:l,ids:h.childrenIds,level:h.level,parentGrouping:h.styleProps?.grouping,parentIsActive:g||f,hasBorder:h.level>=2}):null)},Z=G},76896:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(8711),a=n(65336);const o=(0,r.default)(a.Flex).attrs((e=>({as:"ul",width:"100%",role:"complementary",column:!0,overflow:{vertical:"auto"},"data-sidebar":"true",...e}))).withConfig({displayName:"wrapper__MenuWrapper",componentId:"sc-14s4jb2-0"})([""])},79566:(e,t,n)=>{n.d(t,{A:()=>f});var r=n(96540),a=n(63950),o=n.n(a),l=n(31438),s=n(8320),i=n(17296),c=n(18713),d=n(47444),u=n(47762),m=n(69765);const p=(0,d.Iz)({key:"activeMenuIdValue",default:""}),g=()=>{const e=(()=>{const e=(0,m.ID)(),t=(0,u.nl)();return(0,r.useMemo)((()=>({roomId:e,nodeId:t})),[t,e])})();return(0,d.lZ)(p(e))},h=e=>(t,n)=>{const r=t.querySelector(n);r&&e(r)},y="scrollIntoViewIfNeeded"in document.body?h((e=>e.scrollIntoViewIfNeeded())):h((e=>e.scrollIntoView())),f=function(){let{onMenuClick:e=o(),onChartNameChange:t,initialChartName:n,linkToGo:a,contextToGo:d,loaded:u=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const m=(0,l.NF)(),p=(0,s.UH)(),h=(0,i.yy)(),f=(0,c.Ud)(),v=g(),x=(0,r.useRef)(n);(0,r.useLayoutEffect)((()=>{u&&p&&a&&!x.current&&p.goToLink(a)}),[p,a]),(0,r.useLayoutEffect)((()=>{u&&p&&d&&!x.current&&p.goToElement(d)}),[p,d]);const b=(0,r.useCallback)((e=>{f(e),v(e),y(m,`[data-sidebar="true"] [data-sidebar-menuid="${e}"]`),e&&h[e]&&t(h[e].link)}),[h]);(0,r.useLayoutEffect)((()=>{u&&x.current&&p&&p.goToLink(n)&&(x.current=null)}),[p]);const I=(0,r.useCallback)((function(){let{id:t,event:n,...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n&&n.preventDefault(),p&&(p.goToElement(t),e({id:t,...r}))}),[p]);return{setActiveMenuId:b,onMenuClick:I}}},11988:(e,t,n)=>{n.d(t,{l3:()=>l,Xt:()=>c,YS:()=>d});n(14905),n(98992),n(8872);var r=n(47444);const a=(0,r.eU)({key:"alertIdsByNodeId",default:{}}),o=[],l=(0,r.gD)({key:"nodesAlertIdsState",get:e=>{let{get:t}=e;return t(a)},set:(e,t)=>{let{set:n}=e;return n(a,t)}}),s=(0,r.K0)({key:"nodeAlertIdsState",get:e=>t=>{let{get:n}=t;return n(a)[e]||o},set:e=>(t,n)=>{let{set:r}=t;r(a,(t=>({...t,[e]:[...n].sort(((e,t)=>e.id-t.id))})))}}),i=(0,r.K0)({key:"nodesAlertIdsState",get:e=>t=>{let{get:n}=t;const r=n(a);return(e=e.length?e:Object.keys(r)).reduce(((e,t)=>[...e,...r[t]||[]]),[])},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),c=e=>(0,r.vc)(s(e)),d=e=>(0,r.vc)(i(e))},28146:(e,t,n)=>{n.d(t,{A:()=>u});var r=n(58168),a=n(96540),o=n(29217),l=n(8711),s=n(65336);const i=(0,l.default)(s.Flex).attrs((()=>({width:{max:"315px"},overflow:"hidden"}))).withConfig({displayName:"styled__Container",componentId:"sc-t6teia-0"})([""]),c=e=>{let{children:t,...n}=e;return a.createElement(i,(0,r.A)({"data-testid":"nodeInfoContent"},n),t)};var d=n(82432);const u=e=>{let{align:t="bottom",badge:n,children:l,connectivityState:s,content:i,isBasic:u=!0,status:m,nodeName:p,nodeType:g,...h}=e;return a.createElement(o.A,(0,r.A)({align:t,content:()=>a.createElement(c,{"data-testid":"nodeInfoTooltip-tooltipContent"},i||(0,d.Bb)(n,s,m,p,g)),"data-testid":"nodeInfoTooltip",isBasic:u},h),l)}},60072:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(96540),a=n(12352),o=n(50065),l=n(82432);const s=e=>{let{node:t}=e;const{_cloud_instance_region:n,_cloud_instance_type:s,_cloud_provider_type:i}=t.labels||{};return(0,l.Po)(n)&&(0,l.Po)(s)&&(0,l.Po)(i)?null:r.createElement(o.A,{name:"Cloud Instance Info"},r.createElement(a.A,{iconName:"ipNetworking",name:"Cloud provider",size:"small",testId:"sidebar-nodeInfoContent-cloudProvider"},(0,l.ws)(i)),r.createElement(a.A,{iconName:"universe",name:"Cloud region",size:"small",testId:"sidebar-nodeInfoContent-cloudRegion"},(0,l.ws)(n)),r.createElement(a.A,{iconName:"disk",name:"Instance type",size:"small",testId:"sidebar-nodeInfoContent-instanceType"},(0,l.ws)(s)))}},25825:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(96540),a=n(50065),o=n(12352),l=n(82432),s=n(55905),i=n(33931);const c=e=>{let{node:t}=e;const n=(0,l.GM)(t.state);return r.createElement(a.A,{link:"https://learn.netdata.cloud/docs/agent/aclk",name:"Connection"},r.createElement(o.A,{size:"small",name:"Status",iconName:"integrations",testId:"sidebar-connectionGroup-connectionStatus"},r.createElement(i.A,{rawState:n})),r.createElement(o.A,{size:"small",name:"Netdata Agent",iconName:"netdata",testId:"sidebar-connectionGroup-agentVersion"},t.version),t.updateSeverity&&r.createElement(o.A,{size:"small",name:"Update Status",iconName:"update",testId:"sidebar-connectionGroup-agentVersion"},r.createElement(s.A,{name:t.name,os:t.os.id,container:t.hw.container,warningLevel:t.updateSeverity,labels:t.labels||{},version:t.version,text:t.updateSeverity})))}},17240:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(96540),a=n(50065),o=n(65336),l=n(18682);const s=e=>{let{node:t}=e;return r.createElement(a.A,{name:"Files"},r.createElement(o.Flex,{gap:1,padding:[0,1],alignItems:"center"},r.createElement(o.Box,{sx:{fontWeight:"500",letterSpacing:"1px"},as:o.Text,color:"textLite"},"{;}"),r.createElement(o.TextSmall,null,"View node info in"),r.createElement(o.Flex,{cursor:"pointer",gap:1,onClick:(0,l.C)(JSON.stringify(t),{text:"JSON copied to clipboard"})},r.createElement(o.TextSmall,{color:"primary"},"json"),r.createElement(o.Icon,{color:"primary",size:"small",name:"copy"}))))},i=(0,r.memo)(s)},58010:(e,t,n)=>{n.d(t,{A:()=>l});n(17333),n(41393),n(98992),n(54520),n(81454);var r=n(96540),a=n(50065),o=n(12352);const l=e=>{let{node:{labels:t={}}={}}=e;const n=Object.keys(t).filter((e=>!e.startsWith("_")));return r.createElement(a.A,{link:"https://learn.netdata.cloud/guides/using-host-labels",name:"Host labels",isEnabled:n.length>0,noDataLabel:"No Data"},n.length>0&&n.map((e=>r.createElement(o.A,{size:"small",key:e,name:e,testId:"sidebar-hostLabelsGroup-label"},t[e]))))}},75533:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(96540),a=n(50065),o=n(65336),l=n(18682);const s=e=>{let{node:t}=e;return r.createElement(a.A,{name:"Node ID"},r.createElement(o.Flex,{gap:1,padding:[0,1],alignItems:"center"},r.createElement(o.Flex,{cursor:"pointer",gap:1,onClick:(0,l.C)(t.id,{text:"Node ID copied to clipboard"})},r.createElement(o.TextSmall,{color:"primary"},t.id),r.createElement(o.Icon,{color:"primary",size:"small",name:"copy"}))))},i=(0,r.memo)(s)},80618:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(96540),a=n(65336),o=n(50065),l=n(12352),s=n(82432);const i={},c=e=>{let{node:t}=e;const n=t.hw||i,c=t.os||i,d=(0,s.Pg)(n.container,n.virtualization);return r.createElement(o.A,{name:"System info"},r.createElement(l.A,{size:"small",name:"Type",iconName:"virtualization",testId:"sidebar-nodeInfoContent-type"},r.createElement(a.Pill,{hollow:!0,icon:d.icon,flavour:"neutral"},d.label)),r.createElement(l.A,{size:"small",name:"O/S version",iconName:"database",testId:"sidebar-nodeInfoContent-osVersions"},(0,s.Ud)(c.nm,c.v,", ")),r.createElement(l.A,{iconName:"viewSingleNode",name:"Architecture",size:"small",testId:"sidebar-nodeInfoContent-architecture"},(0,s.ws)(n.architecture)),!!c.kernel&&r.createElement(l.A,{size:"small",name:"Kernel",iconName:"metrics_explorer",testId:"sidebar-nodeInfoContent-kernel"},(0,s.Ud)(c.kernel.nm,c.kernel.v,", ")),r.createElement(l.A,{size:"small",name:"CPU",iconName:"cpu",testId:"sidebar-nodeInfoContent-cpu"},(0,s.O)(n.cpuFrequency)," (",(0,s.ws)(n.cpus,1===n.cpus?"Core":"Cores"),")"),r.createElement(l.A,{size:"small",name:"Memory",iconName:"ram",testId:"sidebar-nodeInfoContent-ram"},(0,s.ws)((0,s.RI)(n.memory),"RAM")),r.createElement(l.A,{size:"small",name:"Hard disk size",iconName:"disk",testId:"sidebar-nodeInfoContent-disk"},(0,s.RI)(n.diskSpace)))}},37019:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(58168),a=n(96540),o=n(65336),l=n(64118),s=n(11988),i=n(82432),c=n(28146);const d=e=>{let{id:t,isLive:n,name:d,onClick:u,...m}=e;const p=(0,s.Xt)(t),{critical:g,warning:h}=(0,l.AO)(p),y={...m?.["data-testid"]&&{dataTestId:m?.["data-testid"]},isLive:n},f=(0,i.t3)({count:g,type:"critical",...y}),v=(0,i.t3)({count:h,type:"warning",...y});return a.createElement(c.A,(0,r.A)({badge:"alerts","data-testid":"node-alerts",nodeName:d},m),a.createElement(o.AlertMasterCard,{onClick:f.text||v.text?u:null,pillLeft:f,pillRight:v,size:"small"}))}},88494:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(58168),a=n(96540),o=n(65336),l=n(82432),s=n(28146);const i=e=>{let{children:t,badge:n,enabled:i,name:c,onClick:d,...u}=e;const m=(0,l.lw)(i);return a.createElement(s.A,(0,r.A)({badge:n,"data-testid":`node-${n}-status`,status:m.status,nodeName:c},u),a.createElement(o.Flex,{alignItems:"center",gap:1,onClick:i?d:void 0,cursor:i&&d?"pointer":"default","data-ga":`nodes-list::click-capability::${m.label}`},t,a.createElement(o.Pill,{flavour:m.flavour,size:"small"},m.label)))}},61427:(e,t,n)=>{n.d(t,{UG:()=>I,Ip:()=>b,er:()=>v,Yy:()=>E,G9:()=>x});n(9920),n(14905),n(98992),n(3949),n(8872);var r=n(96540),a=n(47444),o=n(27467),l=n(9224);const s={byContext:{},loaded:!1,loading:!1,method:null,options:null,group:"average",totalDimensionsCount:0},i=(0,a.Iz)({key:"weights",default:s}),c=(0,a.K0)({key:"weightsState",get:e=>t=>{let{get:n}=t;return n(i(e))},set:e=>(t,n)=>{let{set:r}=t;return r(i(e),n)},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),d={ci:"context",ni:"node",ii:"instance",di:"dimension"},u=(e,t)=>n=>({[d[e.name]]:t[e.dictionary][n]}),m={ni:u,ii:(e,t)=>(n,r,a)=>({[d[e.name]]:t[e.dictionary][n]?`${t[e.dictionary][n]}@${t.nodes[r[a.ni]]}`:null}),ci:u,di:u,row_type:e=>t=>({type:e.value[t]}),weight:()=>e=>({weight:e}),timeframe:e=>t=>({highlight:e.labels.reduce(((e,n,r)=>({...e,[n]:t[r]})),{})}),"baseline timeframe":e=>t=>({baseline:e.labels.reduce(((e,n,r)=>({...e,[n]:t[r]})),{})})},p={contexts:"ci",nodes:"ni",instances:"ii",dimensions:"di"},g={contexts:"id",nodes:"nodeId",instances:"id",dimensions:"id"},h=(e,t)=>null===e||e>t?t:e,y=(e,t)=>null===e||e<t?t:e,f=e=>{let{flavour:t,data:n,aggregation:r,options:a}=e,o={},l=0;if(n.v_schema){const e=n.v_schema?.items||[];o=n.result.reduce(((t,n)=>{let{id:a,v:o}=n;return t[a]=e.reduce(((e,t,n)=>{let{name:a,labels:l}=t;const s=l.indexOf(r);return e[a]=o[n][s],e}),{}),t}),{})}else{const e=(e=>{const t=Object.keys(e.dictionaries).reduce(((t,n)=>{t[n]||(t[n]={});const r=g[n];return e.dictionaries[n].forEach((e=>t[n][e[p[n]]]="nodeId"===r?e.nd||e.mg:e[r])),t}),{}),n={},r=e.schema.items.reduce(((e,r,a)=>{const o=(m[r.name]||m.default)(r,t);return e.push(o),n[r.name]=a,e}),[]);return e=>e.reduce(((t,a,o)=>({...t,...r[o](a,e,n)})),{})})(n);o=n.result.reduce(((t,n)=>{const{dimension:r,node:o,context:s,instance:i,type:c,weight:d,highlight:u,baseline:m}=e(n);if("node"===c)return t;const p=(g=t,f=s,function(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:h;n&&(n&&"undefined"===typeof g[f][t][n]&&(g[f][t][n]={}),"undefined"===typeof g[f][t][n][e]&&(g[f][t][n][e]=null),r&&(g[f][t][n][e]=o(g[f][t][n][e],a)))});var g,f;t[s]||(t[s]={dimensions:{},instances:{},nodes:{},weight:null});const v=!!a&&a.includes("anomaly-bit");p("weight","dimensions",r,"dimension"===c,d,v?y:h),p("weight","instances",i,"instance"===c,d,v?y:h),p("weight","nodes",o,"node"===c,d,v?y:h);const x=u?100*u.anomaly_count/u.count:0;p("arHighlight","dimensions",r,"dimension"===c,x,y),p("arHighlight","instances",i,"instance"===c,x,y),p("arHighlight","nodes",o,"node"===c,x,y);const b=m?100*(m.anomaly_count-u.anomaly_count)/(m.count-u.count)===0?1:m.count-u.count:0;p("arBaseline","dimensions",r,"dimension"===c,b,y),p("arBaseline","instances",i,"instance"===c,b,y),p("arBaseline","nodes",o,"node"===c,b,y);const I=b?x/b:0;return p("score","dimensions",r,"dimension"===c,I,y),p("score","instances",i,"instance"===c,I,y),p("score","nodes",o,"node"===c,I,y),"context"===c?t[s].weight=null===t[s].weight||t[s].weight>d?d:t[s].weight:"dimension"===c&&(l+=1),t}),{})}return{byContext:o,totalDimensionsCount:l}},v=(e,t,n)=>{const o=(0,r.useRef)();return[(0,a.Zs)((r=>{let{set:a}=r;return r=>{let{flavour:i,highlightAfter:d,highlightBefore:u,baselineAfter:m,baselineBefore:p,method:g,options:h,group:y,context:v,nodeIds:x,aggregation:b,groupBy:I}=r;return a(c(e),{...s,loading:!0}),o.current&&o.current.cancel(),o.current=(0,l.e0)(t,n,{highlightAfter:d,highlightBefore:u,baselineAfter:m,baselineBefore:p,method:g,options:h,group:y,context:v,nodeIds:x,aggregation:b,groupBy:I}),o.current.then((t=>{let{data:n}=t;const{byContext:r,totalDimensionsCount:o}=f({flavour:i,data:n,aggregation:b,options:h});a(c(e),{loading:!1,loaded:!0,byContext:r,options:h,totalDimensionsCount:o,method:g,group:y,groupBy:I,error:null})})).catch((t=>{if(!t.isCancel)throw a(c(e),{...s,error:t?.response?.data||t}),t}))}}),[e]),(0,a.Zs)((t=>{let{reset:n}=t;return()=>{o.current&&o.current.cancel(),n(c(e))}}),[e])]},x=e=>(0,a.vc)(c(e)),b=e=>(0,a.E0)(c(e)),I=.01,E=(e,t,n)=>{const[a,l]=v(e,t,n),{loaded:s,loading:i,byContext:c,totalDimensionsCount:d,options:u,groupBy:m}=x(e),p=(()=>{const e=(0,o.rW)("threshold");return e?Number.parseFloat(e):I})(),[g,h,y]=(0,r.useMemo)((()=>{let e=0;const t=u?.includes("raw"),n=(m||[]).length?c:Object.keys(c).reduce(((n,r)=>{const a=Object.keys(c[r].dimensions).reduce(((e,n)=>(!t&&c[r].dimensions[n].weight>p||(e[n]=c[r].dimensions[n]),e)),{}),o=Object.keys(a).length;return e+=o,o?(n[r]={...c[r],dimensions:a},n):n}),{});return[n,Object.keys(n),e]}),[s,p]);return{threshold:p,metadata:g,contexts:h,dimensionsCount:y,totalDimensionsCount:d,loaded:s,loading:i,getWeights:a,resetWeights:l}}},23931:(e,t,n)=>{n.d(t,{Zr:()=>c,b0:()=>b,YP:()=>x,Uo:()=>f,GR:()=>C,Bu:()=>k,yO:()=>A,bD:()=>w,OL:()=>h,aZ:()=>y,rx:()=>m,bo:()=>u,_0:()=>d,R7:()=>I,jI:()=>p,w1:()=>E,DQ:()=>g});n(14905),n(8159),n(98992),n(8872),n(37550),n(25509),n(65223),n(60321),n(41927),n(11632),n(64377),n(66771),n(12516),n(68931),n(52514),n(35694),n(52774),n(49536),n(21926),n(94483),n(16215);var r=n(96540),a=n(47444);const o={loaded:!1,fullyLoaded:!1,loading:!1,id:"",name:"",chartType:"",context:"",family:"",firstEntry:0,lastEntry:0,module:"",plugin:"",priority:0,updateEvery:0,visible:!1,filteredOut:!1,hidden:!1,domain:"room"};var l=n(69765),s=n(65570);const i={ids:(0,a.Iz)({key:"roomChartIds",default:[]}),updatedAt:(0,a.Iz)({key:"roomChartsUpdatedAt",default:""}),loaded:(0,a.Iz)({key:"roomChartsLoaded",default:!1}),error:(0,a.Iz)({key:"roomChartsError",default:null}),versions:(0,a.Iz)({key:"versions",default:{}}),fetchedFor:(0,a.Iz)({key:"fetchedFor",default:[]})},c=(0,a.K0)({key:"roomChartState",get:e=>{let{id:t,key:n}=e;return e=>{let{get:r}=e;return r(i[n](t))}},set:e=>{let{id:t,key:n}=e;return(e,r)=>{let{set:a}=e;a(i[n](t),r)}}}),d=e=>!!(0,a.vc)(c({id:e,key:"loaded"})),u=e=>(0,a.vc)(c({id:e,key:"fetchedFor"})),m=e=>(0,a.vc)(c({id:e,key:"error"})),p=e=>(0,a.vc)(c({id:e,key:"versions"})),g=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,a.lZ)(c({id:e,key:"versions"}));return(0,r.useCallback)((e=>n((n=>(e="function"===typeof e?e(n):e,t?e:(0,s.Ay)(n,e,{omit:["contextsSoftHash"]})?n:n.contextsHardHash&&"invalidating"!==n.contextsHardHash?e:n)))),[])},h=e=>(0,a.vc)(c({id:e,key:"ids"})),y=(e,t)=>(0,a.vc)(c({id:e,key:t})),f=(0,a.K0)({key:"roomChartsState/ids",get:e=>{let{roomId:t}=e;return e=>{let{get:n}=e;return n(i.ids(t))}},set:e=>{let{roomId:t,merge:n=!0}=e;return(e,r)=>{let{set:a}=e;a(i.ids(t),(e=>{const t=n?[...new Set([...r,...e])]:r;return n&&(0,s.Ay)(t,e)?e:t}))}}}),v=(0,a.Iz)({key:"roomsChartBatchState",default:{}}),x=(0,a.K0)({key:"roomChartsState",get:e=>{let{id:t,key:n}=e;return e=>{let{get:r}=e;const a=r(v(t))||o;return n?a[n]:a}},set:e=>{let{id:t,key:n}=e;return(e,r)=>{let{set:a}=e;"function"!==typeof r?Object.keys(r).length<1||a(v(t),(e=>({...e,[n]:r}))):a(v(t),(e=>({...e,[n]:r(e[n])})))}}}),b=(0,a.K0)({key:"roomChartsState/initialize",set:function(){let{id:e,merge:t=!0,nodeIds:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(r,a)=>{let{set:l}=r,{values:i,merge:d}=a;l(c({id:e,key:"fetchedFor"}),n),l(v(e),(e=>{const n=Object.keys(i).reduce(((n,r)=>{const{id:a}=i[r];return n[a]={...o,...(t||d)&&e[a],...i[r],loaded:!0},n}),t?{...e}:{});return t&&(0,s.Ay)(n,e,{omit:["lastEntry","firstEntry","family"]})?e:n}))}}}),I=(e,t)=>(0,a.vc)(x({id:e,key:t})),E=e=>(0,a.Zs)((t=>{let{set:n}=t;return t=>n(v(e),t)}),[]),A=(e,t)=>(0,a.Zs)((n=>{let{snapshot:r}=n;return n=>({...r.getLoadable(x({id:e,key:n})).contents,...t?.[n]||{}})}),[e,t]),C=e=>{const t=(0,l.ID)(),n=(0,a.vc)(v(t));return n[e]?.visible&&!n[e]?.filteredOut&&!n[e]?.hidden},k=e=>{const t=(0,l.ID)(),n=(0,a.vc)(v(t));return e.some((e=>n[e]?.visible&&!n[e]?.filteredOut&&!n[e]?.hidden))},w=()=>{const e=(0,l.ID)(),t=(0,a.vc)(v(e));return(0,r.useCallback)((e=>e.some((e=>t[e]?.visible&&!t[e]?.filteredOut&&!t[e]?.hidden))),[e,t])},S=(0,a.Iz)({key:"instancesByContextAtom",default:{}}),P=(0,a.K0)({key:"roomChartInstancesState",get:e=>{let{id:t,context:n}=e;return e=>{let{get:r}=e;const a=r(S(t));return n?a[n]:a}},set:e=>{let{id:t,context:n}=e;return(e,r)=>{let{set:a}=e;"function"!==typeof r?Object.keys(r).length<1||a(S(t),(e=>({...e,[n]:r}))):a(S(t),(e=>({...e,[n]:r(e[n])})))}}});(0,a.K0)({key:"roomChartInstances/initialize",set:e=>(t,n)=>{let{set:r}=t;r(S(e),(e=>({...e,...n})))}}),(0,a.K0)({key:"roomChartsInstancesState",get:e=>{let{id:t,contexts:n=[]}=e;return e=>{let{get:r}=e;const a=r(P({id:t}));return n.reduce(((e,t)=>(a[t]&&(e[t]=a[t]),e)),{})}}})},20687:(e,t,n)=>{n.d(t,{A:()=>E});n(41393),n(81454);var r=n(96540),a=n(65336),o=n(47762),l=n(11988),s=n(64118),i=n(27467),c=n(29217),d=n(4659),u=n(8711),m=n(47767),p=n(45588),g=n(21290),h=n(45976);const y=(0,u.default)(a.Flex).withConfig({displayName:"alert__AlertContainer",componentId:"sc-ndxwzg-0"})(["transition:opacity 0.3s ease-in-out;&:hover{& ","{opacity:0.7;}}"],a.Text),f={overview:"overview",k8s:"kubernetes",singleNode:"nodes/:nodeId"},v=e=>{let{alert:t,onAlertClick:n,flavour:l}=e;const{value:s,instance:i,lastStatusChange:u,id:v,status:x,units:b,name:I,summary:E,nodeId:A}=t,C=(0,o.xY)(A,"name"),{localeTimeString:k,localeDateString:w}=(0,g.$j)(),S=(0,r.useMemo)((()=>{const e=new Date(1e3*u);return isNaN(e.valueOf())?"":`${w(e,{long:!1})} ${k(e,{secs:!1})}`}),[u,k,w]),P=(0,r.useCallback)((()=>{n({alertId:v})}),[]),K=(0,m.g)(),N=(0,m.Zp)();return r.createElement(y,{column:!0,padding:[4,0],gap:1,border:{color:"border",side:"bottom"},"data-testid":"alertItem","data-test-name":`alertItem-${I}`},r.createElement(a.Flex,{column:!0},r.createElement(c.A,{plain:!0,content:E,isBasic:!0},r.createElement(a.Text,{strong:!0,"data-testid":"alertItem-alertName"},I)),r.createElement(a.TextSmall,{wordBreak:"break-all","data-testid":"alertItem-chartId"},i," @ ",C)),r.createElement(a.Flex,{alignItems:"center",justifyContent:"between"},r.createElement(h.A,{loaded:!0,status:x,units:b,value:s,flex:!1,"data-testid":"alertItem-alertValuePill"}),r.createElement(a.TextMicro,{color:"textLite","data-testid":"alertItem-alertDate"},S)),r.createElement(a.Flex,{gap:1},!!f[l]&&r.createElement(r.Fragment,null,r.createElement(d.A,{Component:a.TextMicro,onClick:()=>{N((0,p.tW)(`/spaces/:spaceSlug/rooms/:roomSlug/${f[l]}`,K),{replace:!0,state:{alertId:v}})}},"Plot on chart"),r.createElement(a.TextMicro,{color:"textLite"},"\u2022")),r.createElement(d.A,{Component:a.TextMicro,onClick:P},"Show info")))};var x=n(92136);const b=(e,t)=>e.status===t.status?0:"critical"===e.status?-1:1,I={nodesView:!0},E=e=>{let{nodeIds:t,flavour:n}=e;const[u,m]=(0,i.r$)("sidebarNodeId",{flavour:"val",extraKey:n}),p=(0,o.xY)(u),g=(0,l.YS)(u?[u]:t),h=(0,s.Gq)(g),y=(0,r.useMemo)((()=>[...h].sort(b)),[h]),[f,E,,A]=(0,x.A)(),C=h.length?`(${h.length})`:"";return r.createElement(a.Flex,{width:"100%",column:!0,overflow:"hidden"},r.createElement(a.Flex,{column:!0,gap:5,padding:[2]},r.createElement(a.Flex,{column:!0},r.createElement(c.A,{content:"Currently Active alerts",align:"bottom"},r.createElement(a.TextBig,{strong:!0,"data-testid":"nodeAlertsView-activeAlerts-header"},"Alerts ",C)),!!I[n]&&r.createElement(a.TextMicro,null,"Showing ",p.id?r.createElement(a.TextMicro,{strong:!0},p.name):"room"," alerts"," ",!!p.id&&r.createElement(r.Fragment,null," ","-"," ",r.createElement(d.A,{Component:a.TextMicro,onClick:()=>m("")},"Show all")))),!h.length&&r.createElement(a.Flex,{column:!0,gap:8,padding:[0,5],"data-testid":"nodesAlertsView-blankSlate",alignItems:"center"},r.createElement(a.Icon,{name:"checkmark",width:"90px",height:"90px"}),r.createElement(a.H4,{textAlign:"center"},1!==t.length?"No":"This node has no"," active alerts, you are all good!"))),r.createElement(a.Flex,{column:!0,overflow:{vertical:"auto"},padding:[0,2]},y.map((e=>r.createElement(v,{key:e.id,alert:e,onAlertClick:E,flavour:n})))),f&&A)}},35911:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(6200),a=n(69765),o=n(85630),l=n(37618),s=n(96540);const i=()=>{const{isDemo:e}=(0,r.A)(),t=(0,a.ID)(),n=(0,l.tB)(t),{loaded:i,isPaid:c}=(0,o.A)();return{disabled:!i||!c||e||n,reason:(0,s.useMemo)((()=>{switch(!0){case n:return"LocalDashboard";case e:return"DemoSpace";case i&&!c:return"FreePlan";default:return null}}),[n,e,i,c])}}},94177:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(58168),a=n(96540),o=n(20859),l=n(59846);const s=e=>{let{baseKey:t,extraKey:n,testIdPrefix:s,groupProps:i,...c}=e;return a.createElement(l.A,(0,r.A)({title:"Nodes",testIdPrefix:s,baseKey:t,extraKey:n,param:"selectedIds",defaultIsOpen:!1,help:"Select nodes individually. By selecting nodes in this filter, you bypass the rest of the filters."},i),a.createElement(o.Ay,(0,r.A)({baseKey:t,extraKey:n,itemProps:{padding:[1,1,1,.5]},searchMargin:[0,0,1],height:{max:"300px"},testIdPrefix:s},c)))}},74002:(e,t,n)=>{n.d(t,{kO:()=>Re,Ay:()=>Ze});var r=n(58168),a=(n(17333),n(41393),n(98992),n(54520),n(81454),n(96540)),o=n(8711),l=n(65336),s=n(27467),i=n(81638),c=n(30577),d=n(93615),u=n(64473),m=n(47762),p=n(12352),g=n(69765),h=n(60072),y=n(80618),f=n(89879),v=n(75533),x=n(25825),b=n(50065);const I=[{name:"MySQL",title:"MySQL",iconName:"serviceMySQL",logoFilename:"mysql.svg",category:"Databases",collectors:["python.d.plugin:mysql","go.d.plugin:mysql"],contexts:["mysql.queries","mysql.net","mysql.connections"],priority:1},{name:"MariaDB",title:"MariaDB",iconName:"serviceMariaDB",logoFilename:"mariadb.svg",category:"Databases",collectors:["python.d.plugin:mysql","go.d.plugin:mysql"],contexts:["mysql.queries","mysql.net","mysql.connections"],priority:2},{name:"Oracle Database",title:"Oracle Database",iconName:"osOracle",logoFilename:"oracle.svg",category:"Databases",collectors:["python.d.plugin:oracledb"],contexts:["oracledb.session_count","oracledb.physical_disk_read_writes","oracledb.tablespace_usage_in_percent"],priority:3},{name:"PostgreSQL",title:"PostgreSQL",iconName:"servicePostgreSQL",logoFilename:"postgresql.svg",category:"Databases",collectors:["python.d.plugin:postgres"],contexts:["postgres.checkpointer","postgres.archive_wal","postgres.db_size"],priority:4},{name:"MongoDB",title:"MongoDB",iconName:"serviceMongoDB",logoFilename:"mongodb.svg",category:"Databases",collectors:["python.d.plugin:mongodb"],contexts:["mongodb.active_clients","mongodb.read_operations","mongodb.write_operations"],priority:5},{name:"ElasticSearch",title:"ElasticSearch",iconName:"serviceElasticSearch",logoFilename:"elasticsearch.svg",category:"Databases",collectors:["python.d.plugin:elasticsearch"],contexts:["elastic.search_performance_total","elastic.index_performance_total","elastic.index_segments_memory"],priority:6},{name:"CouchDB",title:"CouchDB",iconName:"serviceCouchDB",logoFilename:"couchdb.svg",category:"Databases",collectors:["python.d.plugin:couchdb"],contexts:["couchdb.activity","couchdb.response_codes"],priority:7},{name:"Proxy SQL",title:"Proxy SQL",iconName:"serviceProxySQL",logoFilename:"proxysql.svg",category:"Databases",collectors:["python.d.plugin:proxysql"],contexts:["proxysql.questions","proxysql.pool_status","proxysql.pool_overall_net"],priority:8},{name:"Redis",title:"Redis",iconName:"serviceRedis",logoFilename:"redis.svg",category:"Databases",collectors:["python.d.plugin:redis"],contexts:["redis.operations","redis.net","redis.connections"],priority:9},{name:"MemCached",title:"MemCached",iconName:"serviceMemCached",logoFilename:"memcached.svg",category:"Databases",collectors:["python.d.plugin:memcached"],contexts:["memcached.cache","memcached.net","memcached.connections"],priority:10},{name:"RethinkDB",title:"RethinkDB",iconName:"serviceRethinkDB",logoFilename:"rethinkdb.svg",category:"Databases",collectors:["python.d.plugin:rethinkdbs"],contexts:["rethinkdb.cluster_queries","rethinkdb.cluster_clients_active","rethinkdb.cluster_connected_servers"],priority:11},{name:"Solr",title:"Solr",iconName:"serviceSolr",logoFilename:"solr.svg",category:"Databases",collectors:["go.d.plugin:solr"],contexts:["solr.search_requests","solr.update_requests"],priority:12},{name:"RabbitMQ",title:"RabbitMQ",iconName:"serviceRabbitMQ",logoFilename:"rabbitmq.svg",category:"Messaging",collectors:["python.d.plugin:rabbitmq","go.d.plugin:rabbitmq"],contexts:["rabbitmq.queued_messages","rabbitmq.erlang_run_queue"],priority:1},{name:"Beanstalkd",title:"Beanstalkd",iconName:"serviceBeanstalk",logoFilename:"beanstalkd.svg",category:"Messaging",collectors:["python.d.plugin:beanstalk"],contexts:["beanstalk.total_jobs_rate","beanstalk.connections_rate","beanstalk.current_tubes"],priority:2},{name:"Apache",title:"Apache",iconName:"serviceApache",logoFilename:"apache.svg",category:"Web, Proxies, LBs, Streaming",collectors:["python.d.plugin:apache","go.d.plugin:apache"],contexts:["apache.requests","apache.connections","apache.net"],priority:1},{name:"nginx",title:"nginx",iconName:"serviceNginx",logoFilename:"nginx.svg",category:"Web, Proxies, LBs, Streaming",collectors:["python.d.plugin:nginx","go.d.plugin:nginx"],contexts:["nginx.requests","nginx.connections"],priority:2},{name:"nginx+",title:"nginx+",iconName:"serviceNginxPlus",logoFilename:"nginx-plus.svg",category:"Web, Proxies, LBs, Streaming",collectors:["python.d.plugin:nginx_plus"],contexts:["nginx_plus.requests_total","nginx_plus.connections_statistics"],priority:3},{name:"lighthttpd",title:"lighthttpd",iconName:"serviceLighthttpd",logoFilename:"lighthttpd.svg",category:"Web, Proxies, LBs, Streaming",collectors:["python.d.plugin:lighttpd","go.d.plugin:lighttp"],contexts:["lighttpd.requests","lighttpd.net"],priority:4},{name:"lighthttpd2",title:"lighthttpd2",iconName:"serviceLighthttpd2",logoFilename:"lighthttpd.svg",category:"Web, Proxies, LBs, Streaming",collectors:["go.d.plugin:lighttpd2"],contexts:["lighttpd2.requests","lighttpd2.traffic"],priority:5},{name:"LiteSpeed",title:"LiteSpeed",iconName:"serviceLiteSpeed",logoFilename:"litespeed.svg",category:"Web, Proxies, LBs, Streaming",collectors:["python.d.plugin:litespeed"],contexts:["litespeed.requests","litespeed.requests_processing"],priority:6},{name:"Tomcat",title:"Tomcat",iconName:"serviceApacheTomcat",logoFilename:"tomcat.svg",category:"Web, Proxies, LBs, Streaming",collectors:["python.d.plugin:tomcat"],contexts:["tomcat.accesses","tomcat.processing_time","tomcat.bandwidth"],priority:7},{name:"PHP FPM",title:"PHP FPM",iconName:"servicePhpFpm",logoFilename:"php-fpm.svg",category:"Web, Proxies, LBs, Streaming",collectors:["python.d.plugin:phpfm"],contexts:["phpfpm.performance","phpfpm.requests","phpfpm.connections"],priority:8},{name:"HAproxy",title:"HAproxy",iconName:"serviceHAProxy",logoFilename:"haproxy.svg",category:"Web, Proxies, LBs, Streaming",collectors:["python.d.plugin:haproxy"],contexts:["haproxy_f.scur","haproxy_f.bin","haproxy_f.bout"],priority:9},{name:"Squid",title:"Squid",iconName:"serviceSquid",logoFilename:"squid.svg",category:"Web, Proxies, LBs, Streaming",collectors:["python.d.plugin:squid"],contexts:["squid.clients_requests","squid.clients_net"],priority:10},{name:"Traefik",title:"Traefik",iconName:"serviceTraefik",logoFilename:"traefik.svg",category:"Web, Proxies, LBs, Streaming",collectors:["python.d.plugin:traefik"],contexts:["traefik.response_codes"],priority:11},{name:"Varnish",title:"Varnish",iconName:"serviceVarnish",logoFilename:"varnish.svg",category:"Web, Proxies, LBs, Streaming",collectors:["python.d.plugin:varnish"],contexts:["varnish.session_connection","varnish.client_requests"],priority:12},{name:"IPVS",title:"IPVS",iconName:"serviceIPVS",logoFilename:"load-balancer.svg",category:"Web, Proxies, LBs, Streaming",collectors:["proc.plugin:/proc/net/ip_vs_stats"],contexts:["ipvs.sockets","ipvs.packets","ipvs.net"],priority:13},{name:"Web Log",title:"Web Log",iconName:"serviceWebLog",logoFilename:"log-file.svg",category:"Web, Proxies, LBs, Streaming",collectors:["python.d.plugin:web_log","go.d.plugin:web_log"],contexts:["web_log.response_codes","web_log.bandwidth"],priority:14},{name:"IPFS",title:"IPFS",iconName:"serviceIPFS",logoFilename:"ipfs.svg",category:"Web, Proxies, LBs, Streaming",collectors:["python.d.plugin:ipfs"],contexts:["ipfs.bandwidth","ipfs.peers"],priority:15},{name:"IceCast Media Streaming",title:"IceCast Media Streaming",iconName:"serviceIceCast",logoFilename:"icecast.svg",category:"Web, Proxies, LBs, Streaming",collectors:["python.d.plugin:icecast"],contexts:["icecast.listeners"],priority:16},{name:"RetroShare",title:"RetroShare",iconName:"serviceRetroShare",logoFilename:"retroshare.svg",category:"Web, Proxies, LBs, Streaming",collectors:["python.d.plugin:retroshare"],contexts:["retroshare.bandwidth","retroshare.peers"],priority:17},{name:"HTTP Check",title:"HTTP Check",iconName:"serviceHTTPCheck",logoFilename:"server-connection.svg",category:"Web, Proxies, LBs, Streaming",collectors:["python.d.plugin:httpcheck","go.d.plugin:httpcheck"],contexts:["httpcheck.responsetime","httpcheck.status"],priority:18},{name:"x509 Check",title:"x509 Check",iconName:"serviceX509Check",logoFilename:"data-encryption.svg",category:"Web, Proxies, LBs, Streaming",collectors:["go.d.plugin:x509check"],contexts:["x509check.time_until_expiration"],priority:19}].reduce(((e,t)=>({...e,[t.name]:t})),{}),E=e=>I[e]?.iconName||"services",A=e=>{let{node:t}=e;return t.services?.length?a.createElement(b.A,{link:"https://learn.netdata.cloud/docs/agent/collectors/collectors#service-and-application-collectors",name:"Services"},t.services.map((e=>a.createElement(p.A,{size:"small",key:e,iconName:E(e),name:e,testId:`sidebar-ServicesGroup-service-${e}`})))):null};var C=n(58010),k=n(17240),w=n(29072),S=n(37618);const P=()=>((0,w.A)(),null),K=e=>{let{nodeIds:t,flavour:n}=e;const r=(0,g.ID)(),o=(0,S.tB)(r),i=(0,s.l6)("sidebarNodeId",{defaultValue:t[0],flavour:"val",extraKey:n}),c=(0,m.xY)(i);return c.id?a.createElement(a.Fragment,null,o?null:a.createElement(P,null),a.createElement(l.Flex,{"data-testid":"node-info-content",column:!0,gap:1,overflow:{horizontal:"hidden",vertical:"auto"},padding:[2],width:"100%"},a.createElement(l.TextBig,{strong:!0},"Info"),a.createElement(l.Flex,{column:!0,padding:[2,0,3],border:{side:"bottom",color:"borderSecondary"}},false,a.createElement(l.TextSmall,{"data-testid":"sidebar-nodeInfoContent-hostname",strong:!0},"Hostname: ",c.name)),a.createElement(v.A,{node:c}),a.createElement(x.A,{node:c}),a.createElement(f.A,{id:c.id,flavour:"sidebar"}),a.createElement(h.A,{node:c}),a.createElement(y.A,{node:c}),a.createElement(C.A,{node:c}),a.createElement(A,{node:c}),a.createElement(k.A,{node:c}))):a.createElement(l.Text,null,"Select a node to see its\u2019 info")};var N=n(29217),F=n(20687),_=n(17296),T=n(54475),M=n(76896);const L=()=>!0,D=(0,a.memo)((e=>{let{menuIds:t,onMenuClick:n,menuProps:o,useItemsAreVisible:l=L,extraKey:s,settingsIdsByMenuId:i,...c}=e;return a.createElement(M.A,(0,r.A)({id:`toc-menu-wrapper-${s}-${c.flavour||"default"}`},c),t.map((e=>a.createElement(T.A,(0,r.A)({key:e,flavour:c?.flavour,settingsIdsByMenuId:i,id:e,onMenuClick:n,useItemsAreVisible:l,extraKey:s},o)))))})),B=(0,_.Qb)(D),$=(0,a.memo)(B);var z=n(79566),O=n(71847),q=n(73700),R=n(55579);const V=()=>{const[e,t]=(0,R.sK)(),n=(0,a.useCallback)((0,q.s)(300,(e=>{t(e.target.value),(0,O.H)("toc-search","search-automatic-trigger","charts-view",e.target.value)})),[]),[r,o,,,{resetValue:s}]=(0,l.useInputValue)({value:e,onChange:n}),i=(0,a.useCallback)((()=>{t(""),s(),(0,O.H)("toc-search","clear-search-button","charts-view")}),[]);return a.createElement(l.TextInput,{value:r,onChange:o,size:"small",iconRight:r&&a.createElement(l.Icon,{name:"x",color:"textLite",cursor:"pointer",size:"small",onClick:i,"data-testid":"filterChartsInput-clearButton"}),placeholder:"Search charts",name:"Search charts","data-testid":"filterChartsInput",containerStyles:{width:"100%"}})};var j=n(47767),H=n(4659),W=n(97054);const U=(0,q.s)(300,((e,t)=>(0,O.H)("toc-search","search-results","charts-view",e,`${t} -- charts`))),G=()=>{const e=(0,j.Zp)(),[t]=(0,W.Ay)(),n=(0,R.Um)(),{filteredChartsCount:r,chartsCount:o}=(0,R.Ad)();(0,a.useEffect)((()=>{n&&U(n,r)}),[n,r]);const s=(0,a.useCallback)((n=>{n.preventDefault(),e(`/spaces/${t}/settings/configurations`,{replace:!0})}),[t,e]);return a.createElement(a.Fragment,null,a.createElement(l.TextMicro,{alignSelf:"end",color:"textLite",margin:[1,0,0],"data-testid":"numberOfChartsIndication"},"Showing"," ",a.createElement(l.TextMicro,{strong:!0,color:"textDescription","data-testid":"numberOfChartsIndication-filteredChartsCount"},r)," ","of total"," ",a.createElement(l.TextMicro,{strong:!0,color:"textDescription","data-testid":"numberOfChartsIndication-chartsCount"},o)," ","charts"),a.createElement(H.A,{Component:l.TextMicro,alignSelf:"end","data-ga":`toc-search::click-link-collectors::${name}`,onClick:s,target:"_blank",rel:"noopener noreferrer"},"Add more charts"))},Z=()=>{const{filteredChartsCount:e}=(0,R.Ad)();return e?null:a.createElement(l.Flex,{width:"100%",gap:1,margin:[4,0,0],padding:[2],alignItems:"center","data-testid":"noResultsWereFound"},a.createElement(l.Icon,{name:"information",color:"textDescription"}),a.createElement(l.TextMicro,{strong:!0,color:"textDescription"},"No results were found"))};const Q=(0,n(82543).A)(G),Y=()=>a.createElement(l.Flex,{column:!0,alignItems:"center",height:{min:"65px"}},a.createElement(V,null),a.createElement(Q,null),a.createElement(Z,null));var J=n(23931),X=(n(14905),n(8872),n(8320)),ee=n(68831),te=n(87659),ne=n(3914),re=n(40933),ae=n(35911);const{demoSlug:oe,demoFavourites:le}=ee.A,se=(0,o.default)(l.Icon).attrs({size:"small",name:"chevron_left",color:"textLite"}).withConfig({displayName:"favourites__StyledChevron",componentId:"sc-1bjrnio-0"})(["transition:transform 0.2s ease-in-out;"]),ie={showChildren:!1},ce=e=>{let{onMenuClick:t,initialChartName:n,flavour:r}=e;const o=(0,ne.bq)(),s=(0,g.QW)(),{disabled:i}=(0,ae.A)(),c=(0,re._)({params:{type:["favourites"],path:[`/${r}`]}}),d=(0,a.useMemo)((()=>c.map((e=>{let{value:t}=e;return t?.menuId})).filter(Boolean)),[c]),u=(0,a.useMemo)((()=>c.reduce(((e,t)=>({...e,...t.value?.menuId?{[t.value.menuId]:t.id}:{}})),{})),[c]),m=(0,a.useMemo)((()=>oe===o?le[s]||[]:d),[o,s,d]),p=(0,_.yy)((h=m,e=>h.reduce(((t,n)=>e[n]?[...t,n]:t),[])));var h;const{onMenuClick:y}=(0,z.A)({onMenuClick:t}),[f,v]=(0,te.A)(!0),x=(0,X.UH)();return(0,a.useEffect)((()=>{x&&!n&&p.length&&t({id:p[0]})}),[x,n]),p.length?i?null:a.createElement(l.Flex,{"data-testid":"favourites-container",column:!0,gap:1,padding:[0,2,2]},a.createElement(l.Flex,{onClick:v,cursor:"pointer",alignItems:"center",justifyContent:"between"},a.createElement(l.Flex,{gap:2,alignItems:"center"},a.createElement(l.Icon,{name:"heart",color:"text"}),a.createElement(l.Flex,{gap:2},a.createElement(l.Text,{strong:!0,color:"textFocus"},"Favourites"),m.length?a.createElement(l.Text,null,"(",m.length,")"):null)),a.createElement(se,{rotate:f?1:3,alignSelf:"end"})),a.createElement(l.Collapsible,{"data-testid":"toc-fav-collapsible",open:f},a.createElement(l.Flex,{height:{max:30},overflow:{vertical:"auto"}},a.createElement(D,{flavour:"favourites",settingsIdsByMenuId:u,menuIds:p,onMenuClick:y,menuProps:ie,extraKey:r})))):null},de={nodesView:()=>!0,default:J.Bu};let ue=null;const me=function(){let{id:e,flavour:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"favourites"==t&&(ue&&clearTimeout(ue),ue=setTimeout((()=>{const t=document.getElementById("toc-menu-wrapper-overview-default");if(t){const n=t.querySelector(`[data-menuid=${e}]`);if(n){const e=t.getBoundingClientRect(),r=n.getBoundingClientRect();t.scrollTop=r.top-e.top}}ue=null}),500)),(0,O.H)("metric-sidebar",`click-${pe(e)}`,"mn-overview")},pe=e=>e.startsWith("Kubernetes")?"k8s":e.replace(/[^\w]/g,"-").toLowerCase(),ge=e=>{let{initialChartName:t,loaded:n,hasSearch:r=!0,flavour:o}=e;const{onMenuClick:s}=(0,z.A)({onMenuClick:me,loaded:n}),i=de[o]||de.default;return a.createElement(a.Fragment,null,r&&a.createElement(l.Flex,{column:!0,position:"sticky",top:"0",gap:1,padding:[0,2]},a.createElement(Y,null)),n&&a.createElement(a.Fragment,null,a.createElement(ce,{onMenuClick:s,initialChartName:t,useItemsAreVisible:i,flavour:o}),a.createElement($,{position:"relative",onMenuClick:s,width:"100%",useItemsAreVisible:i,extraKey:o})))};var he=n(64118),ye=n(23452);const fe=e=>{let{extraKey:t,param:n,paramKey:r}=e;const o=(0,ye.QD)({extraKey:t,omit:n,keepAll:!0}),l=(0,s.l6)(n,{extraKey:t,flavour:"arr"});return(0,a.useMemo)((()=>Object.entries(o.reduce(((e,t)=>(e[t[r]]=(e[t[r]]||0)+(t.hidden?0:1),e)),{...ye.hv[n]||{}})).map((e=>{let[t,n]=e;return{id:t,count:n}})).sort(ye.qr[n]||ye.qr.default)),[o.filter((e=>e.hidden)).length,l])},ve=e=>{let{extraKey:t,param:n,paramKey:r}=e;const o=(0,ye.PP)({extraKey:t,omit:n,keepAll:!0}),l=(0,s.l6)(n,{extraKey:t,flavour:"arr"});return(0,a.useMemo)((()=>Object.entries(o.reduce(((e,t)=>(e[t[r]]=(e[t[r]]||0)+(t.hidden?0:1),e)),{...ye.hv[n]||{}})).map((e=>{let[t,n]=e;return{id:t,count:n}})).sort(ye.qr[n]||ye.qr.default)),[o.filter((e=>e.hidden)).length,l])},xe=e=>{let{extraKey:t,param:n,paramKey:r}=e;const[{alertName:o,nodeId:l}]=(0,he.DV)(),i=(0,ye.JO)({extraKey:t,alertName:o,nodeId:l,omit:n,keepAll:!0}),c=(0,s.l6)(n,{extraKey:t,flavour:"arr"});return(0,a.useMemo)((()=>Object.entries(i.reduce(((e,t)=>(t[r]&&(e[t[r]]=(e[t[r]]||0)+(t.hidden?0:1)),e)),{...ye.hv[n]||{}})).map((e=>{let[t,n]=e;return{id:t,count:n}})).sort(ye.qr[n]||ye.qr.default)),[i.filter((e=>e.hidden)).length,c,o,l])};var be=n(59846),Ie=n(82700);const Ee=e=>e.id,Ae=e=>{let{baseKey:t,param:n,extraKey:o,testIdPrefix:l,title:s,groupProps:i,checkboxProps:c,options:d}=e;return a.createElement(be.A,(0,r.A)({title:s,testIdPrefix:l,baseKey:t,extraKey:o,param:n,help:"Filter the alerts. Count next to each item refer to the number of alerts that will be selected."},i),a.createElement(Ie.Ay,(0,r.A)({param:n,baseKey:t,extraKey:o,testIdPrefix:l,collection:d,getValue:Ee,getLabel:Ee},c)))},Ce=e=>{let{paramKey:t,...n}=e;const{param:o,extraKey:l}=n,s=fe({param:o,extraKey:l,paramKey:t});return s.length?a.createElement(Ae,(0,r.A)({options:s},n)):null},ke=e=>{let{paramKey:t,...n}=e;const{param:o,extraKey:l}=n,s=ve({param:o,extraKey:l,paramKey:t});return s.length?a.createElement(Ae,(0,r.A)({options:s},n)):null},we=e=>{let{paramKey:t,...n}=e;const{param:o,extraKey:l}=n,s=xe({param:o,extraKey:l,paramKey:t});return s.length?a.createElement(Ae,(0,r.A)({options:s},n)):null};n(32679),n(8159),n(30670),n(37550),n(25509),n(65223),n(60321),n(41927),n(11632),n(64377),n(66771),n(12516),n(68931),n(52514),n(35694),n(52774),n(49536),n(21926),n(94483),n(16215);var Se=n(66245),Pe=n.n(Se),Ke=n(45467);const Ne=e=>{const{baseKey:t,extraKey:n,param:o,testIdPrefix:l,itemsProps:i,itemProps:c,groupProps:d,...u}={...Ie.H5,...e},m=(e=>{let{extraKey:t,param:n}=e;const r=(0,ye.QD)({extraKey:t,omit:n,keepAll:!0}),o=(0,s.l6)(n,{extraKey:t,flavour:"arr"});return(0,a.useMemo)((()=>Object.entries(r.reduce(((e,t)=>{let{type:n,component:r,hidden:a}=t;return e[n]=e[n]||{count:0,children:{}},e[n].count=(e[n].count||0)+(a?0:1),e[n].children[r]=(e[n].children[r]||0)+(a?0:1),e}),{})).reduce(((e,t)=>{let[n,{count:r,children:a}]=t;return e.push({id:n,count:r,children:Object.entries(a).map((e=>{let[t,r]=e;return{value:`${n}|${t}`,label:t,count:r,level:1}}))}),e}),[]).sort(ye.qr[n]||ye.qr.default)),[r.filter((e=>e.hidden)).length,o])})({param:o,extraKey:n}),[p,g]=(0,s.N9)(o,{defaultValue:[],key:t,extraKey:n,flavour:"arr"});(0,Ke.A)((()=>{m.length&&p.length&&g((e=>e.filter((e=>m.some((t=>t.children.some((t=>t.value===e))))))))}),[m.length,g]);const h=(0,a.useCallback)((e=>{let{value:t,checked:n}=e;g((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(t)?n?[...new Set([...e,...t])]:Pe()(e,t):n?[...e,t]:e.filter((e=>e!==t))}))}),[g]),y=(0,a.useMemo)((()=>(e=>{let{options:t,selected:n,itemsProps:r={}}=e;if(!t.length)return[];const a=t.flatMap((e=>e.children.map((e=>e.value)))),o=a.length===n.length,l=!o&&!!n.length;return[{...r.head,label:"Select all",value:a,selected:o,indeterminate:l},...t.flatMap((e=>{let{id:t,children:a,count:o}=e;const l=n.length&&!a.some((e=>!n.includes(e.value))),s=!l&&n.length&&a.some((e=>n.includes(e.value)));return a.reduce(((e,t)=>{const a=n.includes(t.value);return[...e,{...r.row,...t,selected:a}]}),[{...r.head,label:t,value:a.map((e=>e.value)),selected:l,indeterminate:s,count:o}])}))]})({options:m,selected:p,itemsProps:i})),[p,g,m]);return m.length?a.createElement(be.A,(0,r.A)({title:"Alert type & component",testIdPrefix:l,baseKey:t,extraKey:n,param:o,help:"Filter the alerts. Count next to each item refer to the number of alerts that will be selected."},d),a.createElement(Ie.V$,(0,r.A)({"data-testid":`${l}-filter-selections"`,searchMargin:[0,0,1],items:y,onItemClick:h,value:p,"data-value":p.join(",")||"all-selected",hasSearch:m.length>5,itemProps:{testIdPrefix:l,...c}},u))):null},Fe=e=>{let{roomId:t,flavour:n,groupProps:r}=e;return(0,a.useMemo)((()=>"alerts"==n),[n])?a.createElement(a.Fragment,null,a.createElement(Ce,{title:"Status",testIdPrefix:"alert-status",baseKey:t,extraKey:n,param:"alertStatuses",paramKey:"status",groupProps:r}),a.createElement(Ce,{title:"Name",testIdPrefix:"alert-name",baseKey:t,extraKey:n,param:"alertNames",paramKey:"name",groupProps:r}),a.createElement(Ce,{title:"Context",testIdPrefix:"alert-context",baseKey:t,extraKey:n,param:"alertContexts",paramKey:"context",groupProps:r,checkboxProps:{capitalized:!1}}),a.createElement(Ce,{title:"Class",testIdPrefix:"alert-class",baseKey:t,extraKey:n,param:"alertClasses",paramKey:"class",groupProps:r}),a.createElement(Ne,{testIdPrefix:"alert-type-component",baseKey:t,extraKey:n,param:"alertTypeComponents",groupProps:r}),a.createElement(Ce,{title:"Role",testIdPrefix:"alert-role",baseKey:t,extraKey:n,param:"alertRoles",paramKey:"recipient",groupProps:r})):null},_e=e=>{let{roomId:t,flavour:n,groupProps:r}=e;const o=(0,he.CX)();return(0,a.useMemo)((()=>"runningAlerts"==n&&0==o),[n,o])?a.createElement(a.Fragment,null,a.createElement(ke,{title:"Context",testIdPrefix:"alert-context",baseKey:t,extraKey:n,param:"alertContexts",paramKey:"contexts",groupProps:r,checkboxProps:{capitalized:!1}}),a.createElement(ke,{title:"Class",testIdPrefix:"alert-classification",baseKey:t,extraKey:n,param:"alertClasses",paramKey:"classes",groupProps:r}),a.createElement(ke,{title:"Component",testIdPrefix:"alert-component",baseKey:t,extraKey:n,param:"alertComponents",paramKey:"components",groupProps:r}),a.createElement(ke,{title:"Type",testIdPrefix:"alert-type",baseKey:t,extraKey:n,param:"alertTypes",paramKey:"types",groupProps:r}),a.createElement(ke,{title:"Role",testIdPrefix:"alert-role",baseKey:t,extraKey:n,param:"alertRoles",paramKey:"recipients",groupProps:r})):null},Te=e=>{let{roomId:t,flavour:n,groupProps:r}=e;const o=(0,he.CX)();return(0,a.useMemo)((()=>"runningAlerts"==n&&2==o),[n,o])?a.createElement(a.Fragment,null,a.createElement(we,{title:"Status",testIdPrefix:"alert-status",baseKey:t,extraKey:n,param:"alertStatuses",paramKey:"status",groupProps:r}),a.createElement(we,{title:"Class",testIdPrefix:"alert-class",baseKey:t,extraKey:n,param:"alertClasses",paramKey:"class",groupProps:r}),a.createElement(we,{title:"Component",testIdPrefix:"alert-component",baseKey:t,extraKey:n,param:"alertComponents",paramKey:"component",groupProps:r}),a.createElement(we,{title:"Type",testIdPrefix:"alert-type",baseKey:t,extraKey:n,param:"alertTypes",paramKey:"type",groupProps:r}),a.createElement(we,{title:"Role",testIdPrefix:"alert-role",baseKey:t,extraKey:n,param:"alertRoles",paramKey:"recipient",groupProps:r})):null};var Me=n(11128);const Le=e=>e.id,De=e=>{let{baseKey:t,param:n,paramKey:o,extraKey:l,testIdPrefix:i,title:c,groupProps:d,...u}=e;const m=(e=>{let{extraKey:t,param:n,paramKey:r}=e;const o=(0,Me.eO)({extraKey:t,omit:n,keepAll:!0,scoped:!!t}),l=(0,s.l6)(n,{extraKey:t,flavour:"arr"});return(0,a.useMemo)((()=>Object.entries(o.reduce(((e,t)=>(e[t[r]]=(e[t[r]]||0)+(t.hidden?0:1),e)),{})).map((e=>{let[t,n]=e;return{id:t,count:n}})).sort(Me.qr[n]||Me.qr.default)),[o.filter((e=>e.hidden)).length,l])})({param:n,extraKey:l,paramKey:o});return m.length?a.createElement(be.A,(0,r.A)({title:c,testIdPrefix:i,baseKey:t,extraKey:l,param:n,defaultIsOpen:!1},d),a.createElement(Ie.Ay,(0,r.A)({param:n,baseKey:t,extraKey:l,testIdPrefix:i,collection:m,getValue:Le,getLabel:Le},u))):null};n(9920),n(3949);const Be=e=>{const{baseKey:t,extraKey:n,param:o,testIdPrefix:l,itemsProps:i,itemProps:c,groupProps:d,...u}={...Ie.H5,...e},m=(e=>{let{extraKey:t,param:n}=e;const r=(0,Me.eO)({extraKey:t,omit:n,keepAll:!0,merge:!0}),o=(0,s.l6)(n,{extraKey:t,flavour:"arr"});return(0,a.useMemo)((()=>Object.entries(r.reduce(((e,t)=>{let{labels:n,hidden:r}=t;return Object.keys(n).forEach((t=>{e[t]=e[t]||{count:0,children:{}},e[t].count=(e[t].count||0)+(r?0:1),e[t].children[n[t]]=(e[t].children[n[t]]||0)+(r?0:1)})),e}),{})).reduce(((e,t)=>{let[n,{count:r,children:a}]=t;return e.push({id:n,count:r,children:Object.entries(a).map((e=>{let[t,r]=e;return{value:`${n}|${t}`,label:t,count:r,level:1}}))}),e}),[]).sort(Me.qr[n]||Me.qr.default)),[r.filter((e=>e.hidden)).length,o])})({param:o,extraKey:n}),[p,g]=(0,s.N9)(o,{defaultValue:[],key:t,extraKey:n,flavour:"arr",merge:!1});(0,Ke.A)((()=>{m.length&&p.length&&g((e=>e.filter((e=>m.some((t=>t.children.some((t=>t.value===e))))))))}),[m.length,g]);const h=(0,a.useCallback)((e=>{let{value:t,checked:n}=e;g((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(t)?n?[...new Set([...e,...t])]:Pe()(e,t):n?[...e,t]:e.filter((e=>e!==t))}))}),[g]),y=(0,a.useMemo)((()=>(e=>{let{options:t,selected:n,itemsProps:r={}}=e;if(!t.length)return[];const a=t.flatMap((e=>e.children.map((e=>e.value)))),o=a.length===n.length,l=!o&&!!n.length;return[{...r.head,label:"Select all",value:a,selected:o,indeterminate:l},...t.flatMap((e=>{let{id:t,children:a,count:o}=e;const l=n.length&&!a.some((e=>!n.includes(e.value))),s=!l&&n.length&&a.some((e=>n.includes(e.value)));return a.reduce(((e,t)=>{const a=n.includes(t.value);return[...e,{...r.row,...t,selected:a}]}),[{...r.head,label:t,value:a.map((e=>e.value)),selected:l,indeterminate:s,count:o}])}))]})({options:m,selected:p,itemsProps:i})),[p,g,m]);return m.length?a.createElement(be.A,(0,r.A)({title:"Host labels",testIdPrefix:l,baseKey:t,extraKey:n,param:o},d),a.createElement(Ie.V$,(0,r.A)({"data-testid":`${l}-filter-selections"`,searchMargin:[0,0,1],items:y,onItemClick:h,value:p,"data-value":p.join(",")||"all-selected",hasSearch:m.length>3,itemProps:{testIdPrefix:l,...c}},u))):null};var $e=n(94177);const ze=(0,a.memo)((e=>{let{flavour:t,groupProps:n,...o}=e;const s=(0,g.ID)(),i=(0,he.CX)();return a.createElement(l.Flex,(0,r.A)({column:!0,overflow:{vertical:"auto"},padding:[0,2,30]},o),a.createElement(Fe,{roomId:s,flavour:t,groupProps:n}),a.createElement(_e,{roomId:s,flavour:t,groupProps:n}),a.createElement(Te,{roomId:s,flavour:t,groupProps:n}),"singleNode"!==t&&"anomalies"!==t&&!("runningAlerts"==t&&2==i)&&a.createElement(a.Fragment,null,a.createElement(Be,{testIdPrefix:"node-labels",baseKey:s,extraKey:t,param:"nodeLabels",groupProps:n}),a.createElement(De,{title:"Node status",testIdPrefix:"node-status",baseKey:s,extraKey:t,param:"nodeStatuses",paramKey:"nodeStatus",groupProps:n}),a.createElement(De,{title:"Netdata version",testIdPrefix:"node-version",baseKey:s,extraKey:t,param:"nodeVersions",paramKey:"version",groupProps:n})),!!t&&"singleNode"!==t&&!("runningAlerts"==t&&2==i)&&a.createElement($e.A,{testIdPrefix:"node-ids",baseKey:s,extraKey:t,groupProps:{defaultIsOpen:"anomalies"===t,...n}}))}));var Oe=n(50876);const qe=()=>{const e=(0,s.rW)("correlation"),t=(0,s.rI)("correlation"),{sendLog:n}=(0,Oe.A)(),r=(0,a.useCallback)((e=>{const{checked:r}=e.target||{};t(r),r&&n({feature:"MetricCorrelations",isStart:!0})}),[t,n]);return a.createElement(N.A,{content:()=>a.createElement(l.Box,null,a.createElement("strong",null,"Troubleshoot with Metric Correlations"),a.createElement("br",null),a.createElement("br",null),"Metric correlations will help you identify potential root causes for an observed issue.",a.createElement("br",null),"It will automatically analyse all available metrics for irregular behavior for the same timeframe."),align:"bottom",activateOn:"hover",isBasic:!0},a.createElement(l.Box,null,a.createElement(l.Toggle,{colored:!0,onChange:r,checked:e,labelRight:"Metric Correlations",toggleProps:{uncheckedColor:["neutral","grey130"],checkedColor:"primary"}})))},Re={color:{active:"success",notActive:"textLite"},minWidth:"auto"},Ve={chartIndexing:{...Re,iconName:"charts_view",Content:ge,dataTestId:"nodeInfo-chartIndexing",label:"Charts"},filters:{...Re,iconName:"filterList",Content:ze,dataTestId:"nodeInfo-filters",label:"Filters"},alerts:{...Re,iconName:"alarm_bell",Content:F.A,dataTestId:"nodeInfo-alertsTab",label:"Alerts"},info:{...Re,iconName:"information",dataTestId:"nodeInfo-alertsTab",Content:K,label:"Info"}},je=[],He=(0,o.default)(l.Tabs).withConfig({displayName:"sidebar__StyledTabs",componentId:"sc-1d5ify6-0"})(["overflow:hidden;height:100%;"]),We=e=>{let{flavour:t,children:n}=e;return a.createElement(a.Fragment,null,n)},Ue=e=>{let{isActive:t,color:n,name:r,label:o}=e;return a.createElement(N.A,{plain:!0,content:o},a.createElement(l.Icon,{name:r,color:t?n.active:n.notActive,height:"18px",width:"18px"}))},Ge=["overview","k8s","singleNode"],Ze=e=>{let{tabs:t=Ve,hiddenTabs:n=je,includedTabs:o=je,title:m,help:p,nodeIds:g=je,onClose:h,baseWidth:y,...f}=e;const[v,x]=(0,s.r$)("sidebarTab",{defaultValue:"",flavour:"val",extraKey:f.flavour}),b=(0,a.useMemo)((()=>Object.keys(t).filter((e=>(!o.length||o.includes(e))&&!n.includes(e)))),[n]),I=(0,a.useMemo)((()=>{const e=b.findIndex((e=>e===v));return-1===e?0:e}),[v]),[E,A]=(0,s.r$)("sidebarOpen",{defaultValue:!0,flavour:"bool"}),C=(0,a.useMemo)((()=>Ge.includes(f.flavour)),[f.flavour]),k=(0,a.useCallback)((e=>{x(b[e]),A(!0)}),[b]);return a.createElement(i.Ay,{collapsedComponent:f.flavour&&a.createElement(c.A,{onClickTab:k,availableTabs:t,tabsToShow:b}),isOpen:E,header:f.flavour?a.createElement(d.A,{isOpen:E,onToggle:()=>A(!E),title:m}):a.createElement(u.A,{title:m,help:p,onClick:h}),width:y},a.createElement(l.Flex,{"data-testid":"sidebar-tabs",column:!0,overflow:"hidden",height:"100%"},C?a.createElement(l.Flex,{padding:[2],border:{side:"bottom",color:"borderSecondary"}},a.createElement(qe,null)):null,a.createElement(He,{selected:I,onChange:k,noDefaultBorder:!0,TabsHeader:(0,a.useMemo)((()=>e=>a.createElement(We,(0,r.A)({flavour:f.flavour},e))),[f.flavour])},b.map(((e,n)=>{const{iconName:o,Content:s,dataTestId:i,color:c,label:d,...u}=t[e];return a.createElement(l.Tab,(0,r.A)({style:{display:1===b.length?"none":"inherit"},"data-testid":i,maxWidth:"100%",key:o,small:!0,label:a.createElement(Ue,{isActive:v===n,name:o,color:c,label:d})},u),a.createElement(l.Flex,{column:!0,overflow:"hidden",height:"100%",position:"relative",gap:3,padding:[1,0]},a.createElement(s,(0,r.A)({nodeIds:g},f))))})))))}},60177:(e,t,n)=>{n.d(t,{$n:()=>d,GK:()=>i,Ml:()=>o,R8:()=>l,_x:()=>m,jf:()=>s,nr:()=>a,ul:()=>c,ve:()=>u});var r=n(47444);const a=(0,r.Iz)({key:"homePageNodeDetailsId",default:null}),o={loaded:!1,error:!1,nodes:{},replicationFactor:{},totalChildren:0,totalParents:0},l=(0,r.Iz)({key:"replicationStats",default:o}),s={loaded:!1,error:!1,alerts:[],nodes:{critical:0,warning:0,total:0,hosts:{}}},i=(0,r.Iz)({key:"alertsStats",default:s}),c={loaded:!1,error:!1,stability:{}},d=(0,r.Iz)({key:"stability",default:c}),u={loaded:!1,error:!1,dataRetention:[],metricsCollected:0},m=(0,r.Iz)({key:"chartsStats",default:u})},89879:(e,t,n)=>{n.d(t,{A:()=>y});var r=n(58168),a=(n(3064),n(41393),n(98992),n(72577),n(81454),n(96540)),o=n(47767),l=n(65336),s=n(31604),i=n(47762),c=n(81048),d=n(35119),u=n(50065),m=n(12352);const p=e=>{const t=Object.entries(c.j8).find((t=>{let[,n]=t;return n==e}))?.[0];return d.$S[t]||"offline"},g=e=>{let{id:t,hostname:n,status:r,flavour:s}=e;const c=(0,o.Zp)(),d=(0,i.Zl)(t),u="sidebar"==s,m=(0,a.useCallback)((()=>c(d)),[d]);return a.createElement(l.Flex,{key:t,gap:2,justifyContent:"between"},a.createElement(l.Flex,{gap:2},a.createElement(l.Icon,{name:"dot",width:"8px",color:p(r)}),a.createElement(l.Text,null,n)),u&&a.createElement(l.Icon,{name:"goToNode",color:"text",onClick:m,cursor:"pointer"}))},h=e=>{let{nodes:t,flavour:n,limit:o=10}=e;return t=t||[],t.length?"sidebar"==n||t.length<=o?t.map((e=>a.createElement(g,(0,r.A)({key:e.id,flavour:n},e)))):a.createElement(l.Flex,{column:!0,gap:2},t.slice(0,o).map((e=>a.createElement(g,(0,r.A)({key:e.id,flavour:n},e)))),a.createElement(l.Text,{color:"primary"},t.length-o," more items")):"-"},y=e=>{let{id:t,flavour:n="tooltip"}=e;const r=(0,s.c8)(),{loaded:o,nodes:i}=r||{},{children:c,parents:d}=i?.[t]||{};return o?"sidebar"==n?a.createElement(u.A,{name:"Replication"},a.createElement(m.A,{size:"small",name:"Parents"},a.createElement(h,{nodes:d,flavour:n})),a.createElement(m.A,{size:"small",name:"Children"},a.createElement(h,{nodes:c,flavour:n}))):a.createElement(l.Flex,{column:!0,gap:2},a.createElement(l.Flex,{column:!0,gap:1},a.createElement(l.Text,null,"Parents"),a.createElement(h,{nodes:d,flavour:n})),a.createElement(l.Flex,{column:!0,gap:1},a.createElement(l.Text,null,"Children"),a.createElement(h,{nodes:c,flavour:n}))):null}},35119:(e,t,n)=>{n.d(t,{$S:()=>d,AZ:()=>p,Cc:()=>m,Hl:()=>h,Hn:()=>c,Ug:()=>o,XJ:()=>i,jZ:()=>s,nv:()=>l,q5:()=>u,vd:()=>y,w9:()=>r});const r={none:{label:"None",value:"none",canAddNodes:!0},status:{label:"Status",value:"status",canAddNodes:!1},os:{label:"OS",value:"os",canAddNodes:!0},version:{label:"Agent version",value:"version",canAddNodes:!1},technology:{label:"Technology",value:"technology",canAddNodes:!0},stability:{label:"Connection stability",value:"stability",canAddNodes:!1},replication:{label:"Replication factor",value:"replication",canAddNodes:!1},cloudProvider:{label:"Cloud provider",value:"cloudProvider",canAddNodes:!1},cloudRegion:{label:"Cloud region",value:"cloudRegion",canAddNodes:!1},instanceType:{label:"Instance type",value:"instanceType",canAddNodes:!1}},a={r_1:"None",r_2:"Single","r_*":"Multi"},o={replication:a},l=r.none,s=r.status,i=[l,r.status,r.os,r.technology,r.version,r.replication,r.cloudProvider,r.cloudRegion,r.instanceType],c=[s,r.stability,r.replication],d={live:"success",offline:"offline",stale:"stale",unseen:"unseen"},u={r_1:["blue","indigo"],r_2:["purple","lilac"],"r_*":["purple","lilacFocus"]},m={[r.status.value]:d,[r.stability.value]:{stable:"success",unstable:"error"},[r.replication.value]:u},p={[r.os.value]:e=>({group:e.os.nm,type:e.os.id}),[r.version.value]:e=>({group:e.version}),[r.status.value]:e=>({group:e.nodeStatus}),[r.technology.value]:e=>({group:e.technology,type:e.technology}),[r.replication.value]:e=>({group:e.replicationFactor}),[r.cloudProvider.value]:e=>({group:e.labels?.cloud_provider}),[r.cloudRegion.value]:e=>({group:e.labels?._cloud_instance_region}),[r.instanceType.value]:e=>({group:e.labels?._cloud_instance_type})},g={[r.replication.value]:e=>a[e],default:e=>e},h=e=>{const t=g[e];return t||g.default},y={isHover:!1,nodes:[]}},31604:(e,t,n)=>{n.d(t,{A$:()=>s,N3:()=>p,P9:()=>v,SW:()=>h,c8:()=>c,jg:()=>m,kf:()=>y,s6:()=>d,xs:()=>x});var r=n(47444),a=n(60177),o=n(3914),l=n(69765);const s=()=>{const e=(0,o.vt)(),t=(0,l.ID)();return(0,r.L4)((0,a.nr)({spaceId:e,roomId:t}))},i=(0,r.K0)({key:"replicationStatsState",get:e=>{let{spaceId:t,roomId:n}=e;return()=>(0,a.R8)({spaceId:t,roomId:n})},set:e=>{let{spaceId:t,roomId:n}=e;return(e,r)=>{let{set:o}=e;o((0,a.R8)({spaceId:t,roomId:n}),r)}},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),c=()=>{const e=(0,o.vt)(),t=(0,l.ID)();return(0,r.vc)((0,a.R8)({spaceId:e,roomId:t}))},d=()=>{const e=(0,o.vt)(),t=(0,l.ID)();return(0,r.lZ)(i({spaceId:e,roomId:t}))},u=(0,r.K0)({key:"alertsStatsState",get:e=>{let{spaceId:t,roomId:n}=e;return()=>(0,a.GK)({spaceId:t,roomId:n})},set:e=>{let{spaceId:t,roomId:n}=e;return(e,r)=>{let{set:o}=e;o((0,a.GK)({spaceId:t,roomId:n}),r)}},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),m=()=>{const e=(0,o.vt)(),t=(0,l.ID)();return(0,r.vc)(u({spaceId:e,roomId:t}))},p=()=>{const e=(0,o.vt)(),t=(0,l.ID)();return(0,r.lZ)(u({spaceId:e,roomId:t}))},g=(0,r.K0)({key:"stabilityState",get:e=>{let{spaceId:t,roomId:n}=e;return()=>(0,a.$n)({spaceId:t,roomId:n})},set:e=>{let{spaceId:t,roomId:n}=e;return(e,r)=>{let{set:o}=e;o((0,a.$n)({spaceId:t,roomId:n}),r)}},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),h=()=>{const e=(0,o.vt)(),t=(0,l.ID)();return(0,r.vc)(g({spaceId:e,roomId:t}))},y=()=>{const e=(0,o.vt)(),t=(0,l.ID)();return(0,r.lZ)(g({spaceId:e,roomId:t}))},f=(0,r.K0)({key:"chartsStatsState",get:e=>{let{spaceId:t,roomId:n}=e;return()=>(0,a._x)({spaceId:t,roomId:n})},set:e=>{let{spaceId:t,roomId:n}=e;return(e,r)=>{let{set:o}=e;o((0,a._x)({spaceId:t,roomId:n}),r)}},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),v=()=>{const e=(0,o.vt)(),t=(0,l.ID)();return(0,r.vc)(f({spaceId:e,roomId:t}))},x=()=>{const e=(0,o.vt)(),t=(0,l.ID)();return(0,r.lZ)(f({spaceId:e,roomId:t}))}},29072:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(99090),a=n(69765),o=n(63129),l=n(3914),s=n(60177),i=n(31604);const c=()=>{const e=(0,l.vt)(),t=(0,a.ID)(),n=(0,i.s6)();(0,r.A)((()=>({enabled:!(!e||!t),force:!0,fetch:()=>(0,o.uP)(e,t),onReceive:e=>{let{data:t}=e;return n({...s.Ml,loaded:!0,...t})},onFail:e=>n({...s.Ml,loaded:!0,error:e}),pollingOptions:{pollingInterval:588e3}})),[e,t])}},18925:(e,t,n)=>{n.d(t,{xS:()=>m,yK:()=>u,z2:()=>p});var r=n(96540),a=n(3914),o=n(69765),l=n(71835),s=n(61649),i=n(37618),c=n(45894),d=n(44644);const u=function(){let{spaceId:e,roomId:t,onSuccess:n,onResolve:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const u=(0,a.vt)(),m=(0,o.ID)(),[,p]=(0,l.A)(),g=(0,d.A3)({spaceId:u,roomId:m});return(0,s.A)((function(){let{type:a,entity:o,scope:l="personal",name:s="default",path:d,value:h={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,c.xt)(e||u,{type:a,entity:o,scope:l,name:s,path:d,value:h,roomID:(0,i.ng)(t||m)}).then((e=>{let{data:t}=e;g(t),n?.(t)})).catch((e=>{p(e?.response?.data||e?.message||e)})).finally((()=>{r?.()}))}),[e,t,u,m])},m=function(e){let{spaceId:t,roomId:n,onSuccess:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const u=(0,d.ti)(e),m=(0,a.vt)(),p=(0,o.ID)(),[,g]=(0,l.A)(),h=(0,d.Vd)({spaceId:m,roomId:p});return(0,s.A)((function(){let{type:a,entity:o,scope:l,name:s,path:d,value:y}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,c.cD)(t||m,e,{type:a||u.type,entity:o||u.entity,scope:l||u.scope,name:s||u.name,path:d||u.path,value:y||u.value,version:u.version,roomID:(0,i.ng)(n||p)}).then((e=>{let{data:t}=e;h({...t,prevSetting:u}),r?.(t)})).catch((e=>{g(e?.response?.data||e?.message||e)}))}),[t,n,m,p,u])},p=function(e){let{spaceId:t,onSuccess:n,onResolve:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=(0,a.vt)(),[,i]=(0,l.A)(),u=(0,d.G4)(e,{spaceId:s});return(0,r.useCallback)((async()=>{try{const r=await(0,c.A8)(t||s,e);u(),n?.(r),o?.()}catch(r){i(r?.response?.data||r?.message||r)}}),[t,c.A8,s,e,u,n,o,i])}},45894:(e,t,n)=>{n.d(t,{A8:()=>c,Uc:()=>l,cD:()=>i,xt:()=>s});var r=n(31629),a=n(49286),o=n(37618);const l=function(e,t){let{types:n=[],entities:l=[],paths:s=[],names:i=[]}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,o.ES)(e)?Promise.resolve({data:[]}):r.A.post(`/api/v3/spaces/${e}/rooms/${(0,o.ng)(t)}/settings/search`,{types:n,entities:l,paths:s,names:i},{transform:e=>(0,a.bn)(e,{depth:0})})},s=(e,t)=>r.A.post(`/api/v3/spaces/${e}/settings`,t,{transform:a.bn}),i=(e,t,n)=>r.A.put(`/api/v3/spaces/${e}/settings/${t}`,n,{transform:a.bn}),c=(e,t)=>r.A.delete(`/api/v3/spaces/${e}/settings/${t}`,{transform:a.bn})},15041:(e,t,n)=>{n.d(t,{CB:()=>l,FU:()=>s,gc:()=>i});var r=n(47444),a=n(38819),o=n(79304);const l=(0,r.Iz)({key:"settingAtom",default:{}}),s=(0,r.Iz)({key:"settingAtom",default:[]}),i=(0,r.Iz)({key:"settingSelectionAtom",default:e=>{let{spaceId:t,roomId:n,type:r,entity:l,path:s}=e;const i=(0,a.W6)((0,o.A)([t,n,r,l,s,"setting"].join("-")));return"undefined"!==i&&"null"!==i&&i?i:null},effects:e=>{let{spaceId:t,roomId:n,type:r,entity:l,path:s}=e;return[e=>{let{onSet:i}=e;i(((e,i)=>{if(e!==i){const i=(0,o.A)([t,n,r,l,s,"setting"].join("-"));if(!e)return void(0,a.Pg)([i]);(0,a.Z8)({[i]:e})}}))}]}})},40933:(e,t,n)=>{n.d(t,{_:()=>d});n(17333),n(41393),n(14905),n(8159),n(98992),n(54520),n(81454),n(8872),n(37550);var r=n(47444),a=n(3914),o=n(69765),l=n(15041);const s={name:(e,t)=>{const n="string"===typeof t?t.toLowerCase():"";return Object.entries(e).some((e=>{let[,t]=e;return null!==t&&"undefined"!==typeof t&&(Array.isArray(t)?t.some((e=>String(e).toLowerCase().includes(n))):("object"===typeof t&&Object.keys(t).some((e=>String(t[e]).toLowerCase().includes(n))),String(t).toLowerCase().includes(n)))}))}},i=e=>t=>!e.some((e=>{let[n,r]=e;return s[n]?!s[n](t,r):!(e=>(t,n)=>{if(!Array.isArray(n)||!n.length)return!0;let r=t[e];return"number"===typeof r?(r=parseFloat(r),n.some((e=>parseFloat(e)===r))):n.includes(r)})(n)(t,r)})),c=(0,r.K0)({key:"settingsFiltered",get:e=>{let{spaceId:t,roomId:n,omit:r,keepAll:a,params:o}=e;return e=>{let{get:s}=e;const c=s((0,l.FU)({spaceId:t,roomId:n}));if(!c)return c||[];const d=r?r.split(":::"):[],u=Object.keys(o).reduce(((e,t)=>(d.includes(t)||e.push([t,o[t]]),e)),[]);if(!u.length)return c;const m=i(u);return a?c.map((e=>m(e)?e:{...e,hidden:!0})):c.filter((e=>m(e)))}},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),d=function(){let{spaceId:e,roomId:t,omit:n,keepAll:l=!1,params:s={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=(0,a.vt)(),d=(0,o.ID)();return(0,r.vc)(c({spaceId:e||i,roomId:t||d,omit:n,keepAll:l,params:s}))}},44644:(e,t,n)=>{n.d(t,{A3:()=>h,CS:()=>I,G4:()=>x,Mg:()=>p,Vd:()=>f,WY:()=>A,ti:()=>m});n(17333),n(9920),n(14905),n(98992),n(54520),n(3949),n(8872);var r=n(96540),a=n(47444),o=n(21283),l=n.n(o),s=n(65570),i=n(3914),c=n(69765),d=n(15041);const u=(0,a.K0)({key:"settingSelector",get:e=>t=>{let{get:n}=t;return n((0,d.CB)(e))},set:e=>(t,n)=>{let{set:r}=t;r((0,d.CB)(e),(e=>({...e,...n})))}}),m=e=>(0,a.vc)(u(e)),p=(0,a.K0)({key:"settingsInitialize",get:()=>()=>null,set:e=>{let{spaceId:t,roomId:n}=e;return(e,r)=>{let{set:a}=e;a((0,d.FU)({spaceId:t,roomId:n}),(e=>l()(e,r,((e,t)=>(0,s.Ay)(e,t,{keep:["scope","type","entity","path","name"]}))))),r.forEach((e=>{a(u(e.id),e)}))}}}),g=(0,a.K0)({key:"settingCreate",get:()=>()=>null,set:e=>{let{spaceId:t,roomId:n}=e;return(e,r)=>{let{set:a}=e;a((0,d.FU)({spaceId:t,roomId:n}),(e=>l()(e,[r],((e,t)=>(0,s.Ay)(e,t,{keep:["scope","type","entity","path","name"]}))))),a(u(r.id),r),a((0,d.gc)({spaceId:t,roomId:n,type:r.type,entity:r.entity,path:r.path}),r.id)}}}),h=function(){let{spaceId:e,roomId:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=(0,i.vt)(),o=(0,c.ID)(),l=(0,a.lZ)(g({spaceId:e||n,roomId:t||o}));return(0,r.useCallback)((e=>l(e)))},y=(0,a.K0)({key:"settingUpdate",get:()=>()=>null,set:e=>{let{spaceId:t,roomId:n}=e;return(e,r)=>{let{set:a}=e;const{prevSetting:o,...l}=r;a((0,d.FU)({spaceId:t,roomId:n}),(e=>e.reduce(((e,t)=>(t.scope===o.scope&&t.type===o.type&&t.entity===o.entity&&t.path===o.path&&t.name===o.name?e.push({...t,...l}):e.push(t),e)),[]))),a(u(l.id),l),a((0,d.gc)({spaceId:t,roomId:n,type:l.type,entity:l.entity,path:l.path}),l.id)}}}),f=function(){let{spaceId:e,roomId:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=(0,i.vt)(),o=(0,c.ID)(),l=(0,a.lZ)(y({spaceId:e||n,roomId:t||o}));return(0,r.useCallback)((e=>l(e)))},v=(0,a.K0)({key:"settingRemove",get:()=>()=>null,set:e=>{let{spaceId:t,roomId:n}=e;return(e,r)=>{let{get:a,set:o}=e;o((0,d.FU)({spaceId:t,roomId:n}),(e=>e.filter((e=>e.id!==r.id)))),a((0,d.gc)({spaceId:t,roomId:n,type:r.type,entity:r.entity,path:r.path}))===r.id&&o((0,d.gc)({spaceId:t,roomId:n,type:r.type,entity:r.entity,path:r.path}),a((0,d.FU)({spaceId:t,roomId:n}))[0]?.id||null)}}}),x=function(e){let{spaceId:t,roomId:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=m(e),l=(0,i.vt)(),s=(0,c.ID)(),d=(0,a.lZ)(v({spaceId:t||l,roomId:n||s}));return(0,r.useCallback)((()=>d(o)))},b={},I=e=>{let{spaceId:t,roomId:n,type:r,entity:o,path:l}=e;const s=(0,i.vt)(),d=(0,c.ID)();let u=(0,a.vc)(E({spaceId:t||s,roomId:n||d,type:r,entity:o,path:l}));return m(u)?.value||b},E=(0,a.K0)({key:"settingSelectionSelector",get:e=>{let{spaceId:t,roomId:n,type:r,entity:a,path:o}=e;return e=>{let{get:l}=e,s=l((0,d.gc)({spaceId:t,roomId:n,type:r,entity:a,path:o}));if(null===s){const e=l((0,d.FU)({spaceId:t,roomId:n}));e.length&&(s=e.filter((e=>e.type===r&&e.entity===a&&e.path===o))[0]?.id)}return s}},set:e=>{let{spaceId:t,roomId:n,type:r,entity:a,path:o}=e;return(e,l)=>{let{set:s}=e;s((0,d.gc)({spaceId:t,roomId:n,type:r,entity:a,path:o}),(e=>e===l?null:l))}}}),A=e=>{let{spaceId:t,roomId:n,type:r,entity:o,path:l}=e;const s=(0,i.vt)(),d=(0,c.ID)();return(0,a.L4)(E({spaceId:t||s,roomId:n||d,type:r,entity:o,path:l}))}},6200:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(96540),a=n(3914),o=n(68831);const{demoSlug:l}=o.A,s=()=>{const e=(0,a.bq)();return{isDemo:(0,r.useMemo)((()=>l===e),[e])}}},55483:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(96540),a=n(83488),o=n.n(a),l=n(2404),s=n.n(l),i=n(66814);const c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o();const n=(0,r.useRef)();return(0,i.i7)(e,(e=>{const r=t(e);return s()(n.current,r)||(n.current=r),n.current}))}},99090:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(96540),a=n(63950),o=n.n(a),l=n(80925),s=n(68831),i=n(18300),c=n(22292);const d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=(0,l.eg)(),a=(0,r.useMemo)((()=>n?n.getRoot():null),[n]),d=(0,r.useMemo)(e,t),u=(0,r.useRef)(!0),m=(0,r.useRef)({timeoutId:null,promise:null}),[,p]=(0,i.A)(),g=(0,r.useCallback)((e=>{u.current=!1;const{fetch:t,onStart:n=o(),onFail:r=o(),onPollingFail:l=o(),onReceive:i=o(),onSettle:c=o(),onBlurMode:g=o(),polling:h=!0,pollingOptions:y}=d;n(e),m.current={timeoutId:null,promise:null};const f=()=>(m.current.promise=t(e),m.current.promise.then(i).catch((e=>{if(!e.isCancel)throw e})),m.current.promise),v=()=>{m.current.timeoutId=setTimeout((()=>{if(y?.shouldPause&&a&&(a.getAttribute("hovering")||a.getAttribute("paused"))||!p.current&&(!a||!a.getAttribute("autofetchOnWindowBlur")))return g(),v();f().then((()=>!u.current&&h&&v())).catch((e=>{e.isCancel||l(e),!u.current&&!e.isCancel&&h&&v()}))}),y?.pollingInterval||s.A.pollingInterval)};return f().then((()=>!u.current&&h&&v())).catch((e=>{e.isCancel||r(e),u.current||!h||e.isCancel||v()})).finally(c),()=>{u.current=!0,m.current.promise?.cancel?.(),clearTimeout(m.current.timeoutId)}}),t),h=(0,c.uW)("isAnonymous");return(0,r.useEffect)((()=>{const{enabled:e=!0,force:t=!1,skip:n=!1}=d;if((!h||t)&&!n)return e?g():void 0}),[h,g]),g.clearRef=m,g}}}]);